const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/raw-in9isEBO.js","assets/basedecoder-B2c5_Eok.js","assets/lzw-_aCqfs4w.js","assets/jpeg-JhJy4lL1.js","assets/deflate-Dthki0TA.js","assets/pako.esm-BkaqWuDM.js","assets/packbits-DDWKfGV_.js","assets/lerc-DU-3Rgyh.js","assets/webimage-DBgUwIbt.js"])))=>i.map(i=>d[i]);
var sI=Object.defineProperty;var oI=(t,e,n)=>e in t?sI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var jv=(t,e,n)=>oI(t,typeof e!="symbol"?e+"":e,n);function aI(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Qu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _S={exports:{}},_d={},yS={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=Symbol.for("react.element"),lI=Symbol.for("react.portal"),uI=Symbol.for("react.fragment"),cI=Symbol.for("react.strict_mode"),hI=Symbol.for("react.profiler"),fI=Symbol.for("react.provider"),dI=Symbol.for("react.context"),gI=Symbol.for("react.forward_ref"),mI=Symbol.for("react.suspense"),pI=Symbol.for("react.memo"),_I=Symbol.for("react.lazy"),$v=Symbol.iterator;function yI(t){return t===null||typeof t!="object"?null:(t=$v&&t[$v]||t["@@iterator"],typeof t=="function"?t:null)}var vS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ES=Object.assign,xS={};function Ua(t,e,n){this.props=t,this.context=e,this.refs=xS,this.updater=n||vS}Ua.prototype.isReactComponent={};Ua.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ua.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wS(){}wS.prototype=Ua.prototype;function S_(t,e,n){this.props=t,this.context=e,this.refs=xS,this.updater=n||vS}var C_=S_.prototype=new wS;C_.constructor=S_;ES(C_,Ua.prototype);C_.isPureReactComponent=!0;var zv=Array.isArray,SS=Object.prototype.hasOwnProperty,T_={current:null},CS={key:!0,ref:!0,__self:!0,__source:!0};function TS(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)SS.call(e,i)&&!CS.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ec,type:t,key:s,ref:o,props:r,_owner:T_.current}}function vI(t,e){return{$$typeof:ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function b_(t){return typeof t=="object"&&t!==null&&t.$$typeof===ec}function EI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Bv=/\/+/g;function Fg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EI(""+t.key):e.toString(36)}function Oh(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ec:case lI:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Fg(o,0):i,zv(r)?(n="",t!=null&&(n=t.replace(Bv,"$&/")+"/"),Oh(r,e,n,"",function(u){return u})):r!=null&&(b_(r)&&(r=vI(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Bv,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",zv(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Fg(s,a);o+=Oh(s,e,n,l,r)}else if(l=yI(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Fg(s,a++),o+=Oh(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kc(t,e,n){if(t==null)return t;var i=[],r=0;return Oh(t,i,"","",function(s){return e.call(n,s,r++)}),i}function xI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kt={current:null},Lh={transition:null},wI={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:Lh,ReactCurrentOwner:T_};function bS(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:kc,forEach:function(t,e,n){kc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kc(t,function(){e++}),e},toArray:function(t){return kc(t,function(e){return e})||[]},only:function(t){if(!b_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=Ua;ye.Fragment=uI;ye.Profiler=hI;ye.PureComponent=S_;ye.StrictMode=cI;ye.Suspense=mI;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wI;ye.act=bS;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=ES({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=T_.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)SS.call(e,l)&&!CS.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:ec,type:t.type,key:r,ref:s,props:i,_owner:o}};ye.createContext=function(t){return t={$$typeof:dI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fI,_context:t},t.Consumer=t};ye.createElement=TS;ye.createFactory=function(t){var e=TS.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:gI,render:t}};ye.isValidElement=b_;ye.lazy=function(t){return{$$typeof:_I,_payload:{_status:-1,_result:t},_init:xI}};ye.memo=function(t,e){return{$$typeof:pI,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Lh.transition;Lh.transition={};try{t()}finally{Lh.transition=e}};ye.unstable_act=bS;ye.useCallback=function(t,e){return Kt.current.useCallback(t,e)};ye.useContext=function(t){return Kt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Kt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Kt.current.useEffect(t,e)};ye.useId=function(){return Kt.current.useId()};ye.useImperativeHandle=function(t,e,n){return Kt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Kt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Kt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Kt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Kt.current.useReducer(t,e,n)};ye.useRef=function(t){return Kt.current.useRef(t)};ye.useState=function(t){return Kt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Kt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Kt.current.useTransition()};ye.version="18.3.1";yS.exports=ye;var T=yS.exports;const M_=Qu(T),fm=aI({__proto__:null,default:M_},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SI=T,CI=Symbol.for("react.element"),TI=Symbol.for("react.fragment"),bI=Object.prototype.hasOwnProperty,MI=SI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RI={key:!0,ref:!0,__self:!0,__source:!0};function MS(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)bI.call(e,i)&&!RI.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:CI,type:t,key:s,ref:o,props:r,_owner:MI.current}}_d.Fragment=TI;_d.jsx=MS;_d.jsxs=MS;_S.exports=_d;var A=_S.exports,RS={exports:{}},Tn={},PS={exports:{}},IS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,F){var D=P.length;P.push(F);e:for(;0<D;){var G=D-1>>>1,R=P[G];if(0<r(R,F))P[G]=F,P[D]=R,D=G;else break e}}function n(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var F=P[0],D=P.pop();if(D!==F){P[0]=D;e:for(var G=0,R=P.length,X=R>>>1;G<X;){var K=2*(G+1)-1,H=P[K],J=K+1,te=P[J];if(0>r(H,D))J<R&&0>r(te,H)?(P[G]=te,P[J]=D,G=J):(P[G]=H,P[K]=D,G=K);else if(J<R&&0>r(te,D))P[G]=te,P[J]=D,G=J;else break e}}return F}function r(P,F){var D=P.sortIndex-F.sortIndex;return D!==0?D:P.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,g=!1,d=!1,p=!1,m=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var F=n(u);F!==null;){if(F.callback===null)i(u);else if(F.startTime<=P)i(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function E(P){if(p=!1,v(P),!d)if(n(l)!==null)d=!0,j(x);else{var F=n(u);F!==null&&B(E,F.startTime-P)}}function x(P,F){d=!1,p&&(p=!1,_(C),C=-1),g=!0;var D=f;try{for(v(F),h=n(l);h!==null&&(!(h.expirationTime>F)||P&&!L());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var R=G(h.expirationTime<=F);F=t.unstable_now(),typeof R=="function"?h.callback=R:h===n(l)&&i(l),v(F)}else i(l);h=n(l)}if(h!==null)var X=!0;else{var K=n(u);K!==null&&B(E,K.startTime-F),X=!1}return X}finally{h=null,f=D,g=!1}}var S=!1,w=null,C=-1,M=5,b=-1;function L(){return!(t.unstable_now()-b<M)}function O(){if(w!==null){var P=t.unstable_now();b=P;var F=!0;try{F=w(!0,P)}finally{F?N():(S=!1,w=null)}}else S=!1}var N;if(typeof y=="function")N=function(){y(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,U=$.port2;$.port1.onmessage=O,N=function(){U.postMessage(null)}}else N=function(){m(O,0)};function j(P){w=P,S||(S=!0,N())}function B(P,F){C=m(function(){P(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){d||g||(d=!0,j(x))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var D=f;f=F;try{return P()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,F){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=f;f=P;try{return F()}finally{f=D}},t.unstable_scheduleCallback=function(P,F,D){var G=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?G+D:G):D=G,P){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=D+R,P={id:c++,callback:F,priorityLevel:P,startTime:D,expirationTime:R,sortIndex:-1},D>G?(P.sortIndex=D,e(u,P),n(l)===null&&P===n(u)&&(p?(_(C),C=-1):p=!0,B(E,D-G))):(P.sortIndex=R,e(l,P),d||g||(d=!0,j(x))),P},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(P){var F=f;return function(){var D=f;f=F;try{return P.apply(this,arguments)}finally{f=D}}}})(IS);PS.exports=IS;var PI=PS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var II=T,Sn=PI;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AS=new Set,lu={};function no(t,e){pa(t,e),pa(t+"Capture",e)}function pa(t,e){for(lu[t]=e,t=0;t<e.length;t++)AS.add(e[t])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dm=Object.prototype.hasOwnProperty,AI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vv={},Wv={};function OI(t){return dm.call(Wv,t)?!0:dm.call(Vv,t)?!1:AI.test(t)?Wv[t]=!0:(Vv[t]=!0,!1)}function LI(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kI(t,e,n,i){if(e===null||typeof e>"u"||LI(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var R_=/[\-:]([a-z])/g;function P_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(R_,P_);Tt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(R_,P_);Tt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(R_,P_);Tt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function I_(t,e,n,i){var r=Tt.hasOwnProperty(e)?Tt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kI(e,n,r,i)&&(n=null),i||r===null?OI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var _r=II.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fc=Symbol.for("react.element"),Po=Symbol.for("react.portal"),Io=Symbol.for("react.fragment"),A_=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),OS=Symbol.for("react.provider"),LS=Symbol.for("react.context"),O_=Symbol.for("react.forward_ref"),mm=Symbol.for("react.suspense"),pm=Symbol.for("react.suspense_list"),L_=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),kS=Symbol.for("react.offscreen"),Xv=Symbol.iterator;function cl(t){return t===null||typeof t!="object"?null:(t=Xv&&t[Xv]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Dg;function Ml(t){if(Dg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dg=e&&e[1]||""}return`
`+Dg+t}var Ng=!1;function Gg(t,e){if(!t||Ng)return"";Ng=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ng=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ml(t):""}function FI(t){switch(t.tag){case 5:return Ml(t.type);case 16:return Ml("Lazy");case 13:return Ml("Suspense");case 19:return Ml("SuspenseList");case 0:case 2:case 15:return t=Gg(t.type,!1),t;case 11:return t=Gg(t.type.render,!1),t;case 1:return t=Gg(t.type,!0),t;default:return""}}function _m(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Io:return"Fragment";case Po:return"Portal";case gm:return"Profiler";case A_:return"StrictMode";case mm:return"Suspense";case pm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LS:return(t.displayName||"Context")+".Consumer";case OS:return(t._context.displayName||"Context")+".Provider";case O_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L_:return e=t.displayName||null,e!==null?e:_m(t.type)||"Memo";case Ir:e=t._payload,t=t._init;try{return _m(t(e))}catch{}}return null}function DI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _m(e);case 8:return e===A_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NI(t){var e=FS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dc(t){t._valueTracker||(t._valueTracker=NI(t))}function DS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=FS(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function lf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ym(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hv(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NS(t,e){e=e.checked,e!=null&&I_(t,"checked",e,!1)}function vm(t,e){NS(t,e);var n=Qr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Em(t,e.type,n):e.hasOwnProperty("defaultValue")&&Em(t,e.type,Qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Em(t,e,n){(e!=="number"||lf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rl=Array.isArray;function Qo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Qr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function xm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(Rl(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qr(n)}}function GS(t,e){var n=Qr(e.value),i=Qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function qv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function US(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?US(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nc,jS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nc=Nc||document.createElement("div"),Nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function uu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GI=["Webkit","ms","Moz","O"];Object.keys($l).forEach(function(t){GI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$l[e]=$l[t]})});function $S(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$l.hasOwnProperty(t)&&$l[t]?(""+e).trim():e+"px"}function zS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=$S(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var UI=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sm(t,e){if(e){if(UI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function Cm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tm=null;function k_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bm=null,ea=null,ta=null;function Zv(t){if(t=ic(t)){if(typeof bm!="function")throw Error(V(280));var e=t.stateNode;e&&(e=wd(e),bm(t.stateNode,t.type,e))}}function BS(t){ea?ta?ta.push(t):ta=[t]:ea=t}function VS(){if(ea){var t=ea,e=ta;if(ta=ea=null,Zv(t),e)for(t=0;t<e.length;t++)Zv(e[t])}}function WS(t,e){return t(e)}function XS(){}var Ug=!1;function HS(t,e,n){if(Ug)return t(e,n);Ug=!0;try{return WS(t,e,n)}finally{Ug=!1,(ea!==null||ta!==null)&&(XS(),VS())}}function cu(t,e){var n=t.stateNode;if(n===null)return null;var i=wd(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var Mm=!1;if(lr)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){Mm=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{Mm=!1}function jI(t,e,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var zl=!1,uf=null,cf=!1,Rm=null,$I={onError:function(t){zl=!0,uf=t}};function zI(t,e,n,i,r,s,o,a,l){zl=!1,uf=null,jI.apply($I,arguments)}function BI(t,e,n,i,r,s,o,a,l){if(zI.apply(this,arguments),zl){if(zl){var u=uf;zl=!1,uf=null}else throw Error(V(198));cf||(cf=!0,Rm=u)}}function io(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jv(t){if(io(t)!==t)throw Error(V(188))}function VI(t){var e=t.alternate;if(!e){if(e=io(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Jv(r),t;if(s===i)return Jv(r),e;s=s.sibling}throw Error(V(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==i)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function YS(t){return t=VI(t),t!==null?qS(t):null}function qS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qS(t);if(e!==null)return e;t=t.sibling}return null}var ZS=Sn.unstable_scheduleCallback,Qv=Sn.unstable_cancelCallback,WI=Sn.unstable_shouldYield,XI=Sn.unstable_requestPaint,tt=Sn.unstable_now,HI=Sn.unstable_getCurrentPriorityLevel,F_=Sn.unstable_ImmediatePriority,JS=Sn.unstable_UserBlockingPriority,hf=Sn.unstable_NormalPriority,KI=Sn.unstable_LowPriority,QS=Sn.unstable_IdlePriority,yd=null,ki=null;function YI(t){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(yd,t,void 0,(t.current.flags&128)===128)}catch{}}var si=Math.clz32?Math.clz32:JI,qI=Math.log,ZI=Math.LN2;function JI(t){return t>>>=0,t===0?32:31-(qI(t)/ZI|0)|0}var Gc=64,Uc=4194304;function Pl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ff(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Pl(a):(s&=o,s!==0&&(i=Pl(s)))}else o=n&~r,o!==0?i=Pl(o):s!==0&&(i=Pl(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-si(e),r=1<<n,i|=t[n],e&=~r;return i}function QI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eA(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-si(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=QI(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Pm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eC(){var t=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),t}function jg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-si(e),t[e]=n}function tA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-si(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function D_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-si(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Le=0;function tC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nC,N_,iC,rC,sC,Im=!1,jc=[],zr=null,Br=null,Vr=null,hu=new Map,fu=new Map,kr=[],nA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eE(t,e){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":hu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(e.pointerId)}}function fl(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=ic(e),e!==null&&N_(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function iA(t,e,n,i,r){switch(e){case"focusin":return zr=fl(zr,t,e,n,i,r),!0;case"dragenter":return Br=fl(Br,t,e,n,i,r),!0;case"mouseover":return Vr=fl(Vr,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return hu.set(s,fl(hu.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,fu.set(s,fl(fu.get(s)||null,t,e,n,i,r)),!0}return!1}function oC(t){var e=Ps(t.target);if(e!==null){var n=io(e);if(n!==null){if(e=n.tag,e===13){if(e=KS(n),e!==null){t.blockedOn=e,sC(t.priority,function(){iC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Am(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Tm=i,n.target.dispatchEvent(i),Tm=null}else return e=ic(n),e!==null&&N_(e),t.blockedOn=n,!1;e.shift()}return!0}function tE(t,e,n){kh(t)&&n.delete(e)}function rA(){Im=!1,zr!==null&&kh(zr)&&(zr=null),Br!==null&&kh(Br)&&(Br=null),Vr!==null&&kh(Vr)&&(Vr=null),hu.forEach(tE),fu.forEach(tE)}function dl(t,e){t.blockedOn===e&&(t.blockedOn=null,Im||(Im=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,rA)))}function du(t){function e(r){return dl(r,t)}if(0<jc.length){dl(jc[0],t);for(var n=1;n<jc.length;n++){var i=jc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(zr!==null&&dl(zr,t),Br!==null&&dl(Br,t),Vr!==null&&dl(Vr,t),hu.forEach(e),fu.forEach(e),n=0;n<kr.length;n++)i=kr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<kr.length&&(n=kr[0],n.blockedOn===null);)oC(n),n.blockedOn===null&&kr.shift()}var na=_r.ReactCurrentBatchConfig,df=!0;function sA(t,e,n,i){var r=Le,s=na.transition;na.transition=null;try{Le=1,G_(t,e,n,i)}finally{Le=r,na.transition=s}}function oA(t,e,n,i){var r=Le,s=na.transition;na.transition=null;try{Le=4,G_(t,e,n,i)}finally{Le=r,na.transition=s}}function G_(t,e,n,i){if(df){var r=Am(t,e,n,i);if(r===null)qg(t,e,i,gf,n),eE(t,i);else if(iA(r,t,e,n,i))i.stopPropagation();else if(eE(t,i),e&4&&-1<nA.indexOf(t)){for(;r!==null;){var s=ic(r);if(s!==null&&nC(s),s=Am(t,e,n,i),s===null&&qg(t,e,i,gf,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else qg(t,e,i,null,n)}}var gf=null;function Am(t,e,n,i){if(gf=null,t=k_(i),t=Ps(t),t!==null)if(e=io(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gf=t,null}function aC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HI()){case F_:return 1;case JS:return 4;case hf:case KI:return 16;case QS:return 536870912;default:return 16}default:return 16}}var Dr=null,U_=null,Fh=null;function lC(){if(Fh)return Fh;var t,e=U_,n=e.length,i,r="value"in Dr?Dr.value:Dr.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Fh=r.slice(t,1<i?1-i:void 0)}function Dh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $c(){return!0}function nE(){return!1}function bn(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$c:nE,this.isPropagationStopped=nE,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c}),e}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j_=bn(ja),nc=He({},ja,{view:0,detail:0}),aA=bn(nc),$g,zg,gl,vd=He({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gl&&(gl&&t.type==="mousemove"?($g=t.screenX-gl.screenX,zg=t.screenY-gl.screenY):zg=$g=0,gl=t),$g)},movementY:function(t){return"movementY"in t?t.movementY:zg}}),iE=bn(vd),lA=He({},vd,{dataTransfer:0}),uA=bn(lA),cA=He({},nc,{relatedTarget:0}),Bg=bn(cA),hA=He({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),fA=bn(hA),dA=He({},ja,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gA=bn(dA),mA=He({},ja,{data:0}),rE=bn(mA),pA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_A={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yA[t])?!!e[t]:!1}function $_(){return vA}var EA=He({},nc,{key:function(t){if(t.key){var e=pA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_A[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$_,charCode:function(t){return t.type==="keypress"?Dh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xA=bn(EA),wA=He({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sE=bn(wA),SA=He({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$_}),CA=bn(SA),TA=He({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),bA=bn(TA),MA=He({},vd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RA=bn(MA),PA=[9,13,27,32],z_=lr&&"CompositionEvent"in window,Bl=null;lr&&"documentMode"in document&&(Bl=document.documentMode);var IA=lr&&"TextEvent"in window&&!Bl,uC=lr&&(!z_||Bl&&8<Bl&&11>=Bl),oE=" ",aE=!1;function cC(t,e){switch(t){case"keyup":return PA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ao=!1;function AA(t,e){switch(t){case"compositionend":return hC(e);case"keypress":return e.which!==32?null:(aE=!0,oE);case"textInput":return t=e.data,t===oE&&aE?null:t;default:return null}}function OA(t,e){if(Ao)return t==="compositionend"||!z_&&cC(t,e)?(t=lC(),Fh=U_=Dr=null,Ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uC&&e.locale!=="ko"?null:e.data;default:return null}}var LA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LA[t.type]:e==="textarea"}function fC(t,e,n,i){BS(i),e=mf(e,"onChange"),0<e.length&&(n=new j_("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Vl=null,gu=null;function kA(t){SC(t,0)}function Ed(t){var e=ko(t);if(DS(e))return t}function FA(t,e){if(t==="change")return e}var dC=!1;if(lr){var Vg;if(lr){var Wg="oninput"in document;if(!Wg){var uE=document.createElement("div");uE.setAttribute("oninput","return;"),Wg=typeof uE.oninput=="function"}Vg=Wg}else Vg=!1;dC=Vg&&(!document.documentMode||9<document.documentMode)}function cE(){Vl&&(Vl.detachEvent("onpropertychange",gC),gu=Vl=null)}function gC(t){if(t.propertyName==="value"&&Ed(gu)){var e=[];fC(e,gu,t,k_(t)),HS(kA,e)}}function DA(t,e,n){t==="focusin"?(cE(),Vl=e,gu=n,Vl.attachEvent("onpropertychange",gC)):t==="focusout"&&cE()}function NA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ed(gu)}function GA(t,e){if(t==="click")return Ed(e)}function UA(t,e){if(t==="input"||t==="change")return Ed(e)}function jA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ci=typeof Object.is=="function"?Object.is:jA;function mu(t,e){if(ci(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!dm.call(e,r)||!ci(t[r],e[r]))return!1}return!0}function hE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fE(t,e){var n=hE(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hE(n)}}function mC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pC(){for(var t=window,e=lf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lf(t.document)}return e}function B_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $A(t){var e=pC(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mC(n.ownerDocument.documentElement,n)){if(i!==null&&B_(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=fE(n,s);var o=fE(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zA=lr&&"documentMode"in document&&11>=document.documentMode,Oo=null,Om=null,Wl=null,Lm=!1;function dE(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lm||Oo==null||Oo!==lf(i)||(i=Oo,"selectionStart"in i&&B_(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Wl&&mu(Wl,i)||(Wl=i,i=mf(Om,"onSelect"),0<i.length&&(e=new j_("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Oo)))}function zc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Lo={animationend:zc("Animation","AnimationEnd"),animationiteration:zc("Animation","AnimationIteration"),animationstart:zc("Animation","AnimationStart"),transitionend:zc("Transition","TransitionEnd")},Xg={},_C={};lr&&(_C=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function xd(t){if(Xg[t])return Xg[t];if(!Lo[t])return t;var e=Lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _C)return Xg[t]=e[n];return t}var yC=xd("animationend"),vC=xd("animationiteration"),EC=xd("animationstart"),xC=xd("transitionend"),wC=new Map,gE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cs(t,e){wC.set(t,e),no(e,[t])}for(var Hg=0;Hg<gE.length;Hg++){var Kg=gE[Hg],BA=Kg.toLowerCase(),VA=Kg[0].toUpperCase()+Kg.slice(1);cs(BA,"on"+VA)}cs(yC,"onAnimationEnd");cs(vC,"onAnimationIteration");cs(EC,"onAnimationStart");cs("dblclick","onDoubleClick");cs("focusin","onFocus");cs("focusout","onBlur");cs(xC,"onTransitionEnd");pa("onMouseEnter",["mouseout","mouseover"]);pa("onMouseLeave",["mouseout","mouseover"]);pa("onPointerEnter",["pointerout","pointerover"]);pa("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Il));function mE(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,BI(i,e,void 0,t),t.currentTarget=null}function SC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;mE(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;mE(r,a,u),s=l}}}if(cf)throw t=Rm,cf=!1,Rm=null,t}function Ue(t,e){var n=e[Gm];n===void 0&&(n=e[Gm]=new Set);var i=t+"__bubble";n.has(i)||(CC(e,t,2,!1),n.add(i))}function Yg(t,e,n){var i=0;e&&(i|=4),CC(n,t,i,e)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function pu(t){if(!t[Bc]){t[Bc]=!0,AS.forEach(function(n){n!=="selectionchange"&&(WA.has(n)||Yg(n,!1,t),Yg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bc]||(e[Bc]=!0,Yg("selectionchange",!1,e))}}function CC(t,e,n,i){switch(aC(e)){case 1:var r=sA;break;case 4:r=oA;break;default:r=G_}n=r.bind(null,e,n,t),r=void 0,!Mm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function qg(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ps(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}HS(function(){var u=s,c=k_(n),h=[];e:{var f=wC.get(t);if(f!==void 0){var g=j_,d=t;switch(t){case"keypress":if(Dh(n)===0)break e;case"keydown":case"keyup":g=xA;break;case"focusin":d="focus",g=Bg;break;case"focusout":d="blur",g=Bg;break;case"beforeblur":case"afterblur":g=Bg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=iE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=uA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=CA;break;case yC:case vC:case EC:g=fA;break;case xC:g=bA;break;case"scroll":g=aA;break;case"wheel":g=RA;break;case"copy":case"cut":case"paste":g=gA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=sE}var p=(e&4)!==0,m=!p&&t==="scroll",_=p?f!==null?f+"Capture":null:f;p=[];for(var y=u,v;y!==null;){v=y;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,_!==null&&(E=cu(y,_),E!=null&&p.push(_u(y,E,v)))),m)break;y=y.return}0<p.length&&(f=new g(f,d,null,n,c),h.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Tm&&(d=n.relatedTarget||n.fromElement)&&(Ps(d)||d[ur]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(d=n.relatedTarget||n.toElement,g=u,d=d?Ps(d):null,d!==null&&(m=io(d),d!==m||d.tag!==5&&d.tag!==6)&&(d=null)):(g=null,d=u),g!==d)){if(p=iE,E="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(p=sE,E="onPointerLeave",_="onPointerEnter",y="pointer"),m=g==null?f:ko(g),v=d==null?f:ko(d),f=new p(E,y+"leave",g,n,c),f.target=m,f.relatedTarget=v,E=null,Ps(c)===u&&(p=new p(_,y+"enter",d,n,c),p.target=v,p.relatedTarget=m,E=p),m=E,g&&d)t:{for(p=g,_=d,y=0,v=p;v;v=lo(v))y++;for(v=0,E=_;E;E=lo(E))v++;for(;0<y-v;)p=lo(p),y--;for(;0<v-y;)_=lo(_),v--;for(;y--;){if(p===_||_!==null&&p===_.alternate)break t;p=lo(p),_=lo(_)}p=null}else p=null;g!==null&&pE(h,f,g,p,!1),d!==null&&m!==null&&pE(h,m,d,p,!0)}}e:{if(f=u?ko(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var x=FA;else if(lE(f))if(dC)x=UA;else{x=NA;var S=DA}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=GA);if(x&&(x=x(t,u))){fC(h,x,n,c);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Em(f,"number",f.value)}switch(S=u?ko(u):window,t){case"focusin":(lE(S)||S.contentEditable==="true")&&(Oo=S,Om=u,Wl=null);break;case"focusout":Wl=Om=Oo=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,dE(h,n,c);break;case"selectionchange":if(zA)break;case"keydown":case"keyup":dE(h,n,c)}var w;if(z_)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ao?cC(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(uC&&n.locale!=="ko"&&(Ao||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ao&&(w=lC()):(Dr=c,U_="value"in Dr?Dr.value:Dr.textContent,Ao=!0)),S=mf(u,C),0<S.length&&(C=new rE(C,t,null,n,c),h.push({event:C,listeners:S}),w?C.data=w:(w=hC(n),w!==null&&(C.data=w)))),(w=IA?AA(t,n):OA(t,n))&&(u=mf(u,"onBeforeInput"),0<u.length&&(c=new rE("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=w))}SC(h,e)})}function _u(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mf(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=cu(t,n),s!=null&&i.unshift(_u(t,s,r)),s=cu(t,e),s!=null&&i.push(_u(t,s,r))),t=t.return}return i}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pE(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=cu(n,s),l!=null&&o.unshift(_u(n,l,a))):r||(l=cu(n,s),l!=null&&o.push(_u(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var XA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function _E(t){return(typeof t=="string"?t:""+t).replace(XA,`
`).replace(HA,"")}function Vc(t,e,n){if(e=_E(e),_E(t)!==e&&n)throw Error(V(425))}function pf(){}var km=null,Fm=null;function Dm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nm=typeof setTimeout=="function"?setTimeout:void 0,KA=typeof clearTimeout=="function"?clearTimeout:void 0,yE=typeof Promise=="function"?Promise:void 0,YA=typeof queueMicrotask=="function"?queueMicrotask:typeof yE<"u"?function(t){return yE.resolve(null).then(t).catch(qA)}:Nm;function qA(t){setTimeout(function(){throw t})}function Zg(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),du(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);du(e)}function Wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $a=Math.random().toString(36).slice(2),Ri="__reactFiber$"+$a,yu="__reactProps$"+$a,ur="__reactContainer$"+$a,Gm="__reactEvents$"+$a,ZA="__reactListeners$"+$a,JA="__reactHandles$"+$a;function Ps(t){var e=t[Ri];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ur]||n[Ri]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vE(t);t!==null;){if(n=t[Ri])return n;t=vE(t)}return e}t=n,n=t.parentNode}return null}function ic(t){return t=t[Ri]||t[ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function wd(t){return t[yu]||null}var Um=[],Fo=-1;function hs(t){return{current:t}}function je(t){0>Fo||(t.current=Um[Fo],Um[Fo]=null,Fo--)}function Ne(t,e){Fo++,Um[Fo]=t.current,t.current=e}var es={},Ut=hs(es),ln=hs(!1),zs=es;function _a(t,e){var n=t.type.contextTypes;if(!n)return es;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function un(t){return t=t.childContextTypes,t!=null}function _f(){je(ln),je(Ut)}function EE(t,e,n){if(Ut.current!==es)throw Error(V(168));Ne(Ut,e),Ne(ln,n)}function TC(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(V(108,DI(t)||"Unknown",r));return He({},n,i)}function yf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||es,zs=Ut.current,Ne(Ut,t),Ne(ln,ln.current),!0}function xE(t,e,n){var i=t.stateNode;if(!i)throw Error(V(169));n?(t=TC(t,e,zs),i.__reactInternalMemoizedMergedChildContext=t,je(ln),je(Ut),Ne(Ut,t)):je(ln),Ne(ln,n)}var Ji=null,Sd=!1,Jg=!1;function bC(t){Ji===null?Ji=[t]:Ji.push(t)}function QA(t){Sd=!0,bC(t)}function fs(){if(!Jg&&Ji!==null){Jg=!0;var t=0,e=Le;try{var n=Ji;for(Le=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ji=null,Sd=!1}catch(r){throw Ji!==null&&(Ji=Ji.slice(t+1)),ZS(F_,fs),r}finally{Le=e,Jg=!1}}return null}var Do=[],No=0,vf=null,Ef=0,Dn=[],Nn=0,Bs=null,er=1,tr="";function Ss(t,e){Do[No++]=Ef,Do[No++]=vf,vf=t,Ef=e}function MC(t,e,n){Dn[Nn++]=er,Dn[Nn++]=tr,Dn[Nn++]=Bs,Bs=t;var i=er;t=tr;var r=32-si(i)-1;i&=~(1<<r),n+=1;var s=32-si(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,er=1<<32-si(e)+r|n<<r|i,tr=s+t}else er=1<<s|n<<r|i,tr=t}function V_(t){t.return!==null&&(Ss(t,1),MC(t,1,0))}function W_(t){for(;t===vf;)vf=Do[--No],Do[No]=null,Ef=Do[--No],Do[No]=null;for(;t===Bs;)Bs=Dn[--Nn],Dn[Nn]=null,tr=Dn[--Nn],Dn[Nn]=null,er=Dn[--Nn],Dn[Nn]=null}var En=null,vn=null,Be=!1,ni=null;function RC(t,e){var n=jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,vn=Wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bs!==null?{id:er,overflow:tr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,vn=null,!0):!1;default:return!1}}function jm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $m(t){if(Be){var e=vn;if(e){var n=e;if(!wE(t,e)){if(jm(t))throw Error(V(418));e=Wr(n.nextSibling);var i=En;e&&wE(t,e)?RC(i,n):(t.flags=t.flags&-4097|2,Be=!1,En=t)}}else{if(jm(t))throw Error(V(418));t.flags=t.flags&-4097|2,Be=!1,En=t}}}function SE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function Wc(t){if(t!==En)return!1;if(!Be)return SE(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dm(t.type,t.memoizedProps)),e&&(e=vn)){if(jm(t))throw PC(),Error(V(418));for(;e;)RC(t,e),e=Wr(e.nextSibling)}if(SE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=Wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=En?Wr(t.stateNode.nextSibling):null;return!0}function PC(){for(var t=vn;t;)t=Wr(t.nextSibling)}function ya(){vn=En=null,Be=!1}function X_(t){ni===null?ni=[t]:ni.push(t)}var e3=_r.ReactCurrentBatchConfig;function ml(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var i=n.stateNode}if(!i)throw Error(V(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function Xc(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function CE(t){var e=t._init;return e(t._payload)}function IC(t){function e(_,y){if(t){var v=_.deletions;v===null?(_.deletions=[y],_.flags|=16):v.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function i(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function r(_,y){return _=Yr(_,y),_.index=0,_.sibling=null,_}function s(_,y,v){return _.index=v,t?(v=_.alternate,v!==null?(v=v.index,v<y?(_.flags|=2,y):v):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,v,E){return y===null||y.tag!==6?(y=s0(v,_.mode,E),y.return=_,y):(y=r(y,v),y.return=_,y)}function l(_,y,v,E){var x=v.type;return x===Io?c(_,y,v.props.children,E,v.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ir&&CE(x)===y.type)?(E=r(y,v.props),E.ref=ml(_,y,v),E.return=_,E):(E=Bh(v.type,v.key,v.props,null,_.mode,E),E.ref=ml(_,y,v),E.return=_,E)}function u(_,y,v,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=o0(v,_.mode,E),y.return=_,y):(y=r(y,v.children||[]),y.return=_,y)}function c(_,y,v,E,x){return y===null||y.tag!==7?(y=Us(v,_.mode,E,x),y.return=_,y):(y=r(y,v),y.return=_,y)}function h(_,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=s0(""+y,_.mode,v),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fc:return v=Bh(y.type,y.key,y.props,null,_.mode,v),v.ref=ml(_,null,y),v.return=_,v;case Po:return y=o0(y,_.mode,v),y.return=_,y;case Ir:var E=y._init;return h(_,E(y._payload),v)}if(Rl(y)||cl(y))return y=Us(y,_.mode,v,null),y.return=_,y;Xc(_,y)}return null}function f(_,y,v,E){var x=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(_,y,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fc:return v.key===x?l(_,y,v,E):null;case Po:return v.key===x?u(_,y,v,E):null;case Ir:return x=v._init,f(_,y,x(v._payload),E)}if(Rl(v)||cl(v))return x!==null?null:c(_,y,v,E,null);Xc(_,v)}return null}function g(_,y,v,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return _=_.get(v)||null,a(y,_,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Fc:return _=_.get(E.key===null?v:E.key)||null,l(y,_,E,x);case Po:return _=_.get(E.key===null?v:E.key)||null,u(y,_,E,x);case Ir:var S=E._init;return g(_,y,v,S(E._payload),x)}if(Rl(E)||cl(E))return _=_.get(v)||null,c(y,_,E,x,null);Xc(y,E)}return null}function d(_,y,v,E){for(var x=null,S=null,w=y,C=y=0,M=null;w!==null&&C<v.length;C++){w.index>C?(M=w,w=null):M=w.sibling;var b=f(_,w,v[C],E);if(b===null){w===null&&(w=M);break}t&&w&&b.alternate===null&&e(_,w),y=s(b,y,C),S===null?x=b:S.sibling=b,S=b,w=M}if(C===v.length)return n(_,w),Be&&Ss(_,C),x;if(w===null){for(;C<v.length;C++)w=h(_,v[C],E),w!==null&&(y=s(w,y,C),S===null?x=w:S.sibling=w,S=w);return Be&&Ss(_,C),x}for(w=i(_,w);C<v.length;C++)M=g(w,_,C,v[C],E),M!==null&&(t&&M.alternate!==null&&w.delete(M.key===null?C:M.key),y=s(M,y,C),S===null?x=M:S.sibling=M,S=M);return t&&w.forEach(function(L){return e(_,L)}),Be&&Ss(_,C),x}function p(_,y,v,E){var x=cl(v);if(typeof x!="function")throw Error(V(150));if(v=x.call(v),v==null)throw Error(V(151));for(var S=x=null,w=y,C=y=0,M=null,b=v.next();w!==null&&!b.done;C++,b=v.next()){w.index>C?(M=w,w=null):M=w.sibling;var L=f(_,w,b.value,E);if(L===null){w===null&&(w=M);break}t&&w&&L.alternate===null&&e(_,w),y=s(L,y,C),S===null?x=L:S.sibling=L,S=L,w=M}if(b.done)return n(_,w),Be&&Ss(_,C),x;if(w===null){for(;!b.done;C++,b=v.next())b=h(_,b.value,E),b!==null&&(y=s(b,y,C),S===null?x=b:S.sibling=b,S=b);return Be&&Ss(_,C),x}for(w=i(_,w);!b.done;C++,b=v.next())b=g(w,_,C,b.value,E),b!==null&&(t&&b.alternate!==null&&w.delete(b.key===null?C:b.key),y=s(b,y,C),S===null?x=b:S.sibling=b,S=b);return t&&w.forEach(function(O){return e(_,O)}),Be&&Ss(_,C),x}function m(_,y,v,E){if(typeof v=="object"&&v!==null&&v.type===Io&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fc:e:{for(var x=v.key,S=y;S!==null;){if(S.key===x){if(x=v.type,x===Io){if(S.tag===7){n(_,S.sibling),y=r(S,v.props.children),y.return=_,_=y;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ir&&CE(x)===S.type){n(_,S.sibling),y=r(S,v.props),y.ref=ml(_,S,v),y.return=_,_=y;break e}n(_,S);break}else e(_,S);S=S.sibling}v.type===Io?(y=Us(v.props.children,_.mode,E,v.key),y.return=_,_=y):(E=Bh(v.type,v.key,v.props,null,_.mode,E),E.ref=ml(_,y,v),E.return=_,_=E)}return o(_);case Po:e:{for(S=v.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(_,y.sibling),y=r(y,v.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=o0(v,_.mode,E),y.return=_,_=y}return o(_);case Ir:return S=v._init,m(_,y,S(v._payload),E)}if(Rl(v))return d(_,y,v,E);if(cl(v))return p(_,y,v,E);Xc(_,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(_,y.sibling),y=r(y,v),y.return=_,_=y):(n(_,y),y=s0(v,_.mode,E),y.return=_,_=y),o(_)):n(_,y)}return m}var va=IC(!0),AC=IC(!1),xf=hs(null),wf=null,Go=null,H_=null;function K_(){H_=Go=wf=null}function Y_(t){var e=xf.current;je(xf),t._currentValue=e}function zm(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ia(t,e){wf=t,H_=Go=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(on=!0),t.firstContext=null)}function Wn(t){var e=t._currentValue;if(H_!==t)if(t={context:t,memoizedValue:e,next:null},Go===null){if(wf===null)throw Error(V(308));Go=t,wf.dependencies={lanes:0,firstContext:t}}else Go=Go.next=t;return e}var Is=null;function q_(t){Is===null?Is=[t]:Is.push(t)}function OC(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,q_(e)):(n.next=r.next,r.next=n),e.interleaved=n,cr(t,i)}function cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ar=!1;function Z_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,we&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,cr(t,n)}return r=i.interleaved,r===null?(e.next=e,q_(i)):(e.next=r.next,r.next=e),i.interleaved=e,cr(t,n)}function Nh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,D_(t,n)}}function TE(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sf(t,e,n,i){var r=t.updateQueue;Ar=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((i&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=t,p=a;switch(f=e,g=n,p.tag){case 1:if(d=p.payload,typeof d=="function"){h=d.call(g,h,f);break e}h=d;break e;case 3:d.flags=d.flags&-65537|128;case 0:if(d=p.payload,f=typeof d=="function"?d.call(g,h,f):d,f==null)break e;h=He({},h,f);break e;case 2:Ar=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Ws|=o,t.lanes=o,t.memoizedState=h}}function bE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(V(191,r));r.call(i)}}}var rc={},Fi=hs(rc),vu=hs(rc),Eu=hs(rc);function As(t){if(t===rc)throw Error(V(174));return t}function J_(t,e){switch(Ne(Eu,e),Ne(vu,t),Ne(Fi,rc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wm(e,t)}je(Fi),Ne(Fi,e)}function Ea(){je(Fi),je(vu),je(Eu)}function kC(t){As(Eu.current);var e=As(Fi.current),n=wm(e,t.type);e!==n&&(Ne(vu,t),Ne(Fi,n))}function Q_(t){vu.current===t&&(je(Fi),je(vu))}var We=hs(0);function Cf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qg=[];function ey(){for(var t=0;t<Qg.length;t++)Qg[t]._workInProgressVersionPrimary=null;Qg.length=0}var Gh=_r.ReactCurrentDispatcher,e0=_r.ReactCurrentBatchConfig,Vs=0,Xe=null,ut=null,gt=null,Tf=!1,Xl=!1,xu=0,t3=0;function Rt(){throw Error(V(321))}function ty(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ci(t[n],e[n]))return!1;return!0}function ny(t,e,n,i,r,s){if(Vs=s,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gh.current=t===null||t.memoizedState===null?s3:o3,t=n(i,r),Xl){s=0;do{if(Xl=!1,xu=0,25<=s)throw Error(V(301));s+=1,gt=ut=null,e.updateQueue=null,Gh.current=a3,t=n(i,r)}while(Xl)}if(Gh.current=bf,e=ut!==null&&ut.next!==null,Vs=0,gt=ut=Xe=null,Tf=!1,e)throw Error(V(300));return t}function iy(){var t=xu!==0;return xu=0,t}function Ci(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Xe.memoizedState=gt=t:gt=gt.next=t,gt}function Xn(){if(ut===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=gt===null?Xe.memoizedState:gt.next;if(e!==null)gt=e,ut=t;else{if(t===null)throw Error(V(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},gt===null?Xe.memoizedState=gt=t:gt=gt.next=t}return gt}function wu(t,e){return typeof e=="function"?e(t):e}function t0(t){var e=Xn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var i=ut,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Vs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Xe.lanes|=c,Ws|=c}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,ci(i,e.memoizedState)||(on=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Xe.lanes|=s,Ws|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function n0(t){var e=Xn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);ci(s,e.memoizedState)||(on=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function FC(){}function DC(t,e){var n=Xe,i=Xn(),r=e(),s=!ci(i.memoizedState,r);if(s&&(i.memoizedState=r,on=!0),i=i.queue,ry(UC.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,Su(9,GC.bind(null,n,i,r,e),void 0,null),vt===null)throw Error(V(349));Vs&30||NC(n,e,r)}return r}function NC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GC(t,e,n,i){e.value=n,e.getSnapshot=i,jC(e)&&$C(t)}function UC(t,e,n){return n(function(){jC(e)&&$C(t)})}function jC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ci(t,n)}catch{return!0}}function $C(t){var e=cr(t,1);e!==null&&oi(e,t,1,-1)}function ME(t){var e=Ci();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wu,lastRenderedState:t},e.queue=t,t=t.dispatch=r3.bind(null,Xe,t),[e.memoizedState,t]}function Su(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function zC(){return Xn().memoizedState}function Uh(t,e,n,i){var r=Ci();Xe.flags|=t,r.memoizedState=Su(1|e,n,void 0,i===void 0?null:i)}function Cd(t,e,n,i){var r=Xn();i=i===void 0?null:i;var s=void 0;if(ut!==null){var o=ut.memoizedState;if(s=o.destroy,i!==null&&ty(i,o.deps)){r.memoizedState=Su(e,n,s,i);return}}Xe.flags|=t,r.memoizedState=Su(1|e,n,s,i)}function RE(t,e){return Uh(8390656,8,t,e)}function ry(t,e){return Cd(2048,8,t,e)}function BC(t,e){return Cd(4,2,t,e)}function VC(t,e){return Cd(4,4,t,e)}function WC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function XC(t,e,n){return n=n!=null?n.concat([t]):null,Cd(4,4,WC.bind(null,e,t),n)}function sy(){}function HC(t,e){var n=Xn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&ty(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function KC(t,e){var n=Xn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&ty(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function YC(t,e,n){return Vs&21?(ci(n,e)||(n=eC(),Xe.lanes|=n,Ws|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,on=!0),t.memoizedState=n)}function n3(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var i=e0.transition;e0.transition={};try{t(!1),e()}finally{Le=n,e0.transition=i}}function qC(){return Xn().memoizedState}function i3(t,e,n){var i=Kr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ZC(t))JC(e,n);else if(n=OC(t,e,n,i),n!==null){var r=Ht();oi(n,t,i,r),QC(n,e,i)}}function r3(t,e,n){var i=Kr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZC(t))JC(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ci(a,o)){var l=e.interleaved;l===null?(r.next=r,q_(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=OC(t,e,r,i),n!==null&&(r=Ht(),oi(n,t,i,r),QC(n,e,i))}}function ZC(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function JC(t,e){Xl=Tf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QC(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,D_(t,n)}}var bf={readContext:Wn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},s3={readContext:Wn,useCallback:function(t,e){return Ci().memoizedState=[t,e===void 0?null:e],t},useContext:Wn,useEffect:RE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Uh(4194308,4,WC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uh(4,2,t,e)},useMemo:function(t,e){var n=Ci();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Ci();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=i3.bind(null,Xe,t),[i.memoizedState,t]},useRef:function(t){var e=Ci();return t={current:t},e.memoizedState=t},useState:ME,useDebugValue:sy,useDeferredValue:function(t){return Ci().memoizedState=t},useTransition:function(){var t=ME(!1),e=t[0];return t=n3.bind(null,t[1]),Ci().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Xe,r=Ci();if(Be){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),vt===null)throw Error(V(349));Vs&30||NC(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,RE(UC.bind(null,i,s,t),[t]),i.flags|=2048,Su(9,GC.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Ci(),e=vt.identifierPrefix;if(Be){var n=tr,i=er;n=(i&~(1<<32-si(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=xu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=t3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},o3={readContext:Wn,useCallback:HC,useContext:Wn,useEffect:ry,useImperativeHandle:XC,useInsertionEffect:BC,useLayoutEffect:VC,useMemo:KC,useReducer:t0,useRef:zC,useState:function(){return t0(wu)},useDebugValue:sy,useDeferredValue:function(t){var e=Xn();return YC(e,ut.memoizedState,t)},useTransition:function(){var t=t0(wu)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:FC,useSyncExternalStore:DC,useId:qC,unstable_isNewReconciler:!1},a3={readContext:Wn,useCallback:HC,useContext:Wn,useEffect:ry,useImperativeHandle:XC,useInsertionEffect:BC,useLayoutEffect:VC,useMemo:KC,useReducer:n0,useRef:zC,useState:function(){return n0(wu)},useDebugValue:sy,useDeferredValue:function(t){var e=Xn();return ut===null?e.memoizedState=t:YC(e,ut.memoizedState,t)},useTransition:function(){var t=n0(wu)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:FC,useSyncExternalStore:DC,useId:qC,unstable_isNewReconciler:!1};function Qn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bm(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Td={isMounted:function(t){return(t=t._reactInternals)?io(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ht(),r=Kr(t),s=nr(i,r);s.payload=e,n!=null&&(s.callback=n),e=Xr(t,s,r),e!==null&&(oi(e,t,r,i),Nh(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ht(),r=Kr(t),s=nr(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xr(t,s,r),e!==null&&(oi(e,t,r,i),Nh(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ht(),i=Kr(t),r=nr(n,i);r.tag=2,e!=null&&(r.callback=e),e=Xr(t,r,i),e!==null&&(oi(e,t,i,n),Nh(e,t,i))}};function PE(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!mu(n,i)||!mu(r,s):!0}function eT(t,e,n){var i=!1,r=es,s=e.contextType;return typeof s=="object"&&s!==null?s=Wn(s):(r=un(e)?zs:Ut.current,i=e.contextTypes,s=(i=i!=null)?_a(t,r):es),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Td,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function IE(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Td.enqueueReplaceState(e,e.state,null)}function Vm(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Z_(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Wn(s):(s=un(e)?zs:Ut.current,r.context=_a(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bm(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Td.enqueueReplaceState(r,r.state,null),Sf(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function xa(t,e){try{var n="",i=e;do n+=FI(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function i0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var l3=typeof WeakMap=="function"?WeakMap:Map;function tT(t,e,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Rf||(Rf=!0,tp=i),Wm(t,e)},n}function nT(t,e,n){n=nr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Wm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wm(t,e),typeof i!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function AE(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new l3;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=w3.bind(null,t,e,n),e.then(t,t))}function OE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function LE(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nr(-1,1),e.tag=2,Xr(n,e,1))),n.lanes|=1),t)}var u3=_r.ReactCurrentOwner,on=!1;function zt(t,e,n,i){e.child=t===null?AC(e,null,n,i):va(e,t.child,n,i)}function kE(t,e,n,i,r){n=n.render;var s=e.ref;return ia(e,r),i=ny(t,e,n,i,s,r),n=iy(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,hr(t,e,r)):(Be&&n&&V_(e),e.flags|=1,zt(t,e,i,r),e.child)}function FE(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!dy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,iT(t,e,s,i,r)):(t=Bh(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:mu,n(o,i)&&t.ref===e.ref)return hr(t,e,r)}return e.flags|=1,t=Yr(s,i),t.ref=e.ref,t.return=e,e.child=t}function iT(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(mu(s,i)&&t.ref===e.ref)if(on=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(on=!0);else return e.lanes=t.lanes,hr(t,e,r)}return Xm(t,e,n,i,r)}function rT(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(jo,mn),mn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(jo,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Ne(jo,mn),mn|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Ne(jo,mn),mn|=i;return zt(t,e,r,n),e.child}function sT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xm(t,e,n,i,r){var s=un(n)?zs:Ut.current;return s=_a(e,s),ia(e,r),n=ny(t,e,n,i,s,r),i=iy(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,hr(t,e,r)):(Be&&i&&V_(e),e.flags|=1,zt(t,e,n,r),e.child)}function DE(t,e,n,i,r){if(un(n)){var s=!0;yf(e)}else s=!1;if(ia(e,r),e.stateNode===null)jh(t,e),eT(e,n,i),Vm(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wn(u):(u=un(n)?zs:Ut.current,u=_a(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&IE(e,o,i,u),Ar=!1;var f=e.memoizedState;o.state=f,Sf(e,i,o,r),l=e.memoizedState,a!==i||f!==l||ln.current||Ar?(typeof c=="function"&&(Bm(e,n,c,i),l=e.memoizedState),(a=Ar||PE(e,n,a,i,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,LC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Qn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wn(l):(l=un(n)?zs:Ut.current,l=_a(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&IE(e,o,i,l),Ar=!1,f=e.memoizedState,o.state=f,Sf(e,i,o,r);var d=e.memoizedState;a!==h||f!==d||ln.current||Ar?(typeof g=="function"&&(Bm(e,n,g,i),d=e.memoizedState),(u=Ar||PE(e,n,u,i,f,d,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,d,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,d,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=d),o.props=i,o.state=d,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Hm(t,e,n,i,s,r)}function Hm(t,e,n,i,r,s){sT(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&xE(e,n,!1),hr(t,e,s);i=e.stateNode,u3.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=va(e,t.child,null,s),e.child=va(e,null,a,s)):zt(t,e,a,s),e.memoizedState=i.state,r&&xE(e,n,!0),e.child}function oT(t){var e=t.stateNode;e.pendingContext?EE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&EE(t,e.context,!1),J_(t,e.containerInfo)}function NE(t,e,n,i,r){return ya(),X_(r),e.flags|=256,zt(t,e,n,i),e.child}var Km={dehydrated:null,treeContext:null,retryLane:0};function Ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function aT(t,e,n){var i=e.pendingProps,r=We.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ne(We,r&1),t===null)return $m(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Rd(o,i,0,null),t=Us(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ym(n),e.memoizedState=Km,t):oy(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return c3(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Yr(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Yr(a,s):(s=Us(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Ym(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Km,i}return s=t.child,t=s.sibling,i=Yr(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function oy(t,e){return e=Rd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hc(t,e,n,i){return i!==null&&X_(i),va(e,t.child,null,n),t=oy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function c3(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=i0(Error(V(422))),Hc(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Rd({mode:"visible",children:i.children},r,0,null),s=Us(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&va(e,t.child,null,o),e.child.memoizedState=Ym(o),e.memoizedState=Km,s);if(!(e.mode&1))return Hc(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(V(419)),i=i0(s,i,void 0),Hc(t,e,o,i)}if(a=(o&t.childLanes)!==0,on||a){if(i=vt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,cr(t,r),oi(i,t,r,-1))}return fy(),i=i0(Error(V(421))),Hc(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=S3.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,vn=Wr(r.nextSibling),En=e,Be=!0,ni=null,t!==null&&(Dn[Nn++]=er,Dn[Nn++]=tr,Dn[Nn++]=Bs,er=t.id,tr=t.overflow,Bs=e),e=oy(e,i.children),e.flags|=4096,e)}function GE(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),zm(t.return,e,n)}function r0(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function lT(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(zt(t,e,i.children,n),i=We.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&GE(t,n,e);else if(t.tag===19)GE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ne(We,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Cf(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),r0(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Cf(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}r0(e,!0,n,null,s);break;case"together":r0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ws|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=Yr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function h3(t,e,n){switch(e.tag){case 3:oT(e),ya();break;case 5:kC(e);break;case 1:un(e.type)&&yf(e);break;case 4:J_(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ne(xf,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ne(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?aT(t,e,n):(Ne(We,We.current&1),t=hr(t,e,n),t!==null?t.sibling:null);Ne(We,We.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return lT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ne(We,We.current),i)break;return null;case 22:case 23:return e.lanes=0,rT(t,e,n)}return hr(t,e,n)}var uT,qm,cT,hT;uT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qm=function(){};cT=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,As(Fi.current);var s=null;switch(n){case"input":r=ym(t,r),i=ym(t,i),s=[];break;case"select":r=He({},r,{value:void 0}),i=He({},i,{value:void 0}),s=[];break;case"textarea":r=xm(t,r),i=xm(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=pf)}Sm(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(lu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(lu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ue("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};hT=function(t,e,n,i){n!==i&&(e.flags|=4)};function pl(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function f3(t,e,n){var i=e.pendingProps;switch(W_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return un(e.type)&&_f(),Pt(e),null;case 3:return i=e.stateNode,Ea(),je(ln),je(Ut),ey(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Wc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ni!==null&&(rp(ni),ni=null))),qm(t,e),Pt(e),null;case 5:Q_(e);var r=As(Eu.current);if(n=e.type,t!==null&&e.stateNode!=null)cT(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(V(166));return Pt(e),null}if(t=As(Fi.current),Wc(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Ri]=e,i[yu]=s,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(r=0;r<Il.length;r++)Ue(Il[r],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Hv(i,s),Ue("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ue("invalid",i);break;case"textarea":Yv(i,s),Ue("invalid",i)}Sm(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Vc(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Vc(i.textContent,a,t),r=["children",""+a]):lu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",i)}switch(n){case"input":Dc(i),Kv(i,s,!0);break;case"textarea":Dc(i),qv(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=pf)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=US(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Ri]=e,t[yu]=i,uT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cm(n,i),n){case"dialog":Ue("cancel",t),Ue("close",t),r=i;break;case"iframe":case"object":case"embed":Ue("load",t),r=i;break;case"video":case"audio":for(r=0;r<Il.length;r++)Ue(Il[r],t);r=i;break;case"source":Ue("error",t),r=i;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),r=i;break;case"details":Ue("toggle",t),r=i;break;case"input":Hv(t,i),r=ym(t,i),Ue("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=He({},i,{value:void 0}),Ue("invalid",t);break;case"textarea":Yv(t,i),r=xm(t,i),Ue("invalid",t);break;default:r=i}Sm(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?zS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&uu(t,l):typeof l=="number"&&uu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(lu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ue("scroll",t):l!=null&&I_(t,s,l,o))}switch(n){case"input":Dc(t),Kv(t,i,!1);break;case"textarea":Dc(t),qv(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Qr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Qo(t,!!i.multiple,s,!1):i.defaultValue!=null&&Qo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=pf)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)hT(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(V(166));if(n=As(Eu.current),As(Fi.current),Wc(e)){if(i=e.stateNode,n=e.memoizedProps,i[Ri]=e,(s=i.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:Vc(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vc(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Ri]=e,e.stateNode=i}return Pt(e),null;case 13:if(je(We),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&vn!==null&&e.mode&1&&!(e.flags&128))PC(),ya(),e.flags|=98560,s=!1;else if(s=Wc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(V(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[Ri]=e}else ya(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),s=!1}else ni!==null&&(rp(ni),ni=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?ct===0&&(ct=3):fy())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return Ea(),qm(t,e),t===null&&pu(e.stateNode.containerInfo),Pt(e),null;case 10:return Y_(e.type._context),Pt(e),null;case 17:return un(e.type)&&_f(),Pt(e),null;case 19:if(je(We),s=e.memoizedState,s===null)return Pt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)pl(s,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cf(t),o!==null){for(e.flags|=128,pl(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(We,We.current&1|2),e.child}t=t.sibling}s.tail!==null&&tt()>wa&&(e.flags|=128,i=!0,pl(s,!1),e.lanes=4194304)}else{if(!i)if(t=Cf(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Be)return Pt(e),null}else 2*tt()-s.renderingStartTime>wa&&n!==1073741824&&(e.flags|=128,i=!0,pl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tt(),e.sibling=null,n=We.current,Ne(We,i?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return hy(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?mn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function d3(t,e){switch(W_(e),e.tag){case 1:return un(e.type)&&_f(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ea(),je(ln),je(Ut),ey(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Q_(e),null;case 13:if(je(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));ya()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(We),null;case 4:return Ea(),null;case 10:return Y_(e.type._context),null;case 22:case 23:return hy(),null;case 24:return null;default:return null}}var Kc=!1,Ft=!1,g3=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Uo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ye(t,e,i)}else n.current=null}function Zm(t,e,n){try{n()}catch(i){Ye(t,e,i)}}var UE=!1;function m3(t,e){if(km=df,t=pC(),B_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var g;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++u===r&&(a=o),f===s&&++c===i&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fm={focusedElem:t,selectionRange:n},df=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var d=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var p=d.memoizedProps,m=d.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?p:Qn(e.type,p),m);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(E){Ye(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return d=UE,UE=!1,d}function Hl(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Zm(e,n,s)}r=r.next}while(r!==i)}}function bd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Jm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fT(t){var e=t.alternate;e!==null&&(t.alternate=null,fT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ri],delete e[yu],delete e[Gm],delete e[ZA],delete e[JA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dT(t){return t.tag===5||t.tag===3||t.tag===4}function jE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qm(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pf));else if(i!==4&&(t=t.child,t!==null))for(Qm(t,e,n),t=t.sibling;t!==null;)Qm(t,e,n),t=t.sibling}function ep(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(ep(t,e,n),t=t.sibling;t!==null;)ep(t,e,n),t=t.sibling}var xt=null,ti=!1;function Sr(t,e,n){for(n=n.child;n!==null;)gT(t,e,n),n=n.sibling}function gT(t,e,n){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(yd,n)}catch{}switch(n.tag){case 5:Ft||Uo(n,e);case 6:var i=xt,r=ti;xt=null,Sr(t,e,n),xt=i,ti=r,xt!==null&&(ti?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(ti?(t=xt,n=n.stateNode,t.nodeType===8?Zg(t.parentNode,n):t.nodeType===1&&Zg(t,n),du(t)):Zg(xt,n.stateNode));break;case 4:i=xt,r=ti,xt=n.stateNode.containerInfo,ti=!0,Sr(t,e,n),xt=i,ti=r;break;case 0:case 11:case 14:case 15:if(!Ft&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Zm(n,e,o),r=r.next}while(r!==i)}Sr(t,e,n);break;case 1:if(!Ft&&(Uo(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ye(n,e,a)}Sr(t,e,n);break;case 21:Sr(t,e,n);break;case 22:n.mode&1?(Ft=(i=Ft)||n.memoizedState!==null,Sr(t,e,n),Ft=i):Sr(t,e,n);break;default:Sr(t,e,n)}}function $E(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new g3),e.forEach(function(i){var r=C3.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function qn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xt=a.stateNode,ti=!1;break e;case 3:xt=a.stateNode.containerInfo,ti=!0;break e;case 4:xt=a.stateNode.containerInfo,ti=!0;break e}a=a.return}if(xt===null)throw Error(V(160));gT(s,o,r),xt=null,ti=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Ye(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mT(e,t),e=e.sibling}function mT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),vi(t),i&4){try{Hl(3,t,t.return),bd(3,t)}catch(p){Ye(t,t.return,p)}try{Hl(5,t,t.return)}catch(p){Ye(t,t.return,p)}}break;case 1:qn(e,t),vi(t),i&512&&n!==null&&Uo(n,n.return);break;case 5:if(qn(e,t),vi(t),i&512&&n!==null&&Uo(n,n.return),t.flags&32){var r=t.stateNode;try{uu(r,"")}catch(p){Ye(t,t.return,p)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&NS(r,s),Cm(a,o);var u=Cm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?zS(r,h):c==="dangerouslySetInnerHTML"?jS(r,h):c==="children"?uu(r,h):I_(r,c,h,u)}switch(a){case"input":vm(r,s);break;case"textarea":GS(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Qo(r,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Qo(r,!!s.multiple,s.defaultValue,!0):Qo(r,!!s.multiple,s.multiple?[]:"",!1))}r[yu]=s}catch(p){Ye(t,t.return,p)}}break;case 6:if(qn(e,t),vi(t),i&4){if(t.stateNode===null)throw Error(V(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(p){Ye(t,t.return,p)}}break;case 3:if(qn(e,t),vi(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{du(e.containerInfo)}catch(p){Ye(t,t.return,p)}break;case 4:qn(e,t),vi(t);break;case 13:qn(e,t),vi(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(uy=tt())),i&4&&$E(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(u=Ft)||c,qn(e,t),Ft=u):qn(e,t),vi(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Q=t,c=t.child;c!==null;){for(h=Q=c;Q!==null;){switch(f=Q,g=f.child,f.tag){case 0:case 11:case 14:case 15:Hl(4,f,f.return);break;case 1:Uo(f,f.return);var d=f.stateNode;if(typeof d.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,d.props=e.memoizedProps,d.state=e.memoizedState,d.componentWillUnmount()}catch(p){Ye(i,n,p)}}break;case 5:Uo(f,f.return);break;case 22:if(f.memoizedState!==null){BE(h);continue}}g!==null?(g.return=f,Q=g):BE(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$S("display",o))}catch(p){Ye(t,t.return,p)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){Ye(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:qn(e,t),vi(t),i&4&&$E(t);break;case 21:break;default:qn(e,t),vi(t)}}function vi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dT(n)){var i=n;break e}n=n.return}throw Error(V(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(uu(r,""),i.flags&=-33);var s=jE(t);ep(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=jE(t);Qm(t,a,o);break;default:throw Error(V(161))}}catch(l){Ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function p3(t,e,n){Q=t,pT(t)}function pT(t,e,n){for(var i=(t.mode&1)!==0;Q!==null;){var r=Q,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Kc;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Ft;a=Kc;var u=Ft;if(Kc=o,(Ft=l)&&!u)for(Q=r;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?VE(r):l!==null?(l.return=o,Q=l):VE(r);for(;s!==null;)Q=s,pT(s),s=s.sibling;Q=r,Kc=a,Ft=u}zE(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Q=s):zE(t)}}function zE(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||bd(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ft)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Qn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bE(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&du(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Ft||e.flags&512&&Jm(e)}catch(f){Ye(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function BE(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function VE(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bd(4,e)}catch(l){Ye(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Ye(e,r,l)}}var s=e.return;try{Jm(e)}catch(l){Ye(e,s,l)}break;case 5:var o=e.return;try{Jm(e)}catch(l){Ye(e,o,l)}}}catch(l){Ye(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var _3=Math.ceil,Mf=_r.ReactCurrentDispatcher,ay=_r.ReactCurrentOwner,zn=_r.ReactCurrentBatchConfig,we=0,vt=null,at=null,Ct=0,mn=0,jo=hs(0),ct=0,Cu=null,Ws=0,Md=0,ly=0,Kl=null,tn=null,uy=0,wa=1/0,Yi=null,Rf=!1,tp=null,Hr=null,Yc=!1,Nr=null,Pf=0,Yl=0,np=null,$h=-1,zh=0;function Ht(){return we&6?tt():$h!==-1?$h:$h=tt()}function Kr(t){return t.mode&1?we&2&&Ct!==0?Ct&-Ct:e3.transition!==null?(zh===0&&(zh=eC()),zh):(t=Le,t!==0||(t=window.event,t=t===void 0?16:aC(t.type)),t):1}function oi(t,e,n,i){if(50<Yl)throw Yl=0,np=null,Error(V(185));tc(t,n,i),(!(we&2)||t!==vt)&&(t===vt&&(!(we&2)&&(Md|=n),ct===4&&Fr(t,Ct)),cn(t,i),n===1&&we===0&&!(e.mode&1)&&(wa=tt()+500,Sd&&fs()))}function cn(t,e){var n=t.callbackNode;eA(t,e);var i=ff(t,t===vt?Ct:0);if(i===0)n!==null&&Qv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Qv(n),e===1)t.tag===0?QA(WE.bind(null,t)):bC(WE.bind(null,t)),YA(function(){!(we&6)&&fs()}),n=null;else{switch(tC(i)){case 1:n=F_;break;case 4:n=JS;break;case 16:n=hf;break;case 536870912:n=QS;break;default:n=hf}n=CT(n,_T.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _T(t,e){if($h=-1,zh=0,we&6)throw Error(V(327));var n=t.callbackNode;if(ra()&&t.callbackNode!==n)return null;var i=ff(t,t===vt?Ct:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=If(t,i);else{e=i;var r=we;we|=2;var s=vT();(vt!==t||Ct!==e)&&(Yi=null,wa=tt()+500,Gs(t,e));do try{E3();break}catch(a){yT(t,a)}while(!0);K_(),Mf.current=s,we=r,at!==null?e=0:(vt=null,Ct=0,e=ct)}if(e!==0){if(e===2&&(r=Pm(t),r!==0&&(i=r,e=ip(t,r))),e===1)throw n=Cu,Gs(t,0),Fr(t,i),cn(t,tt()),n;if(e===6)Fr(t,i);else{if(r=t.current.alternate,!(i&30)&&!y3(r)&&(e=If(t,i),e===2&&(s=Pm(t),s!==0&&(i=s,e=ip(t,s))),e===1))throw n=Cu,Gs(t,0),Fr(t,i),cn(t,tt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(V(345));case 2:Cs(t,tn,Yi);break;case 3:if(Fr(t,i),(i&130023424)===i&&(e=uy+500-tt(),10<e)){if(ff(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Ht(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Nm(Cs.bind(null,t,tn,Yi),e);break}Cs(t,tn,Yi);break;case 4:if(Fr(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-si(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=tt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*_3(i/1960))-i,10<i){t.timeoutHandle=Nm(Cs.bind(null,t,tn,Yi),i);break}Cs(t,tn,Yi);break;case 5:Cs(t,tn,Yi);break;default:throw Error(V(329))}}}return cn(t,tt()),t.callbackNode===n?_T.bind(null,t):null}function ip(t,e){var n=Kl;return t.current.memoizedState.isDehydrated&&(Gs(t,e).flags|=256),t=If(t,e),t!==2&&(e=tn,tn=n,e!==null&&rp(e)),t}function rp(t){tn===null?tn=t:tn.push.apply(tn,t)}function y3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ci(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fr(t,e){for(e&=~ly,e&=~Md,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-si(e),i=1<<n;t[n]=-1,e&=~i}}function WE(t){if(we&6)throw Error(V(327));ra();var e=ff(t,0);if(!(e&1))return cn(t,tt()),null;var n=If(t,e);if(t.tag!==0&&n===2){var i=Pm(t);i!==0&&(e=i,n=ip(t,i))}if(n===1)throw n=Cu,Gs(t,0),Fr(t,e),cn(t,tt()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cs(t,tn,Yi),cn(t,tt()),null}function cy(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(wa=tt()+500,Sd&&fs())}}function Xs(t){Nr!==null&&Nr.tag===0&&!(we&6)&&ra();var e=we;we|=1;var n=zn.transition,i=Le;try{if(zn.transition=null,Le=1,t)return t()}finally{Le=i,zn.transition=n,we=e,!(we&6)&&fs()}}function hy(){mn=jo.current,je(jo)}function Gs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KA(n)),at!==null)for(n=at.return;n!==null;){var i=n;switch(W_(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&_f();break;case 3:Ea(),je(ln),je(Ut),ey();break;case 5:Q_(i);break;case 4:Ea();break;case 13:je(We);break;case 19:je(We);break;case 10:Y_(i.type._context);break;case 22:case 23:hy()}n=n.return}if(vt=t,at=t=Yr(t.current,null),Ct=mn=e,ct=0,Cu=null,ly=Md=Ws=0,tn=Kl=null,Is!==null){for(e=0;e<Is.length;e++)if(n=Is[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Is=null}return t}function yT(t,e){do{var n=at;try{if(K_(),Gh.current=bf,Tf){for(var i=Xe.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Tf=!1}if(Vs=0,gt=ut=Xe=null,Xl=!1,xu=0,ay.current=null,n===null||n.return===null){ct=1,Cu=e,at=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=OE(o);if(g!==null){g.flags&=-257,LE(g,o,a,s,e),g.mode&1&&AE(s,u,e),e=g,l=u;var d=e.updateQueue;if(d===null){var p=new Set;p.add(l),e.updateQueue=p}else d.add(l);break e}else{if(!(e&1)){AE(s,u,e),fy();break e}l=Error(V(426))}}else if(Be&&a.mode&1){var m=OE(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),LE(m,o,a,s,e),X_(xa(l,a));break e}}s=l=xa(l,a),ct!==4&&(ct=2),Kl===null?Kl=[s]:Kl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=tT(s,l,e);TE(s,_);break e;case 1:a=l;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Hr===null||!Hr.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=nT(s,a,e);TE(s,E);break e}}s=s.return}while(s!==null)}xT(n)}catch(x){e=x,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function vT(){var t=Mf.current;return Mf.current=bf,t===null?bf:t}function fy(){(ct===0||ct===3||ct===2)&&(ct=4),vt===null||!(Ws&268435455)&&!(Md&268435455)||Fr(vt,Ct)}function If(t,e){var n=we;we|=2;var i=vT();(vt!==t||Ct!==e)&&(Yi=null,Gs(t,e));do try{v3();break}catch(r){yT(t,r)}while(!0);if(K_(),we=n,Mf.current=i,at!==null)throw Error(V(261));return vt=null,Ct=0,ct}function v3(){for(;at!==null;)ET(at)}function E3(){for(;at!==null&&!WI();)ET(at)}function ET(t){var e=ST(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?xT(t):at=e,ay.current=null}function xT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=d3(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,at=null;return}}else if(n=f3(n,e,mn),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);ct===0&&(ct=5)}function Cs(t,e,n){var i=Le,r=zn.transition;try{zn.transition=null,Le=1,x3(t,e,n,i)}finally{zn.transition=r,Le=i}return null}function x3(t,e,n,i){do ra();while(Nr!==null);if(we&6)throw Error(V(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tA(t,s),t===vt&&(at=vt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yc||(Yc=!0,CT(hf,function(){return ra(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zn.transition,zn.transition=null;var o=Le;Le=1;var a=we;we|=4,ay.current=null,m3(t,n),mT(n,t),$A(Fm),df=!!km,Fm=km=null,t.current=n,p3(n),XI(),we=a,Le=o,zn.transition=s}else t.current=n;if(Yc&&(Yc=!1,Nr=t,Pf=r),s=t.pendingLanes,s===0&&(Hr=null),YI(n.stateNode),cn(t,tt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Rf)throw Rf=!1,t=tp,tp=null,t;return Pf&1&&t.tag!==0&&ra(),s=t.pendingLanes,s&1?t===np?Yl++:(Yl=0,np=t):Yl=0,fs(),null}function ra(){if(Nr!==null){var t=tC(Pf),e=zn.transition,n=Le;try{if(zn.transition=null,Le=16>t?16:t,Nr===null)var i=!1;else{if(t=Nr,Nr=null,Pf=0,we&6)throw Error(V(331));var r=we;for(we|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:Hl(8,c,s)}var h=c.child;if(h!==null)h.return=c,Q=h;else for(;Q!==null;){c=Q;var f=c.sibling,g=c.return;if(fT(c),c===u){Q=null;break}if(f!==null){f.return=g,Q=f;break}Q=g}}}var d=s.alternate;if(d!==null){var p=d.child;if(p!==null){d.child=null;do{var m=p.sibling;p.sibling=null,p=m}while(p!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hl(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Q=_;break e}Q=s.return}}var y=t.current;for(Q=y;Q!==null;){o=Q;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Q=v;else e:for(o=y;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bd(9,a)}}catch(x){Ye(a,a.return,x)}if(a===o){Q=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Q=E;break e}Q=a.return}}if(we=r,fs(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot(yd,t)}catch{}i=!0}return i}finally{Le=n,zn.transition=e}}return!1}function XE(t,e,n){e=xa(n,e),e=tT(t,e,1),t=Xr(t,e,1),e=Ht(),t!==null&&(tc(t,1,e),cn(t,e))}function Ye(t,e,n){if(t.tag===3)XE(t,t,n);else for(;e!==null;){if(e.tag===3){XE(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Hr===null||!Hr.has(i))){t=xa(n,t),t=nT(e,t,1),e=Xr(e,t,1),t=Ht(),e!==null&&(tc(e,1,t),cn(e,t));break}}e=e.return}}function w3(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ht(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(Ct&n)===n&&(ct===4||ct===3&&(Ct&130023424)===Ct&&500>tt()-uy?Gs(t,0):ly|=n),cn(t,e)}function wT(t,e){e===0&&(t.mode&1?(e=Uc,Uc<<=1,!(Uc&130023424)&&(Uc=4194304)):e=1);var n=Ht();t=cr(t,e),t!==null&&(tc(t,e,n),cn(t,n))}function S3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wT(t,n)}function C3(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(V(314))}i!==null&&i.delete(e),wT(t,n)}var ST;ST=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)on=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return on=!1,h3(t,e,n);on=!!(t.flags&131072)}else on=!1,Be&&e.flags&1048576&&MC(e,Ef,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;jh(t,e),t=e.pendingProps;var r=_a(e,Ut.current);ia(e,n),r=ny(null,e,i,t,r,n);var s=iy();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(i)?(s=!0,yf(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Z_(e),r.updater=Td,e.stateNode=r,r._reactInternals=e,Vm(e,i,t,n),e=Hm(null,e,i,!0,s,n)):(e.tag=0,Be&&s&&V_(e),zt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(jh(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=b3(i),t=Qn(i,t),r){case 0:e=Xm(null,e,i,t,n);break e;case 1:e=DE(null,e,i,t,n);break e;case 11:e=kE(null,e,i,t,n);break e;case 14:e=FE(null,e,i,Qn(i.type,t),n);break e}throw Error(V(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qn(i,r),Xm(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qn(i,r),DE(t,e,i,r,n);case 3:e:{if(oT(e),t===null)throw Error(V(387));i=e.pendingProps,s=e.memoizedState,r=s.element,LC(t,e),Sf(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=xa(Error(V(423)),e),e=NE(t,e,i,n,r);break e}else if(i!==r){r=xa(Error(V(424)),e),e=NE(t,e,i,n,r);break e}else for(vn=Wr(e.stateNode.containerInfo.firstChild),En=e,Be=!0,ni=null,n=AC(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ya(),i===r){e=hr(t,e,n);break e}zt(t,e,i,n)}e=e.child}return e;case 5:return kC(e),t===null&&$m(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Dm(i,r)?o=null:s!==null&&Dm(i,s)&&(e.flags|=32),sT(t,e),zt(t,e,o,n),e.child;case 6:return t===null&&$m(e),null;case 13:return aT(t,e,n);case 4:return J_(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=va(e,null,i,n):zt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qn(i,r),kE(t,e,i,r,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Ne(xf,i._currentValue),i._currentValue=o,s!==null)if(ci(s.value,o)){if(s.children===r.children&&!ln.current){e=hr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=nr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),zm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ia(e,n),r=Wn(r),i=i(r),e.flags|=1,zt(t,e,i,n),e.child;case 14:return i=e.type,r=Qn(i,e.pendingProps),r=Qn(i.type,r),FE(t,e,i,r,n);case 15:return iT(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qn(i,r),jh(t,e),e.tag=1,un(i)?(t=!0,yf(e)):t=!1,ia(e,n),eT(e,i,r),Vm(e,i,r,n),Hm(null,e,i,!0,t,n);case 19:return lT(t,e,n);case 22:return rT(t,e,n)}throw Error(V(156,e.tag))};function CT(t,e){return ZS(t,e)}function T3(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,e,n,i){return new T3(t,e,n,i)}function dy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function b3(t){if(typeof t=="function")return dy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O_)return 11;if(t===L_)return 14}return 2}function Yr(t,e){var n=t.alternate;return n===null?(n=jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bh(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")dy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Io:return Us(n.children,r,s,e);case A_:o=8,r|=8;break;case gm:return t=jn(12,n,e,r|2),t.elementType=gm,t.lanes=s,t;case mm:return t=jn(13,n,e,r),t.elementType=mm,t.lanes=s,t;case pm:return t=jn(19,n,e,r),t.elementType=pm,t.lanes=s,t;case kS:return Rd(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OS:o=10;break e;case LS:o=9;break e;case O_:o=11;break e;case L_:o=14;break e;case Ir:o=16,i=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=jn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Us(t,e,n,i){return t=jn(7,t,i,e),t.lanes=n,t}function Rd(t,e,n,i){return t=jn(22,t,i,e),t.elementType=kS,t.lanes=n,t.stateNode={isHidden:!1},t}function s0(t,e,n){return t=jn(6,t,null,e),t.lanes=n,t}function o0(t,e,n){return e=jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function M3(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jg(0),this.expirationTimes=jg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jg(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function gy(t,e,n,i,r,s,o,a,l){return t=new M3(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=jn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z_(s),t}function R3(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Po,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function TT(t){if(!t)return es;t=t._reactInternals;e:{if(io(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(un(n))return TC(t,n,e)}return e}function bT(t,e,n,i,r,s,o,a,l){return t=gy(n,i,!0,t,r,s,o,a,l),t.context=TT(null),n=t.current,i=Ht(),r=Kr(n),s=nr(i,r),s.callback=e??null,Xr(n,s,r),t.current.lanes=r,tc(t,r,i),cn(t,i),t}function Pd(t,e,n,i){var r=e.current,s=Ht(),o=Kr(r);return n=TT(n),e.context===null?e.context=n:e.pendingContext=n,e=nr(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Xr(r,e,o),t!==null&&(oi(t,r,o,s),Nh(t,r,o)),o}function Af(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function HE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function my(t,e){HE(t,e),(t=t.alternate)&&HE(t,e)}function P3(){return null}var MT=typeof reportError=="function"?reportError:function(t){console.error(t)};function py(t){this._internalRoot=t}Id.prototype.render=py.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));Pd(t,e,null,null)};Id.prototype.unmount=py.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xs(function(){Pd(null,t,null,null)}),e[ur]=null}};function Id(t){this._internalRoot=t}Id.prototype.unstable_scheduleHydration=function(t){if(t){var e=rC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kr.length&&e!==0&&e<kr[n].priority;n++);kr.splice(n,0,t),n===0&&oC(t)}};function _y(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function KE(){}function I3(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=Af(o);s.call(u)}}var o=bT(e,i,t,0,null,!1,!1,"",KE);return t._reactRootContainer=o,t[ur]=o.current,pu(t.nodeType===8?t.parentNode:t),Xs(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=Af(l);a.call(u)}}var l=gy(t,0,!1,null,null,!1,!1,"",KE);return t._reactRootContainer=l,t[ur]=l.current,pu(t.nodeType===8?t.parentNode:t),Xs(function(){Pd(e,l,n,i)}),l}function Od(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Af(o);a.call(l)}}Pd(e,o,t,r)}else o=I3(n,e,t,r,i);return Af(o)}nC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Pl(e.pendingLanes);n!==0&&(D_(e,n|1),cn(e,tt()),!(we&6)&&(wa=tt()+500,fs()))}break;case 13:Xs(function(){var i=cr(t,1);if(i!==null){var r=Ht();oi(i,t,1,r)}}),my(t,1)}};N_=function(t){if(t.tag===13){var e=cr(t,134217728);if(e!==null){var n=Ht();oi(e,t,134217728,n)}my(t,134217728)}};iC=function(t){if(t.tag===13){var e=Kr(t),n=cr(t,e);if(n!==null){var i=Ht();oi(n,t,e,i)}my(t,e)}};rC=function(){return Le};sC=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};bm=function(t,e,n){switch(e){case"input":if(vm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=wd(i);if(!r)throw Error(V(90));DS(i),vm(i,r)}}}break;case"textarea":GS(t,n);break;case"select":e=n.value,e!=null&&Qo(t,!!n.multiple,e,!1)}};WS=cy;XS=Xs;var A3={usingClientEntryPoint:!1,Events:[ic,ko,wd,BS,VS,cy]},_l={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O3={bundleType:_l.bundleType,version:_l.version,rendererPackageName:_l.rendererPackageName,rendererConfig:_l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YS(t),t===null?null:t.stateNode},findFiberByHostInstance:_l.findFiberByHostInstance||P3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{yd=qc.inject(O3),ki=qc}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A3;Tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_y(e))throw Error(V(200));return R3(t,e,null,n)};Tn.createRoot=function(t,e){if(!_y(t))throw Error(V(299));var n=!1,i="",r=MT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=gy(t,1,!1,null,null,n,!1,i,r),t[ur]=e.current,pu(t.nodeType===8?t.parentNode:t),new py(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=YS(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return Xs(t)};Tn.hydrate=function(t,e,n){if(!Ad(e))throw Error(V(200));return Od(null,t,e,!0,n)};Tn.hydrateRoot=function(t,e,n){if(!_y(t))throw Error(V(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=MT;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bT(e,null,t,1,n??null,r,!1,s,o),t[ur]=e.current,pu(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Id(e)};Tn.render=function(t,e,n){if(!Ad(e))throw Error(V(200));return Od(null,t,e,!1,n)};Tn.unmountComponentAtNode=function(t){if(!Ad(t))throw Error(V(40));return t._reactRootContainer?(Xs(function(){Od(null,null,t,!1,function(){t._reactRootContainer=null,t[ur]=null})}),!0):!1};Tn.unstable_batchedUpdates=cy;Tn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Ad(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return Od(t,e,n,!1,i)};Tn.version="18.3.1-next-f1338f8080-20240426";function RT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RT)}catch(t){console.error(t)}}RT(),RS.exports=Tn;var PT=RS.exports,IT,YE=PT;IT=YE.createRoot,YE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Tu.apply(this,arguments)}var Gr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gr||(Gr={}));const qE="popstate";function L3(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return sp("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Of(r)}return F3(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function k3(){return Math.random().toString(36).substr(2,8)}function ZE(t,e){return{usr:t.state,key:t.key,idx:e}}function sp(t,e,n,i){return n===void 0&&(n=null),Tu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?za(e):e,{state:n,key:e&&e.key||i||k3()})}function Of(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function za(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function F3(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Gr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Tu({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Gr.Pop;let m=c(),_=m==null?null:m-u;u=m,l&&l({action:a,location:p.location,delta:_})}function f(m,_){a=Gr.Push;let y=sp(p.location,m,_);u=c()+1;let v=ZE(y,u),E=p.createHref(y);try{o.pushState(v,"",E)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;r.location.assign(E)}s&&l&&l({action:a,location:p.location,delta:1})}function g(m,_){a=Gr.Replace;let y=sp(p.location,m,_);u=c();let v=ZE(y,u),E=p.createHref(y);o.replaceState(v,"",E),s&&l&&l({action:a,location:p.location,delta:0})}function d(m){let _=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof m=="string"?m:Of(m);return y=y.replace(/ $/,"%20"),qe(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let p={get action(){return a},get location(){return t(r,o)},listen(m){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(qE,h),l=m,()=>{r.removeEventListener(qE,h),l=null}},createHref(m){return e(r,m)},createURL:d,encodeLocation(m){let _=d(m);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:g,go(m){return o.go(m)}};return p}var JE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(JE||(JE={}));function D3(t,e,n){return n===void 0&&(n="/"),N3(t,e,n)}function N3(t,e,n,i){let r=typeof e=="string"?za(e):e,s=Sa(r.pathname||"/",n);if(s==null)return null;let o=OT(t);G3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Y3(s);a=H3(o[l],u)}return a}function OT(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(qe(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=qr([i,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(qe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),OT(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:W3(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of LT(s.path))r(s,o,l)}),e}function LT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=LT(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function G3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:X3(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const U3=/^:[\w-]+$/,j3=3,$3=2,z3=1,B3=10,V3=-2,QE=t=>t==="*";function W3(t,e){let n=t.split("/"),i=n.length;return n.some(QE)&&(i+=V3),e&&(i+=$3),n.filter(r=>!QE(r)).reduce((r,s)=>r+(U3.test(s)?j3:s===""?z3:B3),i)}function X3(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function H3(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],u=a===i.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=op({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:qr([s,h.pathname]),pathnameBase:Q3(qr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=qr([s,h.pathnameBase]))}return o}function op(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=K3(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,c,h)=>{let{paramName:f,isOptional:g}=c;if(f==="*"){let p=a[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const d=a[h];return g&&!d?u[f]=void 0:u[f]=(d||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function K3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),AT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Y3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return AT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function q3(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?za(t):t;return{pathname:n?n.startsWith("/")?n:Z3(n,e):e,search:eO(i),hash:tO(r)}}function Z3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function a0(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kT(t,e){let n=J3(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function FT(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=za(t):(r=Tu({},t),qe(!r.pathname||!r.pathname.includes("?"),a0("?","pathname","search",r)),qe(!r.pathname||!r.pathname.includes("#"),a0("#","pathname","hash",r)),qe(!r.search||!r.search.includes("#"),a0("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=q3(r,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const qr=t=>t.join("/").replace(/\/\/+/g,"/"),Q3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const DT=["post","put","patch","delete"];new Set(DT);const iO=["get",...DT];new Set(iO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bu.apply(this,arguments)}const Ld=T.createContext(null),NT=T.createContext(null),ds=T.createContext(null),kd=T.createContext(null),gs=T.createContext({outlet:null,matches:[],isDataRoute:!1}),GT=T.createContext(null);function rO(t,e){let{relative:n}=e===void 0?{}:e;sc()||qe(!1);let{basename:i,navigator:r}=T.useContext(ds),{hash:s,pathname:o,search:a}=Fd(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:qr([i,o])),r.createHref({pathname:l,search:a,hash:s})}function sc(){return T.useContext(kd)!=null}function oc(){return sc()||qe(!1),T.useContext(kd).location}function UT(t){T.useContext(ds).static||T.useLayoutEffect(t)}function sO(){let{isDataRoute:t}=T.useContext(gs);return t?EO():oO()}function oO(){sc()||qe(!1);let t=T.useContext(Ld),{basename:e,future:n,navigator:i}=T.useContext(ds),{matches:r}=T.useContext(gs),{pathname:s}=oc(),o=JSON.stringify(kT(r,n.v7_relativeSplatPath)),a=T.useRef(!1);return UT(()=>{a.current=!0}),T.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){i.go(u);return}let h=FT(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:qr([e,h.pathname])),(c.replace?i.replace:i.push)(h,c.state,c)},[e,i,o,s,t])}const aO=T.createContext(null);function lO(t){let e=T.useContext(gs).outlet;return e&&T.createElement(aO.Provider,{value:t},e)}function Fd(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=T.useContext(ds),{matches:r}=T.useContext(gs),{pathname:s}=oc(),o=JSON.stringify(kT(r,i.v7_relativeSplatPath));return T.useMemo(()=>FT(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function uO(t,e){return cO(t,e)}function cO(t,e,n,i){sc()||qe(!1);let{navigator:r}=T.useContext(ds),{matches:s}=T.useContext(gs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=oc(),c;if(e){var h;let m=typeof e=="string"?za(e):e;l==="/"||(h=m.pathname)!=null&&h.startsWith(l)||qe(!1),c=m}else c=u;let f=c.pathname||"/",g=f;if(l!=="/"){let m=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(m.length).join("/")}let d=D3(t,{pathname:g}),p=mO(d&&d.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:qr([l,r.encodeLocation?r.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:qr([l,r.encodeLocation?r.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,n,i);return e&&p?T.createElement(kd.Provider,{value:{location:bu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Gr.Pop}},p):p}function hO(){let t=vO(),e=nO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:r},n):null,null)}const fO=T.createElement(hO,null);class dO extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(gs.Provider,{value:this.props.routeContext},T.createElement(GT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gO(t){let{routeContext:e,match:n,children:i}=t,r=T.useContext(Ld);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(gs.Provider,{value:e},i)}function mO(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||qe(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&i&&i.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:g}=n,d=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||d){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,f)=>{let g,d=!1,p=null,m=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,p=h.route.errorElement||fO,l&&(u<0&&f===0?(xO("route-fallback"),d=!0,m=null):u===f&&(d=!0,m=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),y=()=>{let v;return g?v=p:d?v=m:h.route.Component?v=T.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=c,T.createElement(gO,{match:h,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(dO,{location:n.location,revalidation:n.revalidation,component:p,error:g,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var jT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jT||{}),$T=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($T||{});function pO(t){let e=T.useContext(Ld);return e||qe(!1),e}function _O(t){let e=T.useContext(NT);return e||qe(!1),e}function yO(t){let e=T.useContext(gs);return e||qe(!1),e}function zT(t){let e=yO(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function vO(){var t;let e=T.useContext(GT),n=_O(),i=zT();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function EO(){let{router:t}=pO(jT.UseNavigateStable),e=zT($T.UseNavigateStable),n=T.useRef(!1);return UT(()=>{n.current=!0}),T.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,bu({fromRouteId:e},s)))},[t,e])}const ex={};function xO(t,e,n){ex[t]||(ex[t]=!0)}function wO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function SO(t){return lO(t.context)}function Ts(t){qe(!1)}function CO(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Gr.Pop,navigator:s,static:o=!1,future:a}=t;sc()&&qe(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:s,static:o,future:bu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=za(i));let{pathname:c="/",search:h="",hash:f="",state:g=null,key:d="default"}=i,p=T.useMemo(()=>{let m=Sa(c,l);return m==null?null:{location:{pathname:m,search:h,hash:f,state:g,key:d},navigationType:r}},[l,c,h,f,g,d,r]);return p==null?null:T.createElement(ds.Provider,{value:u},T.createElement(kd.Provider,{children:n,value:p}))}function TO(t){let{children:e,location:n}=t;return uO(ap(e),n)}new Promise(()=>{});function ap(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(i,r)=>{if(!T.isValidElement(i))return;let s=[...e,r];if(i.type===T.Fragment){n.push.apply(n,ap(i.props.children,s));return}i.type!==Ts&&qe(!1),!i.props.index||!i.props.children||qe(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=ap(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lf.apply(this,arguments)}function BT(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function bO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MO(t,e){return t.button===0&&(!e||e==="_self")&&!bO(t)}const RO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PO=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],IO="6";try{window.__reactRouterVersion=IO}catch{}const AO=T.createContext({isTransitioning:!1}),OO="startTransition",tx=fm[OO];function LO(t){let{basename:e,children:n,future:i,window:r}=t,s=T.useRef();s.current==null&&(s.current=L3({window:r,v5Compat:!0}));let o=s.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},c=T.useCallback(h=>{u&&tx?tx(()=>l(h)):l(h)},[l,u]);return T.useLayoutEffect(()=>o.listen(c),[o,c]),T.useEffect(()=>wO(i),[i]),T.createElement(CO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const kO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VT=T.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,f=BT(e,RO),{basename:g}=T.useContext(ds),d,p=!1;if(typeof u=="string"&&FO.test(u)&&(d=u,kO))try{let v=new URL(window.location.href),E=u.startsWith("//")?new URL(v.protocol+u):new URL(u),x=Sa(E.pathname,g);E.origin===v.origin&&x!=null?u=x+E.search+E.hash:p=!0}catch{}let m=rO(u,{relative:r}),_=NO(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:r,viewTransition:h});function y(v){i&&i(v),v.defaultPrevented||_(v)}return T.createElement("a",Lf({},f,{href:d||m,onClick:p||s?i:y,ref:n,target:l}))}),Zc=T.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:u,children:c}=e,h=BT(e,PO),f=Fd(l,{relative:h.relative}),g=oc(),d=T.useContext(NT),{navigator:p,basename:m}=T.useContext(ds),_=d!=null&&GO(f)&&u===!0,y=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,v=g.pathname,E=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;r||(v=v.toLowerCase(),E=E?E.toLowerCase():null,y=y.toLowerCase()),E&&m&&(E=Sa(E,m)||E);const x=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let S=v===y||!o&&v.startsWith(y)&&v.charAt(x)==="/",w=E!=null&&(E===y||!o&&E.startsWith(y)&&E.charAt(y.length)==="/"),C={isActive:S,isPending:w,isTransitioning:_},M=S?i:void 0,b;typeof s=="function"?b=s(C):b=[s,S?"active":null,w?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(C):a;return T.createElement(VT,Lf({},h,{"aria-current":M,className:b,ref:n,style:L,to:l,viewTransition:u}),typeof c=="function"?c(C):c)});var lp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lp||(lp={}));var nx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nx||(nx={}));function DO(t){let e=T.useContext(Ld);return e||qe(!1),e}function NO(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=sO(),u=oc(),c=Fd(t,{relative:o});return T.useCallback(h=>{if(MO(h,n)){h.preventDefault();let f=i!==void 0?i:Of(u)===Of(c);l(t,{replace:f,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,i,r,n,t,s,o,a])}function GO(t,e){e===void 0&&(e={});let n=T.useContext(AO);n==null&&qe(!1);let{basename:i}=DO(lp.useViewTransitionState),r=Fd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Sa(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Sa(n.nextLocation.pathname,i)||n.nextLocation.pathname;return op(r.pathname,o)!=null||op(r.pathname,s)!=null}function UO(){return A.jsx("div",{children:A.jsx("header",{children:A.jsx("div",{className:"container ",children:A.jsxs("div",{className:"navigation",children:[A.jsx("div",{className:"iconsize",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:A.jsx("path",{d:"M565.6 36.2C572.1 40.7 576 48.1 576 56l0 336c0 10-6.2 18.9-15.5 22.4l-168 64c-5.2 2-10.9 2.1-16.1 .3L192.5 417.5l-160 61c-7.4 2.8-15.7 1.8-22.2-2.7S0 463.9 0 456L0 120c0-10 6.1-18.9 15.5-22.4l168-64c5.2-2 10.9-2.1 16.1-.3L383.5 94.5l160-61c7.4-2.8 15.7-1.8 22.2 2.7zM48 136.5l0 284.6 120-45.7 0-284.6L48 136.5zM360 422.7l0-285.4-144-48 0 285.4 144 48zm48-1.5l120-45.7 0-284.6L408 136.5l0 284.6z"})})}),A.jsx("div",{className:"col-3 navcontainer",children:A.jsx("div",{children:A.jsx("nav",{children:A.jsxs("ul",{className:"nav_list",children:[A.jsx("li",{children:A.jsx(Zc,{to:"map",className:({isActive:t})=>t?"nav-item nav-item-active":"nav-item",children:"Map"})}),A.jsx("li",{children:A.jsx(Zc,{to:"multiviewer",className:({isActive:t})=>t?"nav-item nav-item-active":"nav-item",children:"Multiviewer"})}),A.jsx("li",{children:A.jsx(Zc,{to:"zone",className:({isActive:t})=>t?"nav-item nav-item-active":"nav-item",children:"Zone kort"})}),A.jsx("li",{children:A.jsx(Zc,{to:"test",className:({isActive:t})=>t?"nav-item nav-item-active":"nav-item",children:"Test"})})]})})})})]})})})})}function jO(){return A.jsxs("div",{children:[A.jsx("div",{className:"background"}),A.jsx(UO,{}),A.jsx(SO,{})]})}function Mt(t){return(e,...n)=>$O(t,e,n)}function Ba(t,e){return Mt(WT(t,e).get)}const{apply:$O,getOwnPropertyDescriptor:WT,getPrototypeOf:yy,ownKeys:zO}=Reflect,{iterator:ac,toStringTag:BO}=Symbol,VO=Object,{create:vy,defineProperty:WO}=VO,XO=Array,HO=XO.prototype,XT=HO[ac],KO=Mt(XT),HT=ArrayBuffer,YO=HT.prototype;Ba(YO,"byteLength");const ix=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;ix&&Ba(ix.prototype,"byteLength");const KT=yy(Uint8Array);KT.from;const qt=KT.prototype;qt[ac];Mt(qt.keys);Mt(qt.values);Mt(qt.entries);Mt(qt.set);Mt(qt.reverse);Mt(qt.fill);Mt(qt.copyWithin);Mt(qt.sort);Mt(qt.slice);Mt(qt.subarray);Ba(qt,"buffer");Ba(qt,"byteOffset");Ba(qt,"length");Ba(qt,BO);const qO=Uint8Array,YT=Uint16Array,Ey=Uint32Array,ZO=Float32Array,Mu=yy([][ac]()),qT=Mt(Mu.next),JO=Mt(function*(){}().next),QO=yy(Mu),eL=DataView.prototype,tL=Mt(eL.getUint16),xy=WeakMap,ZT=xy.prototype,JT=Mt(ZT.get),nL=Mt(ZT.set),QT=new xy,iL=vy(null,{next:{value:function(){const e=JT(QT,this);return qT(e)}},[ac]:{value:function(){return this}}});function rL(t){if(t[ac]===XT&&Mu.next===qT)return t;const e=vy(iL);return nL(QT,e,KO(t)),e}const sL=new xy,oL=vy(QO,{next:{value:function(){const e=JT(sL,this);return JO(e)},writable:!0,configurable:!0}});for(const t of zO(Mu))t!=="next"&&WO(oL,t,WT(Mu,t));const eb=new HT(4),aL=new ZO(eb),lL=new Ey(eb),Ei=new YT(512),xi=new qO(512);for(let t=0;t<256;++t){const e=t-127;e<-24?(Ei[t]=0,Ei[t|256]=32768,xi[t]=24,xi[t|256]=24):e<-14?(Ei[t]=1024>>-e-14,Ei[t|256]=1024>>-e-14|32768,xi[t]=-e-1,xi[t|256]=-e-1):e<=15?(Ei[t]=e+15<<10,Ei[t|256]=e+15<<10|32768,xi[t]=13,xi[t|256]=13):e<128?(Ei[t]=31744,Ei[t|256]=64512,xi[t]=24,xi[t|256]=24):(Ei[t]=31744,Ei[t|256]=64512,xi[t]=13,xi[t|256]=13)}const wy=new Ey(2048);for(let t=1;t<1024;++t){let e=t<<13,n=0;for(;!(e&8388608);)e<<=1,n-=8388608;e&=-8388609,n+=947912704,wy[t]=e|n}for(let t=1024;t<2048;++t)wy[t]=939524096+(t-1024<<13);const Va=new Ey(64);for(let t=1;t<31;++t)Va[t]=t<<23;Va[31]=1199570944;Va[32]=2147483648;for(let t=33;t<63;++t)Va[t]=2147483648+(t-32<<23);Va[63]=3347054592;const tb=new YT(64);for(let t=1;t<64;++t)t!==32&&(tb[t]=1024);function uL(t){const e=t>>10;return lL[0]=wy[tb[e]+(t&1023)]+Va[e],aL[0]}function nb(t,e,...n){return uL(tL(t,e,...rL(n)))}var Sy={exports:{}};function ib(t,e,n){const i=n&&n.debug||!1;i&&console.log("[xml-utils] getting "+e+" in "+t);const r=typeof t=="object"?t.outer:t,s=r.slice(0,r.indexOf(">")+1),o=['"',"'"];for(let a=0;a<o.length;a++){const l=o[a],u=e+"\\="+l+"([^"+l+"]*)"+l;i&&console.log("[xml-utils] pattern:",u);const h=new RegExp(u).exec(s);if(i&&console.log("[xml-utils] match:",h),h)return h[1]}}Sy.exports=ib;Sy.exports.default=ib;var cL=Sy.exports;const l0=Qu(cL);var Cy={exports:{}},Ty={exports:{}},by={exports:{}};function rb(t,e,n){const r=new RegExp(e).exec(t.slice(n));return r?n+r.index:-1}by.exports=rb;by.exports.default=rb;var hL=by.exports,My={exports:{}};function sb(t,e,n){const r=new RegExp(e).exec(t.slice(n));return r?n+r.index+r[0].length-1:-1}My.exports=sb;My.exports.default=sb;var fL=My.exports,Ry={exports:{}};function ob(t,e){const n=new RegExp(e,"g"),i=t.match(n);return i?i.length:0}Ry.exports=ob;Ry.exports.default=ob;var dL=Ry.exports;const gL=hL,u0=fL,rx=dL;function ab(t,e,n){const i=n&&n.debug||!1,r=!(n&&typeof n.nested===!1),s=n&&n.startIndex||0;i&&console.log("[xml-utils] starting findTagByName with",e," and ",n);const o=gL(t,`<${e}[ 
>/]`,s);if(i&&console.log("[xml-utils] start:",o),o===-1)return;const a=t.slice(o+e.length);let l=u0(a,"^[^<]*[ /]>",0);const u=l!==-1&&a[l-1]==="/";if(i&&console.log("[xml-utils] selfClosing:",u),u===!1)if(r){let g=0,d=1,p=0;for(;(l=u0(a,"[ /]"+e+">",g))!==-1;){const m=a.substring(g,l+1);if(d+=rx(m,"<"+e+`[ 
	>]`),p+=rx(m,"</"+e+">"),p>=d)break;g=l}}else l=u0(a,"[ /]"+e+">",0);const c=o+e.length+l+1;if(i&&console.log("[xml-utils] end:",c),c===-1)return;const h=t.slice(o,c);let f;return u?f=null:f=h.slice(h.indexOf(">")+1,h.lastIndexOf("<")),{inner:f,outer:h,start:o,end:c}}Ty.exports=ab;Ty.exports.default=ab;var mL=Ty.exports;const pL=mL;function lb(t,e,n){const i=[],r=n&&n.debug||!1,s=n&&typeof n.nested=="boolean"?n.nested:!0;let o=n&&n.startIndex||0,a;for(;a=pL(t,e,{debug:r,startIndex:o});)s?o=a.start+1+e.length:o=a.end,i.push(a);return r&&console.log("findTagsByName found",i.length,"tags"),i}Cy.exports=lb;Cy.exports.default=lb;var _L=Cy.exports;const yL=Qu(_L),ql={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},Si={};for(const t in ql)ql.hasOwnProperty(t)&&(Si[ql[t]]=parseInt(t,10));const vL=[Si.BitsPerSample,Si.ExtraSamples,Si.SampleFormat,Si.StripByteCounts,Si.StripOffsets,Si.StripRowCounts,Si.TileByteCounts,Si.TileOffsets,Si.SubIFDs],c0={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},ge={};for(const t in c0)c0.hasOwnProperty(t)&&(ge[c0[t]]=parseInt(t,10));const Qt={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},EL={Unspecified:0},Fq={AddCompression:1},Dq={None:0,Deflate:1,Zstandard:2},xL={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"};function wL(t,e){const{width:n,height:i}=t,r=new Uint8Array(n*i*3);let s;for(let o=0,a=0;o<t.length;++o,a+=3)s=256-t[o]/e*256,r[a]=s,r[a+1]=s,r[a+2]=s;return r}function SL(t,e){const{width:n,height:i}=t,r=new Uint8Array(n*i*3);let s;for(let o=0,a=0;o<t.length;++o,a+=3)s=t[o]/e*256,r[a]=s,r[a+1]=s,r[a+2]=s;return r}function CL(t,e){const{width:n,height:i}=t,r=new Uint8Array(n*i*3),s=e.length/3,o=e.length/3*2;for(let a=0,l=0;a<t.length;++a,l+=3){const u=t[a];r[l]=e[u]/65536*256,r[l+1]=e[u+s]/65536*256,r[l+2]=e[u+o]/65536*256}return r}function TL(t){const{width:e,height:n}=t,i=new Uint8Array(e*n*3);for(let r=0,s=0;r<t.length;r+=4,s+=3){const o=t[r],a=t[r+1],l=t[r+2],u=t[r+3];i[s]=255*((255-o)/256)*((255-u)/256),i[s+1]=255*((255-a)/256)*((255-u)/256),i[s+2]=255*((255-l)/256)*((255-u)/256)}return i}function bL(t){const{width:e,height:n}=t,i=new Uint8ClampedArray(e*n*3);for(let r=0,s=0;r<t.length;r+=3,s+=3){const o=t[r],a=t[r+1],l=t[r+2];i[s]=o+1.402*(l-128),i[s+1]=o-.34414*(a-128)-.71414*(l-128),i[s+2]=o+1.772*(a-128)}return i}const ML=.95047,RL=1,PL=1.08883;function IL(t){const{width:e,height:n}=t,i=new Uint8Array(e*n*3);for(let r=0,s=0;r<t.length;r+=3,s+=3){const o=t[r+0],a=t[r+1]<<24>>24,l=t[r+2]<<24>>24;let u=(o+16)/116,c=a/500+u,h=u-l/200,f,g,d;c=ML*(c*c*c>.008856?c*c*c:(c-16/116)/7.787),u=RL*(u*u*u>.008856?u*u*u:(u-16/116)/7.787),h=PL*(h*h*h>.008856?h*h*h:(h-16/116)/7.787),f=c*3.2406+u*-1.5372+h*-.4986,g=c*-.9689+u*1.8758+h*.0415,d=c*.0557+u*-.204+h*1.057,f=f>.0031308?1.055*f**(1/2.4)-.055:12.92*f,g=g>.0031308?1.055*g**(1/2.4)-.055:12.92*g,d=d>.0031308?1.055*d**(1/2.4)-.055:12.92*d,i[s]=Math.max(0,Math.min(1,f))*255,i[s+1]=Math.max(0,Math.min(1,g))*255,i[s+2]=Math.max(0,Math.min(1,d))*255}return i}const AL="modulepreload",OL=function(t){return"/"+t},sx={},ms=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=OL(l),l in sx)return;sx[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":AL,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},ub=new Map;function ps(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>ub.set(n,e))}async function cb(t){const e=ub.get(t.Compression);if(!e)throw new Error(`Unknown compression method identifier: ${t.Compression}`);const n=await e();return new n(t)}ps([void 0,1],()=>ms(()=>import("./raw-in9isEBO.js"),__vite__mapDeps([0,1])).then(t=>t.default));ps(5,()=>ms(()=>import("./lzw-_aCqfs4w.js"),__vite__mapDeps([2,1])).then(t=>t.default));ps(6,()=>{throw new Error("old style JPEG compression is not supported.")});ps(7,()=>ms(()=>import("./jpeg-JhJy4lL1.js"),__vite__mapDeps([3,1])).then(t=>t.default));ps([8,32946],()=>ms(()=>import("./deflate-Dthki0TA.js"),__vite__mapDeps([4,5,1])).then(t=>t.default));ps(32773,()=>ms(()=>import("./packbits-DDWKfGV_.js"),__vite__mapDeps([6,1])).then(t=>t.default));ps(34887,()=>ms(()=>import("./lerc-DU-3Rgyh.js"),__vite__mapDeps([7,5,1])).then(async t=>(await t.zstd.init(),t)).then(t=>t.default));ps(50001,()=>ms(()=>import("./webimage-DBgUwIbt.js"),__vite__mapDeps([8,1])).then(t=>t.default));function Dd(t,e,n,i=1){return new(Object.getPrototypeOf(t)).constructor(e*n*i)}function LL(t,e,n,i,r){const s=e/i,o=n/r;return t.map(a=>{const l=Dd(a,i,r);for(let u=0;u<r;++u){const c=Math.min(Math.round(o*u),n-1);for(let h=0;h<i;++h){const f=Math.min(Math.round(s*h),e-1),g=a[c*e+f];l[u*i+h]=g}}return l})}function sa(t,e,n){return(1-n)*t+n*e}function kL(t,e,n,i,r){const s=e/i,o=n/r;return t.map(a=>{const l=Dd(a,i,r);for(let u=0;u<r;++u){const c=o*u,h=Math.floor(c),f=Math.min(Math.ceil(c),n-1);for(let g=0;g<i;++g){const d=s*g,p=d%1,m=Math.floor(d),_=Math.min(Math.ceil(d),e-1),y=a[h*e+m],v=a[h*e+_],E=a[f*e+m],x=a[f*e+_],S=sa(sa(y,v,p),sa(E,x,p),c%1);l[u*i+g]=S}}return l})}function FL(t,e,n,i,r,s="nearest"){switch(s.toLowerCase()){case"nearest":return LL(t,e,n,i,r);case"bilinear":case"linear":return kL(t,e,n,i,r);default:throw new Error(`Unsupported resampling method: '${s}'`)}}function DL(t,e,n,i,r,s){const o=e/i,a=n/r,l=Dd(t,i,r,s);for(let u=0;u<r;++u){const c=Math.min(Math.round(a*u),n-1);for(let h=0;h<i;++h){const f=Math.min(Math.round(o*h),e-1);for(let g=0;g<s;++g){const d=t[c*e*s+f*s+g];l[u*i*s+h*s+g]=d}}}return l}function NL(t,e,n,i,r,s){const o=e/i,a=n/r,l=Dd(t,i,r,s);for(let u=0;u<r;++u){const c=a*u,h=Math.floor(c),f=Math.min(Math.ceil(c),n-1);for(let g=0;g<i;++g){const d=o*g,p=d%1,m=Math.floor(d),_=Math.min(Math.ceil(d),e-1);for(let y=0;y<s;++y){const v=t[h*e*s+m*s+y],E=t[h*e*s+_*s+y],x=t[f*e*s+m*s+y],S=t[f*e*s+_*s+y],w=sa(sa(v,E,p),sa(x,S,p),c%1);l[u*i*s+g*s+y]=w}}}return l}function GL(t,e,n,i,r,s,o="nearest"){switch(o.toLowerCase()){case"nearest":return DL(t,e,n,i,r,s);case"bilinear":case"linear":return NL(t,e,n,i,r,s);default:throw new Error(`Unsupported resampling method: '${o}'`)}}function UL(t,e,n){let i=0;for(let r=e;r<n;++r)i+=t[r];return i}function up(t,e,n){switch(t){case 1:if(e<=8)return new Uint8Array(n);if(e<=16)return new Uint16Array(n);if(e<=32)return new Uint32Array(n);break;case 2:if(e===8)return new Int8Array(n);if(e===16)return new Int16Array(n);if(e===32)return new Int32Array(n);break;case 3:switch(e){case 16:case 32:return new Float32Array(n);case 64:return new Float64Array(n)}break}throw Error("Unsupported data format/bitsPerSample")}function jL(t,e){return(t===1||t===2)&&e<=32&&e%8===0?!1:!(t===3&&(e===16||e===32||e===64))}function $L(t,e,n,i,r,s,o){const a=new DataView(t),l=n===2?o*s:o*s*i,u=n===2?1:i,c=up(e,r,l),h=parseInt("1".repeat(r),2);if(e===1){let f;n===1?f=i*r:f=r;let g=s*f;g&7&&(g=g+7&-8);for(let d=0;d<o;++d){const p=d*g;for(let m=0;m<s;++m){const _=p+m*u*r;for(let y=0;y<u;++y){const v=_+y*r,E=(d*s+m)*u+y,x=Math.floor(v/8),S=v%8;if(S+r<=8)c[E]=a.getUint8(x)>>8-r-S&h;else if(S+r<=16)c[E]=a.getUint16(x)>>16-r-S&h;else if(S+r<=24){const w=a.getUint16(x)<<8|a.getUint8(x+2);c[E]=w>>24-r-S&h}else c[E]=a.getUint32(x)>>32-r-S&h}}}}return c.buffer}class hb{constructor(e,n,i,r,s,o){this.fileDirectory=e,this.geoKeys=n,this.dataView=i,this.littleEndian=r,this.tiles=s?{}:null,this.isTiled=!e.StripOffsets;const a=e.PlanarConfiguration;if(this.planarConfiguration=typeof a>"u"?1:a,this.planarConfiguration!==1&&this.planarConfiguration!==2)throw new Error("Invalid planar configuration.");this.source=o}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return typeof this.fileDirectory.SamplesPerPixel<"u"?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:typeof this.fileDirectory.RowsPerStrip<"u"?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(e){return this.isTiled||(e+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-e*this.getTileHeight()}getBytesPerPixel(){let e=0;for(let n=0;n<this.fileDirectory.BitsPerSample.length;++n)e+=this.getSampleByteSize(n);return e}getSampleByteSize(e){if(e>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${e} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[e]/8)}getReaderForSample(e){const n=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,i=this.fileDirectory.BitsPerSample[e];switch(n){case 1:if(i<=8)return DataView.prototype.getUint8;if(i<=16)return DataView.prototype.getUint16;if(i<=32)return DataView.prototype.getUint32;break;case 2:if(i<=8)return DataView.prototype.getInt8;if(i<=16)return DataView.prototype.getInt16;if(i<=32)return DataView.prototype.getInt32;break;case 3:switch(i){case 16:return function(r,s){return nb(this,r,s)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}break}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(e=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1}getBitsPerSample(e=0){return this.fileDirectory.BitsPerSample[e]}getArrayForSample(e,n){const i=this.getSampleFormat(e),r=this.getBitsPerSample(e);return up(i,r,n)}async getTileOrStrip(e,n,i,r,s){const o=Math.ceil(this.getWidth()/this.getTileWidth()),a=Math.ceil(this.getHeight()/this.getTileHeight());let l;const{tiles:u}=this;this.planarConfiguration===1?l=n*o+e:this.planarConfiguration===2&&(l=i*o*a+n*o+e);let c,h;this.isTiled?(c=this.fileDirectory.TileOffsets[l],h=this.fileDirectory.TileByteCounts[l]):(c=this.fileDirectory.StripOffsets[l],h=this.fileDirectory.StripByteCounts[l]);const f=(await this.source.fetch([{offset:c,length:h}],s))[0];let g;return u===null||!u[l]?(g=(async()=>{let d=await r.decode(this.fileDirectory,f);const p=this.getSampleFormat(),m=this.getBitsPerSample();return jL(p,m)&&(d=$L(d,p,this.planarConfiguration,this.getSamplesPerPixel(),m,this.getTileWidth(),this.getBlockHeight(n))),d})(),u!==null&&(u[l]=g)):g=u[l],{x:e,y:n,sample:i,data:await g}}async _readRaster(e,n,i,r,s,o,a,l,u){const c=this.getTileWidth(),h=this.getTileHeight(),f=this.getWidth(),g=this.getHeight(),d=Math.max(Math.floor(e[0]/c),0),p=Math.min(Math.ceil(e[2]/c),Math.ceil(f/c)),m=Math.max(Math.floor(e[1]/h),0),_=Math.min(Math.ceil(e[3]/h),Math.ceil(g/h)),y=e[2]-e[0];let v=this.getBytesPerPixel();const E=[],x=[];for(let C=0;C<n.length;++C)this.planarConfiguration===1?E.push(UL(this.fileDirectory.BitsPerSample,0,n[C])/8):E.push(0),x.push(this.getReaderForSample(n[C]));const S=[],{littleEndian:w}=this;for(let C=m;C<_;++C)for(let M=d;M<p;++M){let b;this.planarConfiguration===1&&(b=this.getTileOrStrip(M,C,0,s,u));for(let L=0;L<n.length;++L){const O=L,N=n[L];this.planarConfiguration===2&&(v=this.getSampleByteSize(N),b=this.getTileOrStrip(M,C,N,s,u));const $=b.then(U=>{const j=U.data,B=new DataView(j),P=this.getBlockHeight(U.y),F=U.y*h,D=U.x*c,G=F+P,R=(U.x+1)*c,X=x[O],K=Math.min(P,P-(G-e[3]),g-F),H=Math.min(c,c-(R-e[2]),f-D);for(let J=Math.max(0,e[1]-F);J<K;++J)for(let te=Math.max(0,e[0]-D);te<H;++te){const ve=(J*c+te)*v,Ge=X.call(B,ve+E[O],w);let ze;r?(ze=(J+F-e[1])*y*n.length+(te+D-e[0])*n.length+O,i[ze]=Ge):(ze=(J+F-e[1])*y+te+D-e[0],i[O][ze]=Ge)}});S.push($)}}if(await Promise.all(S),o&&e[2]-e[0]!==o||a&&e[3]-e[1]!==a){let C;return r?C=GL(i,e[2]-e[0],e[3]-e[1],o,a,n.length,l):C=FL(i,e[2]-e[0],e[3]-e[1],o,a,l),C.width=o,C.height=a,C}return i.width=o||e[2]-e[0],i.height=a||e[3]-e[1],i}async readRasters({window:e,samples:n=[],interleave:i,pool:r=null,width:s,height:o,resampleMethod:a,fillValue:l,signal:u}={}){const c=e||[0,0,this.getWidth(),this.getHeight()];if(c[0]>c[2]||c[1]>c[3])throw new Error("Invalid subsets");const h=c[2]-c[0],f=c[3]-c[1],g=h*f,d=this.getSamplesPerPixel();if(!n||!n.length)for(let y=0;y<d;++y)n.push(y);else for(let y=0;y<n.length;++y)if(n[y]>=d)return Promise.reject(new RangeError(`Invalid sample index '${n[y]}'.`));let p;if(i){const y=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,v=Math.max.apply(null,this.fileDirectory.BitsPerSample);p=up(y,v,g*n.length),l&&p.fill(l)}else{p=[];for(let y=0;y<n.length;++y){const v=this.getArrayForSample(n[y],g);Array.isArray(l)&&y<l.length?v.fill(l[y]):l&&!Array.isArray(l)&&v.fill(l),p.push(v)}}const m=r||await cb(this.fileDirectory);return await this._readRaster(c,n,p,i,m,s,o,a,u)}async readRGB({window:e,interleave:n=!0,pool:i=null,width:r,height:s,resampleMethod:o,enableAlpha:a=!1,signal:l}={}){const u=e||[0,0,this.getWidth(),this.getHeight()];if(u[0]>u[2]||u[1]>u[3])throw new Error("Invalid subsets");const c=this.fileDirectory.PhotometricInterpretation;if(c===Qt.RGB){let _=[0,1,2];if(this.fileDirectory.ExtraSamples!==EL.Unspecified&&a){_=[];for(let y=0;y<this.fileDirectory.BitsPerSample.length;y+=1)_.push(y)}return this.readRasters({window:e,interleave:n,samples:_,pool:i,width:r,height:s,resampleMethod:o,signal:l})}let h;switch(c){case Qt.WhiteIsZero:case Qt.BlackIsZero:case Qt.Palette:h=[0];break;case Qt.CMYK:h=[0,1,2,3];break;case Qt.YCbCr:case Qt.CIELab:h=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const f={window:u,interleave:!0,samples:h,pool:i,width:r,height:s,resampleMethod:o,signal:l},{fileDirectory:g}=this,d=await this.readRasters(f),p=2**this.fileDirectory.BitsPerSample[0];let m;switch(c){case Qt.WhiteIsZero:m=wL(d,p);break;case Qt.BlackIsZero:m=SL(d,p);break;case Qt.Palette:m=CL(d,g.ColorMap);break;case Qt.CMYK:m=TL(d);break;case Qt.YCbCr:m=bL(d);break;case Qt.CIELab:m=IL(d);break;default:throw new Error("Unsupported photometric interpretation.")}if(!n){const _=new Uint8Array(m.length/3),y=new Uint8Array(m.length/3),v=new Uint8Array(m.length/3);for(let E=0,x=0;E<m.length;E+=3,++x)_[x]=m[E],y[x]=m[E+1],v[x]=m[E+2];m=[_,y,v]}return m.width=d.width,m.height=d.height,m}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const e=[];for(let n=0;n<this.fileDirectory.ModelTiepoint.length;n+=6)e.push({i:this.fileDirectory.ModelTiepoint[n],j:this.fileDirectory.ModelTiepoint[n+1],k:this.fileDirectory.ModelTiepoint[n+2],x:this.fileDirectory.ModelTiepoint[n+3],y:this.fileDirectory.ModelTiepoint[n+4],z:this.fileDirectory.ModelTiepoint[n+5]});return e}getGDALMetadata(e=null){const n={};if(!this.fileDirectory.GDAL_METADATA)return null;const i=this.fileDirectory.GDAL_METADATA;let r=yL(i,"Item");e===null?r=r.filter(s=>l0(s,"sample")===void 0):r=r.filter(s=>Number(l0(s,"sample"))===e);for(let s=0;s<r.length;++s){const o=r[s];n[l0(o,"name")]=o.inner}return n}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const e=this.fileDirectory.GDAL_NODATA;return Number(e.substring(0,e.length-1))}getOrigin(){const e=this.fileDirectory.ModelTiepoint,n=this.fileDirectory.ModelTransformation;if(e&&e.length===6)return[e[3],e[4],e[5]];if(n)return[n[3],n[7],n[11]];throw new Error("The image does not have an affine transformation.")}getResolution(e=null){const n=this.fileDirectory.ModelPixelScale,i=this.fileDirectory.ModelTransformation;if(n)return[n[0],-n[1],n[2]];if(i)return i[1]===0&&i[4]===0?[i[0],-i[5],i[10]]:[Math.sqrt(i[0]*i[0]+i[4]*i[4]),-Math.sqrt(i[1]*i[1]+i[5]*i[5]),i[10]];if(e){const[r,s,o]=e.getResolution();return[r*e.getWidth()/this.getWidth(),s*e.getHeight()/this.getHeight(),o*e.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return this.geoKeys.GTRasterTypeGeoKey===1}getBoundingBox(e=!1){const n=this.getHeight(),i=this.getWidth();if(this.fileDirectory.ModelTransformation&&!e){const[r,s,o,a,l,u,c,h]=this.fileDirectory.ModelTransformation,g=[[0,0],[0,n],[i,0],[i,n]].map(([m,_])=>[a+r*m+s*_,h+l*m+u*_]),d=g.map(m=>m[0]),p=g.map(m=>m[1]);return[Math.min(...d),Math.min(...p),Math.max(...d),Math.max(...p)]}else{const r=this.getOrigin(),s=this.getResolution(),o=r[0],a=r[1],l=o+s[0]*i,u=a+s[1]*n;return[Math.min(o,l),Math.min(a,u),Math.max(o,l),Math.max(a,u)]}}}class zL{constructor(e){this._dataView=new DataView(e)}get buffer(){return this._dataView.buffer}getUint64(e,n){const i=this.getUint32(e,n),r=this.getUint32(e+4,n);let s;if(n){if(s=i+2**32*r,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}if(s=2**32*i+r,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}getInt64(e,n){let i=0;const r=(this._dataView.getUint8(e+(n?7:0))&128)>0;let s=!0;for(let o=0;o<8;o++){let a=this._dataView.getUint8(e+(n?o:7-o));r&&(s?a!==0&&(a=~(a-1)&255,s=!1):a=~a&255),i+=a*256**o}return r&&(i=-i),i}getUint8(e,n){return this._dataView.getUint8(e,n)}getInt8(e,n){return this._dataView.getInt8(e,n)}getUint16(e,n){return this._dataView.getUint16(e,n)}getInt16(e,n){return this._dataView.getInt16(e,n)}getUint32(e,n){return this._dataView.getUint32(e,n)}getInt32(e,n){return this._dataView.getInt32(e,n)}getFloat16(e,n){return nb(this._dataView,e,n)}getFloat32(e,n){return this._dataView.getFloat32(e,n)}getFloat64(e,n){return this._dataView.getFloat64(e,n)}}class BL{constructor(e,n,i,r){this._dataView=new DataView(e),this._sliceOffset=n,this._littleEndian=i,this._bigTiff=r}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(e,n){return this.sliceOffset<=e&&this.sliceTop>=e+n}readUint8(e){return this._dataView.getUint8(e-this._sliceOffset,this._littleEndian)}readInt8(e){return this._dataView.getInt8(e-this._sliceOffset,this._littleEndian)}readUint16(e){return this._dataView.getUint16(e-this._sliceOffset,this._littleEndian)}readInt16(e){return this._dataView.getInt16(e-this._sliceOffset,this._littleEndian)}readUint32(e){return this._dataView.getUint32(e-this._sliceOffset,this._littleEndian)}readInt32(e){return this._dataView.getInt32(e-this._sliceOffset,this._littleEndian)}readFloat32(e){return this._dataView.getFloat32(e-this._sliceOffset,this._littleEndian)}readFloat64(e){return this._dataView.getFloat64(e-this._sliceOffset,this._littleEndian)}readUint64(e){const n=this.readUint32(e),i=this.readUint32(e+4);let r;if(this._littleEndian){if(r=n+2**32*i,!Number.isSafeInteger(r))throw new Error(`${r} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return r}if(r=2**32*n+i,!Number.isSafeInteger(r))throw new Error(`${r} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return r}readInt64(e){let n=0;const i=(this._dataView.getUint8(e+(this._littleEndian?7:0))&128)>0;let r=!0;for(let s=0;s<8;s++){let o=this._dataView.getUint8(e+(this._littleEndian?s:7-s));i&&(r?o!==0&&(o=~(o-1)&255,r=!1):o=~o&255),n+=o*256**s}return i&&(n=-n),n}readOffset(e){return this._bigTiff?this.readUint64(e):this.readUint32(e)}}const VL=typeof navigator<"u"&&navigator.hardwareConcurrency||2;class WL{constructor(e=VL,n){this.workers=null,this._awaitingDecoder=null,this.size=e,this.messageId=0,e&&(this._awaitingDecoder=n?Promise.resolve(n):new Promise(i=>{ms(()=>import("./decoder-tqM1uIvc.js"),[]).then(r=>{i(r.create)})}),this._awaitingDecoder.then(i=>{this._awaitingDecoder=null,this.workers=[];for(let r=0;r<e;r++)this.workers.push({worker:i(),idle:!0})}))}async decode(e,n){return this._awaitingDecoder&&await this._awaitingDecoder,this.size===0?cb(e).then(i=>i.decode(e,n)):new Promise(i=>{const r=this.workers.find(a=>a.idle)||this.workers[Math.floor(Math.random()*this.size)];r.idle=!1;const s=this.messageId++,o=a=>{a.data.id===s&&(r.idle=!0,i(a.data.decoded),r.worker.removeEventListener("message",o))};r.worker.addEventListener("message",o),r.worker.postMessage({fileDirectory:e,buffer:n,id:s},[n])})}destroy(){this.workers&&(this.workers.forEach(e=>{e.worker.terminate()}),this.workers=null)}}const ox=`\r
\r
`;function fb(t){if(typeof Object.fromEntries<"u")return Object.fromEntries(t);const e={};for(const[n,i]of t)e[n.toLowerCase()]=i;return e}function XL(t){const e=t.split(`\r
`).map(n=>{const i=n.split(":").map(r=>r.trim());return i[0]=i[0].toLowerCase(),i});return fb(e)}function HL(t){const[e,...n]=t.split(";").map(r=>r.trim()),i=n.map(r=>r.split("="));return{type:e,params:fb(i)}}function cp(t){let e,n,i;return t&&([,e,n,i]=t.match(/bytes (\d+)-(\d+)\/(\d+)/),e=parseInt(e,10),n=parseInt(n,10),i=parseInt(i,10)),{start:e,end:n,total:i}}function KL(t,e){let n=null;const i=new TextDecoder("ascii"),r=[],s=`--${e}`,o=`${s}--`;for(let a=0;a<10;++a)i.decode(new Uint8Array(t,a,s.length))===s&&(n=a);if(n===null)throw new Error("Could not find initial boundary");for(;n<t.byteLength;){const a=i.decode(new Uint8Array(t,n,Math.min(s.length+1024,t.byteLength-n)));if(a.length===0||a.startsWith(o))break;if(!a.startsWith(s))throw new Error("Part does not start with boundary");const l=a.substr(s.length+2);if(l.length===0)break;const u=l.indexOf(ox),c=XL(l.substr(0,u)),{start:h,end:f,total:g}=cp(c["content-range"]),d=n+s.length+u+ox.length,p=parseInt(f,10)+1-parseInt(h,10);r.push({headers:c,data:t.slice(d,d+p),offset:h,length:p,fileSize:g}),n=d+p+4}return r}class Py{async fetch(e,n=void 0){return Promise.all(e.map(i=>this.fetchSlice(i,n)))}async fetchSlice(e){throw new Error(`fetching of slice ${e} not possible, not implemented`)}get fileSize(){return null}async close(){}}class YL extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(const[n,i]of e)this.onEviction(n,i.value)}_deleteIfExpired(e,n){return typeof n.expiry=="number"&&n.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,n.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,n){if(this._deleteIfExpired(e,n)===!1)return n.value}_getItemValue(e,n){return n.expiry?this._getOrDeleteIfExpired(e,n):n.value}_peek(e,n){const i=n.get(e);return this._getItemValue(e,i)}_set(e,n){this.cache.set(e,n),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,n){this.oldCache.delete(e),this._set(e,n)}*_entriesAscending(){for(const e of this.oldCache){const[n,i]=e;this.cache.has(n)||this._deleteIfExpired(n,i)===!1&&(yield e)}for(const e of this.cache){const[n,i]=e;this._deleteIfExpired(n,i)===!1&&(yield e)}}get(e){if(this.cache.has(e)){const n=this.cache.get(e);return this._getItemValue(e,n)}if(this.oldCache.has(e)){const n=this.oldCache.get(e);if(this._deleteIfExpired(e,n)===!1)return this._moveToRecent(e,n),n.value}}set(e,n,{maxAge:i=this.maxAge}={}){const r=typeof i=="number"&&i!==Number.POSITIVE_INFINITY?Date.now()+i:void 0;return this.cache.has(e)?this.cache.set(e,{value:n,expiry:r}):this._set(e,{value:n,expiry:r}),this}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){const n=this.cache.delete(e);return n&&this._size--,this.oldCache.delete(e)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const n=[...this._entriesAscending()],i=n.length-e;i<0?(this.cache=new Map(n),this.oldCache=new Map,this._size=n.length):(i>0&&this._emitEvictions(n.slice(0,i)),this.oldCache=new Map(n.slice(i)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[n,i]=e;this._deleteIfExpired(n,i)===!1&&(yield[n,i.value])}for(const e of this.oldCache){const[n,i]=e;this.cache.has(n)||this._deleteIfExpired(n,i)===!1&&(yield[n,i.value])}}*entriesDescending(){let e=[...this.cache];for(let n=e.length-1;n>=0;--n){const i=e[n],[r,s]=i;this._deleteIfExpired(r,s)===!1&&(yield[r,s.value])}e=[...this.oldCache];for(let n=e.length-1;n>=0;--n){const i=e[n],[r,s]=i;this.cache.has(r)||this._deleteIfExpired(r,s)===!1&&(yield[r,s.value])}}*entriesAscending(){for(const[e,n]of this._entriesAscending())yield[e,n.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const n of this.oldCache.keys())this.cache.has(n)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,n=this){for(const[i,r]of this.entriesAscending())e.call(n,r,i,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}async function qL(t){return new Promise(e=>setTimeout(e,t))}function ZL(t,e){const n=Array.isArray(t)?t:Array.from(t),i=Array.isArray(e)?e:Array.from(e);return n.map((r,s)=>[r,i[s]])}class Ca extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,Ca),this.name="AbortError"}}class JL extends Error{constructor(e,n){super(n),this.errors=e,this.message=n,this.name="AggregateError"}}const QL=JL;class e8{constructor(e,n,i=null){this.offset=e,this.length=n,this.data=i}get top(){return this.offset+this.length}}class ax{constructor(e,n,i){this.offset=e,this.length=n,this.blockIds=i}}class t8 extends Py{constructor(e,{blockSize:n=65536,cacheSize:i=100}={}){super(),this.source=e,this.blockSize=n,this.blockCache=new YL({maxSize:i,onEviction:(r,s)=>{this.evictedBlocks.set(r,s)}}),this.evictedBlocks=new Map,this.blockRequests=new Map,this.blockIdsToFetch=new Set,this.abortedBlockIds=new Set}get fileSize(){return this.source.fileSize}async fetch(e,n){const i=[],r=[],s=[];this.evictedBlocks.clear();for(const{offset:f,length:g}of e){let d=f+g;const{fileSize:p}=this;p!==null&&(d=Math.min(d,p));const m=Math.floor(f/this.blockSize)*this.blockSize;for(let _=m;_<d;_+=this.blockSize){const y=Math.floor(_/this.blockSize);!this.blockCache.has(y)&&!this.blockRequests.has(y)&&(this.blockIdsToFetch.add(y),r.push(y)),this.blockRequests.has(y)&&i.push(this.blockRequests.get(y)),s.push(y)}}await qL(),this.fetchBlocks(n);const o=[];for(const f of r)this.blockRequests.has(f)&&o.push(this.blockRequests.get(f));await Promise.allSettled(i),await Promise.allSettled(o);const a=[],l=s.filter(f=>this.abortedBlockIds.has(f)||!this.blockCache.has(f));if(l.forEach(f=>this.blockIdsToFetch.add(f)),l.length>0&&n&&!n.aborted){this.fetchBlocks(null);for(const f of l){const g=this.blockRequests.get(f);if(!g)throw new Error(`Block ${f} is not in the block requests`);a.push(g)}await Promise.allSettled(a)}if(n&&n.aborted)throw new Ca("Request was aborted");const u=s.map(f=>this.blockCache.get(f)||this.evictedBlocks.get(f)),c=u.filter(f=>!f);if(c.length)throw new QL(c,"Request failed");const h=new Map(ZL(s,u));return this.readSliceData(e,h)}fetchBlocks(e){if(this.blockIdsToFetch.size>0){const n=this.groupBlocks(this.blockIdsToFetch),i=this.source.fetch(n,e);for(let r=0;r<n.length;++r){const s=n[r];for(const o of s.blockIds)this.blockRequests.set(o,(async()=>{try{const a=(await i)[r],l=o*this.blockSize,u=l-a.offset,c=Math.min(u+this.blockSize,a.data.byteLength),h=a.data.slice(u,c),f=new e8(l,h.byteLength,h,o);this.blockCache.set(o,f),this.abortedBlockIds.delete(o)}catch(a){if(a.name==="AbortError")a.signal=e,this.blockCache.delete(o),this.abortedBlockIds.add(o);else throw a}finally{this.blockRequests.delete(o)}})())}this.blockIdsToFetch.clear()}}groupBlocks(e){const n=Array.from(e).sort((o,a)=>o-a);if(n.length===0)return[];let i=[],r=null;const s=[];for(const o of n)r===null||r+1===o?(i.push(o),r=o):(s.push(new ax(i[0]*this.blockSize,i.length*this.blockSize,i)),i=[o],r=o);return s.push(new ax(i[0]*this.blockSize,i.length*this.blockSize,i)),s}readSliceData(e,n){return e.map(i=>{let r=i.offset+i.length;this.fileSize!==null&&(r=Math.min(this.fileSize,r));const s=Math.floor(i.offset/this.blockSize),o=Math.floor(r/this.blockSize),a=new ArrayBuffer(i.length),l=new Uint8Array(a);for(let u=s;u<=o;++u){const c=n.get(u),h=c.offset-i.offset,f=c.top-r;let g=0,d=0,p;h<0?g=-h:h>0&&(d=h),f<0?p=c.length-g:p=r-c.offset-g;const m=new Uint8Array(c.data,g,p);l.set(m,d)}return a})}}class Iy{get ok(){return this.status>=200&&this.status<=299}get status(){throw new Error("not implemented")}getHeader(e){throw new Error("not implemented")}async getData(){throw new Error("not implemented")}}class Ay{constructor(e){this.url=e}async request({headers:e,signal:n}={}){throw new Error("request is not implemented")}}class n8 extends Iy{constructor(e){super(),this.response=e}get status(){return this.response.status}getHeader(e){return this.response.headers.get(e)}async getData(){return this.response.arrayBuffer?await this.response.arrayBuffer():(await this.response.buffer()).buffer}}class i8 extends Ay{constructor(e,n){super(e),this.credentials=n}async request({headers:e,signal:n}={}){const i=await fetch(this.url,{headers:e,credentials:this.credentials,signal:n});return new n8(i)}}class r8 extends Iy{constructor(e,n){super(),this.xhr=e,this.data=n}get status(){return this.xhr.status}getHeader(e){return this.xhr.getResponseHeader(e)}async getData(){return this.data}}class s8 extends Ay{constructRequest(e,n){return new Promise((i,r)=>{const s=new XMLHttpRequest;s.open("GET",this.url),s.responseType="arraybuffer";for(const[o,a]of Object.entries(e))s.setRequestHeader(o,a);s.onload=()=>{const o=s.response;i(new r8(s,o))},s.onerror=r,s.onabort=()=>r(new Ca("Request aborted")),s.send(),n&&(n.aborted&&s.abort(),n.addEventListener("abort",()=>s.abort()))})}async request({headers:e,signal:n}={}){return await this.constructRequest(e,n)}}const h0={};class o8 extends Iy{constructor(e,n){super(),this.response=e,this.dataPromise=n}get status(){return this.response.statusCode}getHeader(e){return this.response.headers[e]}async getData(){return await this.dataPromise}}class a8 extends Ay{constructor(e){super(e),this.parsedUrl=h0.parse(this.url),this.httpApi=(this.parsedUrl.protocol==="http:",h0)}constructRequest(e,n){return new Promise((i,r)=>{const s=this.httpApi.get({...this.parsedUrl,headers:e},o=>{const a=new Promise(l=>{const u=[];o.on("data",c=>{u.push(c)}),o.on("end",()=>{const c=Buffer.concat(u).buffer;l(c)}),o.on("error",r)});i(new o8(o,a))});s.on("error",r),n&&(n.aborted&&s.destroy(new Ca("Request aborted")),n.addEventListener("abort",()=>s.destroy(new Ca("Request aborted"))))})}async request({headers:e,signal:n}={}){return await this.constructRequest(e,n)}}class Oy extends Py{constructor(e,n,i,r){super(),this.client=e,this.headers=n,this.maxRanges=i,this.allowFullFile=r,this._fileSize=null}async fetch(e,n){return this.maxRanges>=e.length?this.fetchSlices(e,n):(this.maxRanges>0&&e.length>1,Promise.all(e.map(i=>this.fetchSlice(i,n))))}async fetchSlices(e,n){const i=await this.client.request({headers:{...this.headers,Range:`bytes=${e.map(({offset:r,length:s})=>`${r}-${r+s}`).join(",")}`},signal:n});if(i.ok)if(i.status===206){const{type:r,params:s}=HL(i.getHeader("content-type"));if(r==="multipart/byteranges"){const h=KL(await i.getData(),s.boundary);return this._fileSize=h[0].fileSize||null,h}const o=await i.getData(),{start:a,end:l,total:u}=cp(i.getHeader("content-range"));this._fileSize=u||null;const c=[{data:o,offset:a,length:l-a}];if(e.length>1){const h=await Promise.all(e.slice(1).map(f=>this.fetchSlice(f,n)));return c.concat(h)}return c}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const r=await i.getData();return this._fileSize=r.byteLength,[{data:r,offset:0,length:r.byteLength}]}else throw new Error("Error fetching data.")}async fetchSlice(e,n){const{offset:i,length:r}=e,s=await this.client.request({headers:{...this.headers,Range:`bytes=${i}-${i+r}`},signal:n});if(s.ok)if(s.status===206){const o=await s.getData(),{total:a}=cp(s.getHeader("content-range"));return this._fileSize=a||null,{data:o,offset:i,length:r}}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const o=await s.getData();return this._fileSize=o.byteLength,{data:o,offset:0,length:o.byteLength}}else throw new Error("Error fetching data.")}get fileSize(){return this._fileSize}}function Ly(t,{blockSize:e,cacheSize:n}){return e===null?t:new t8(t,{blockSize:e,cacheSize:n})}function l8(t,{headers:e={},credentials:n,maxRanges:i=0,allowFullFile:r=!1,...s}={}){const o=new i8(t,n),a=new Oy(o,e,i,r);return Ly(a,s)}function u8(t,{headers:e={},maxRanges:n=0,allowFullFile:i=!1,...r}={}){const s=new s8(t),o=new Oy(s,e,n,i);return Ly(o,r)}function c8(t,{headers:e={},maxRanges:n=0,allowFullFile:i=!1,...r}={}){const s=new a8(t),o=new Oy(s,e,n,i);return Ly(o,r)}function hp(t,{forceXHR:e=!1,...n}={}){return typeof fetch=="function"&&!e?l8(t,n):typeof XMLHttpRequest<"u"?u8(t,n):c8(t,n)}class h8 extends Py{constructor(e){super(),this.file=e}async fetchSlice(e,n){return new Promise((i,r)=>{const s=this.file.slice(e.offset,e.offset+e.length),o=new FileReader;o.onload=a=>i(a.target.result),o.onerror=r,o.onabort=r,o.readAsArrayBuffer(s),n&&n.addEventListener("abort",()=>o.abort())})}}function f8(t){return new h8(t)}function fp(t){switch(t){case ge.BYTE:case ge.ASCII:case ge.SBYTE:case ge.UNDEFINED:return 1;case ge.SHORT:case ge.SSHORT:return 2;case ge.LONG:case ge.SLONG:case ge.FLOAT:case ge.IFD:return 4;case ge.RATIONAL:case ge.SRATIONAL:case ge.DOUBLE:case ge.LONG8:case ge.SLONG8:case ge.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${t}`)}}function d8(t){const e=t.GeoKeyDirectory;if(!e)return null;const n={};for(let i=4;i<=e[3]*4;i+=4){const r=xL[e[i]],s=e[i+1]?ql[e[i+1]]:null,o=e[i+2],a=e[i+3];let l=null;if(!s)l=a;else{if(l=t[s],typeof l>"u"||l===null)throw new Error(`Could not get value of geoKey '${r}'.`);typeof l=="string"?l=l.substring(a,a+o-1):l.subarray&&(l=l.subarray(a,a+o),o===1&&(l=l[0]))}n[r]=l}return n}function uo(t,e,n,i){let r=null,s=null;const o=fp(e);switch(e){case ge.BYTE:case ge.ASCII:case ge.UNDEFINED:r=new Uint8Array(n),s=t.readUint8;break;case ge.SBYTE:r=new Int8Array(n),s=t.readInt8;break;case ge.SHORT:r=new Uint16Array(n),s=t.readUint16;break;case ge.SSHORT:r=new Int16Array(n),s=t.readInt16;break;case ge.LONG:case ge.IFD:r=new Uint32Array(n),s=t.readUint32;break;case ge.SLONG:r=new Int32Array(n),s=t.readInt32;break;case ge.LONG8:case ge.IFD8:r=new Array(n),s=t.readUint64;break;case ge.SLONG8:r=new Array(n),s=t.readInt64;break;case ge.RATIONAL:r=new Uint32Array(n*2),s=t.readUint32;break;case ge.SRATIONAL:r=new Int32Array(n*2),s=t.readInt32;break;case ge.FLOAT:r=new Float32Array(n),s=t.readFloat32;break;case ge.DOUBLE:r=new Float64Array(n),s=t.readFloat64;break;default:throw new RangeError(`Invalid field type: ${e}`)}if(e===ge.RATIONAL||e===ge.SRATIONAL)for(let a=0;a<n;a+=2)r[a]=s.call(t,i+a*o),r[a+1]=s.call(t,i+(a*o+4));else for(let a=0;a<n;++a)r[a]=s.call(t,i+a*o);return e===ge.ASCII?new TextDecoder("utf-8").decode(r):r}class g8{constructor(e,n,i){this.fileDirectory=e,this.geoKeyDirectory=n,this.nextIFDByteOffset=i}}class Jc extends Error{constructor(e){super(`No image at index ${e}`),this.index=e}}class db{async readRasters(e={}){const{window:n,width:i,height:r}=e;let{resX:s,resY:o,bbox:a}=e;const l=await this.getImage();let u=l;const c=await this.getImageCount(),h=l.getBoundingBox();if(n&&a)throw new Error('Both "bbox" and "window" passed.');if(i||r){if(n){const[d,p]=l.getOrigin(),[m,_]=l.getResolution();a=[d+n[0]*m,p+n[1]*_,d+n[2]*m,p+n[3]*_]}const g=a||h;if(i){if(s)throw new Error("Both width and resX passed");s=(g[2]-g[0])/i}if(r){if(o)throw new Error("Both width and resY passed");o=(g[3]-g[1])/r}}if(s||o){const g=[];for(let d=0;d<c;++d){const p=await this.getImage(d),{SubfileType:m,NewSubfileType:_}=p.fileDirectory;(d===0||m===2||_&1)&&g.push(p)}g.sort((d,p)=>d.getWidth()-p.getWidth());for(let d=0;d<g.length;++d){const p=g[d],m=(h[2]-h[0])/p.getWidth(),_=(h[3]-h[1])/p.getHeight();if(u=p,s&&s>m||o&&o>_)break}}let f=n;if(a){const[g,d]=l.getOrigin(),[p,m]=u.getResolution(l);f=[Math.round((a[0]-g)/p),Math.round((a[1]-d)/m),Math.round((a[2]-g)/p),Math.round((a[3]-d)/m)],f=[Math.min(f[0],f[2]),Math.min(f[1],f[3]),Math.max(f[0],f[2]),Math.max(f[1],f[3])]}return u.readRasters({...e,window:f})}}class Ta extends db{constructor(e,n,i,r,s={}){super(),this.source=e,this.littleEndian=n,this.bigTiff=i,this.firstIFDOffset=r,this.cache=s.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(e,n){const i=this.bigTiff?4048:1024;return new BL((await this.source.fetch([{offset:e,length:typeof n<"u"?n:i}]))[0],e,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(e){const n=this.bigTiff?20:12,i=this.bigTiff?8:2;let r=await this.getSlice(e);const s=this.bigTiff?r.readUint64(e):r.readUint16(e),o=s*n+(this.bigTiff?16:6);r.covers(e,o)||(r=await this.getSlice(e,o));const a={};let l=e+(this.bigTiff?8:2);for(let h=0;h<s;l+=n,++h){const f=r.readUint16(l),g=r.readUint16(l+2),d=this.bigTiff?r.readUint64(l+4):r.readUint32(l+4);let p,m;const _=fp(g),y=l+(this.bigTiff?12:8);if(_*d<=(this.bigTiff?8:4))p=uo(r,g,d,y);else{const v=r.readOffset(y),E=fp(g)*d;if(r.covers(v,E))p=uo(r,g,d,v);else{const x=await this.getSlice(v,E);p=uo(x,g,d,v)}}d===1&&vL.indexOf(f)===-1&&!(g===ge.RATIONAL||g===ge.SRATIONAL)?m=p[0]:m=p,a[ql[f]]=m}const u=d8(a),c=r.readOffset(e+i+n*s);return new g8(a,u,c)}async requestIFD(e){if(this.ifdRequests[e])return this.ifdRequests[e];if(e===0)return this.ifdRequests[e]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[e];if(!this.ifdRequests[e-1])try{this.ifdRequests[e-1]=this.requestIFD(e-1)}catch(n){throw n instanceof Jc?new Jc(e):n}return this.ifdRequests[e]=(async()=>{const n=await this.ifdRequests[e-1];if(n.nextIFDByteOffset===0)throw new Jc(e);return this.parseFileDirectoryAt(n.nextIFDByteOffset)})(),this.ifdRequests[e]}async getImage(e=0){const n=await this.requestIFD(e);return new hb(n.fileDirectory,n.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let e=0,n=!0;for(;n;)try{await this.requestIFD(e),++e}catch(i){if(i instanceof Jc)n=!1;else throw i}return e}async getGhostValues(){const e=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const n="GDAL_STRUCTURAL_METADATA_SIZE=",i=n.length+100;let r=await this.getSlice(e,i);if(n===uo(r,ge.ASCII,n.length,e)){const o=uo(r,ge.ASCII,i,e).split(`
`)[0],a=Number(o.split("=")[1].split(" ")[0])+o.length;a>i&&(r=await this.getSlice(e,a));const l=uo(r,ge.ASCII,a,e);this.ghostValues={},l.split(`
`).filter(u=>u.length>0).map(u=>u.split("=")).forEach(([u,c])=>{this.ghostValues[u]=c})}return this.ghostValues}static async fromSource(e,n,i){const r=(await e.fetch([{offset:0,length:1024}],i))[0],s=new zL(r),o=s.getUint16(0,0);let a;if(o===18761)a=!0;else if(o===19789)a=!1;else throw new TypeError("Invalid byte order value.");const l=s.getUint16(2,a);let u;if(l===42)u=!1;else if(l===43){if(u=!0,s.getUint16(4,a)!==8)throw new Error("Unsupported offset byte-size.")}else throw new TypeError("Invalid magic number.");const c=u?s.getUint64(8,a):s.getUint32(4,a);return new Ta(e,a,u,c,n)}close(){return typeof this.source.close=="function"?this.source.close():!1}}class m8 extends db{constructor(e,n){super(),this.mainFile=e,this.overviewFiles=n,this.imageFiles=[e].concat(n),this.fileDirectoriesPerFile=null,this.fileDirectoriesPerFileParsing=null,this.imageCount=null}async parseFileDirectoriesPerFile(){const e=[this.mainFile.parseFileDirectoryAt(this.mainFile.firstIFDOffset)].concat(this.overviewFiles.map(n=>n.parseFileDirectoryAt(n.firstIFDOffset)));return this.fileDirectoriesPerFile=await Promise.all(e),this.fileDirectoriesPerFile}async getImage(e=0){await this.getImageCount(),await this.parseFileDirectoriesPerFile();let n=0,i=0;for(let r=0;r<this.imageFiles.length;r++){const s=this.imageFiles[r];for(let o=0;o<this.imageCounts[r];o++){if(e===n){const a=await s.requestIFD(i);return new hb(a.fileDirectory,a.geoKeyDirectory,s.dataView,s.littleEndian,s.cache,s.source)}n++,i++}i=0}throw new RangeError("Invalid image index")}async getImageCount(){if(this.imageCount!==null)return this.imageCount;const e=[this.mainFile.getImageCount()].concat(this.overviewFiles.map(n=>n.getImageCount()));return this.imageCounts=await Promise.all(e),this.imageCount=this.imageCounts.reduce((n,i)=>n+i,0),this.imageCount}}async function p8(t,e={},n){return Ta.fromSource(hp(t,e),n)}async function _8(t,e){return Ta.fromSource(f8(t),e)}async function y8(t,e=[],n={},i){const r=await Ta.fromSource(hp(t,n),i),s=await Promise.all(e.map(o=>Ta.fromSource(hp(o,n))));return new m8(r,s)}let gb,Ru=[];const v8=Wa()?new CustomEvent("loadstart"):null,E8=Wa()?new CustomEvent("loadend"):null,x8=Wa()?new CustomEvent("loaderror",{detail:{name:C8()}}):null;function Wa(){if(typeof process=="object"&&typeof require=="function"||typeof importScripts=="function")return!1;if(typeof window=="object")return!0}function w8(){Wa()&&Ru.length<1&&document.dispatchEvent(v8),Ru.push(1)}function lx(){Ru.pop(),Wa()&&Ru.length<1&&document.dispatchEvent(E8)}function S8(){Ru=[],Wa()&&document.dispatchEvent(x8)}function C8(){return gb}function T8(t,e){if(!t.ok)throw gb=t.status,S8(),new Error(`HTTP error! ${t.status}`);return e?t.json():t}function b8(t,e={},n=!0){if(!t)console.error("Could not fetch data. Missing API URL");else return w8(),fetch(t,{...e,method:"GET",mode:"cors"}).then(i=>T8(i,n)).then(i=>(lx(),i)).catch(i=>(console.error(`Fetch error: ${i}`),lx(),i))}function M8(t,e){let n=`${e.API_STAC_BASEURL}${t}`;return t.split("?")[1]?n+=`&token=${e.API_STAC_TOKEN}`:n+=`?token=${e.API_STAC_TOKEN}`,b8(n).then(r=>r)}function R8(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var Hs=1,Ks=2,oa=3,P8=4,dp=5,ux=6378137,I8=6356752314e-3,cx=.0066943799901413165,Zl=484813681109536e-20,z=Math.PI/2,A8=.16666666666666666,O8=.04722222222222222,L8=.022156084656084655,q=1e-10,wt=.017453292519943295,Ii=57.29577951308232,Ie=Math.PI/4,Pu=Math.PI*2,et=3.14159265359,gn={};gn.greenwich=0;gn.lisbon=-9.131906111111;gn.paris=2.337229166667;gn.bogota=-74.080916666667;gn.madrid=-3.687938888889;gn.rome=12.452333333333;gn.bern=7.439583333333;gn.jakarta=106.807719444444;gn.ferro=-17.666666666667;gn.brussels=4.367975;gn.stockholm=18.058277777778;gn.athens=23.7163375;gn.oslo=10.722916666667;const k8={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var hx=/[\s_\-\/\(\)]/g;function ts(t,e){if(t[e])return t[e];for(var n=Object.keys(t),i=e.toLowerCase().replace(hx,""),r=-1,s,o;++r<n.length;)if(s=n[r],o=s.toLowerCase().replace(hx,""),o===i)return t[s]}function gp(t){var e={},n=t.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var u=l.split("=");return u.push(!0),a[u[0].toLowerCase()]=u[1],a},{}),i,r,s,o={proj:"projName",datum:"datumCode",rf:function(a){e.rf=parseFloat(a)},lat_0:function(a){e.lat0=a*wt},lat_1:function(a){e.lat1=a*wt},lat_2:function(a){e.lat2=a*wt},lat_ts:function(a){e.lat_ts=a*wt},lon_0:function(a){e.long0=a*wt},lon_1:function(a){e.long1=a*wt},lon_2:function(a){e.long2=a*wt},alpha:function(a){e.alpha=parseFloat(a)*wt},gamma:function(a){e.rectified_grid_angle=parseFloat(a)*wt},lonc:function(a){e.longc=a*wt},x_0:function(a){e.x0=parseFloat(a)},y_0:function(a){e.y0=parseFloat(a)},k_0:function(a){e.k0=parseFloat(a)},k:function(a){e.k0=parseFloat(a)},a:function(a){e.a=parseFloat(a)},b:function(a){e.b=parseFloat(a)},r:function(a){e.a=e.b=parseFloat(a)},r_a:function(){e.R_A=!0},zone:function(a){e.zone=parseInt(a,10)},south:function(){e.utmSouth=!0},towgs84:function(a){e.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){e.to_meter=parseFloat(a)},units:function(a){e.units=a;var l=ts(k8,a);l&&(e.to_meter=l.to_meter)},from_greenwich:function(a){e.from_greenwich=a*wt},pm:function(a){var l=ts(gn,a);e.from_greenwich=(l||parseFloat(a))*wt},nadgrids:function(a){a==="@null"?e.datumCode="none":e.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(e.axis=a)},approx:function(){e.approx=!0}};for(i in n)r=n[i],i in o?(s=o[i],typeof s=="function"?s(r):e[s]=r):e[i]=r;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}class mb{static getId(e){const n=e.find(i=>Array.isArray(i)&&i[0]==="ID");return n&&n.length>=3?{authority:n[1],code:parseInt(n[2],10)}:null}static convertUnit(e,n="unit"){if(!e||e.length<3)return{type:n,name:"unknown",conversion_factor:null};const i=e[1],r=parseFloat(e[2])||null,s=e.find(a=>Array.isArray(a)&&a[0]==="ID"),o=s?{authority:s[1],code:parseInt(s[2],10)}:null;return{type:n,name:i,conversion_factor:r,id:o}}static convertAxis(e){const n=e[1]||"Unknown";let i;const r=n.match(/^\((.)\)$/);if(r){const u=r[1].toUpperCase();if(u==="E")i="east";else if(u==="N")i="north";else if(u==="U")i="up";else throw new Error(`Unknown axis abbreviation: ${u}`)}else i=e[2]?e[2].toLowerCase():"unknown";const s=e.find(u=>Array.isArray(u)&&u[0]==="ORDER"),o=s?parseInt(s[1],10):null,a=e.find(u=>Array.isArray(u)&&(u[0]==="LENGTHUNIT"||u[0]==="ANGLEUNIT"||u[0]==="SCALEUNIT")),l=this.convertUnit(a);return{name:n,direction:i,unit:l,order:o}}static extractAxes(e){return e.filter(n=>Array.isArray(n)&&n[0]==="AXIS").map(n=>this.convertAxis(n)).sort((n,i)=>(n.order||0)-(i.order||0))}static convert(e,n={}){switch(e[0]){case"PROJCRS":n.type="ProjectedCRS",n.name=e[1],n.base_crs=e.find(f=>Array.isArray(f)&&f[0]==="BASEGEOGCRS")?this.convert(e.find(f=>Array.isArray(f)&&f[0]==="BASEGEOGCRS")):null,n.conversion=e.find(f=>Array.isArray(f)&&f[0]==="CONVERSION")?this.convert(e.find(f=>Array.isArray(f)&&f[0]==="CONVERSION")):null;const i=e.find(f=>Array.isArray(f)&&f[0]==="CS");i&&(n.coordinate_system={type:i[1],axis:this.extractAxes(e)});const r=e.find(f=>Array.isArray(f)&&f[0]==="LENGTHUNIT");if(r){const f=this.convertUnit(r);n.coordinate_system.unit=f}n.id=this.getId(e);break;case"BASEGEOGCRS":case"GEOGCRS":n.type="GeographicCRS",n.name=e[1];const s=e.find(f=>Array.isArray(f)&&(f[0]==="DATUM"||f[0]==="ENSEMBLE"));if(s){const f=this.convert(s);s[0]==="ENSEMBLE"?n.datum_ensemble=f:n.datum=f;const g=e.find(d=>Array.isArray(d)&&d[0]==="PRIMEM");g&&g[1]!=="Greenwich"&&(f.prime_meridian={name:g[1],longitude:parseFloat(g[2])})}n.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(e)},n.id=this.getId(e);break;case"DATUM":n.type="GeodeticReferenceFrame",n.name=e[1],n.ellipsoid=e.find(f=>Array.isArray(f)&&f[0]==="ELLIPSOID")?this.convert(e.find(f=>Array.isArray(f)&&f[0]==="ELLIPSOID")):null;break;case"ENSEMBLE":n.type="DatumEnsemble",n.name=e[1],n.members=e.filter(f=>Array.isArray(f)&&f[0]==="MEMBER").map(f=>({type:"DatumEnsembleMember",name:f[1],id:this.getId(f)}));const o=e.find(f=>Array.isArray(f)&&f[0]==="ENSEMBLEACCURACY");o&&(n.accuracy=parseFloat(o[1]));const a=e.find(f=>Array.isArray(f)&&f[0]==="ELLIPSOID");a&&(n.ellipsoid=this.convert(a)),n.id=this.getId(e);break;case"ELLIPSOID":n.type="Ellipsoid",n.name=e[1],n.semi_major_axis=parseFloat(e[2]),n.inverse_flattening=parseFloat(e[3]),e.find(f=>Array.isArray(f)&&f[0]==="LENGTHUNIT")&&this.convert(e.find(f=>Array.isArray(f)&&f[0]==="LENGTHUNIT"),n);break;case"CONVERSION":n.type="Conversion",n.name=e[1],n.method=e.find(f=>Array.isArray(f)&&f[0]==="METHOD")?this.convert(e.find(f=>Array.isArray(f)&&f[0]==="METHOD")):null,n.parameters=e.filter(f=>Array.isArray(f)&&f[0]==="PARAMETER").map(f=>this.convert(f));break;case"METHOD":n.type="Method",n.name=e[1],n.id=this.getId(e);break;case"PARAMETER":n.type="Parameter",n.name=e[1],n.value=parseFloat(e[2]),n.unit=this.convertUnit(e.find(f=>Array.isArray(f)&&(f[0]==="LENGTHUNIT"||f[0]==="ANGLEUNIT"||f[0]==="SCALEUNIT"))),n.id=this.getId(e);break;case"BOUNDCRS":n.type="BoundCRS";const l=e.find(f=>Array.isArray(f)&&f[0]==="SOURCECRS");if(l){const f=l.find(g=>Array.isArray(g));n.source_crs=f?this.convert(f):null}const u=e.find(f=>Array.isArray(f)&&f[0]==="TARGETCRS");if(u){const f=u.find(g=>Array.isArray(g));n.target_crs=f?this.convert(f):null}const c=e.find(f=>Array.isArray(f)&&f[0]==="ABRIDGEDTRANSFORMATION");c?n.transformation=this.convert(c):n.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(n.type="Transformation",n.name=e[1],n.method=e.find(f=>Array.isArray(f)&&f[0]==="METHOD")?this.convert(e.find(f=>Array.isArray(f)&&f[0]==="METHOD")):null,n.parameters=e.filter(f=>Array.isArray(f)&&(f[0]==="PARAMETER"||f[0]==="PARAMETERFILE")).map(f=>{if(f[0]==="PARAMETER")return this.convert(f);if(f[0]==="PARAMETERFILE")return{name:f[1],value:f[2],id:{authority:"EPSG",code:8656}}}),n.parameters.length===7){const f=n.parameters[6];f.name==="Scale difference"&&(f.value=Math.round((f.value-1)*1e12)/1e6)}n.id=this.getId(e);break;case"AXIS":n.coordinate_system||(n.coordinate_system={type:"unspecified",axis:[]}),n.coordinate_system.axis.push(this.convertAxis(e));break;case"LENGTHUNIT":const h=this.convertUnit(e,"LinearUnit");n.coordinate_system&&n.coordinate_system.axis&&n.coordinate_system.axis.forEach(f=>{f.unit||(f.unit=h)}),h.conversion_factor&&h.conversion_factor!==1&&n.semi_major_axis&&(n.semi_major_axis={value:n.semi_major_axis,unit:h});break;default:n.keyword=e[0];break}return n}}class F8 extends mb{static convert(e,n={}){return super.convert(e,n),n.coordinate_system&&n.coordinate_system.subtype==="Cartesian"&&delete n.coordinate_system,n.usage&&delete n.usage,n}}class D8 extends mb{static convert(e,n={}){super.convert(e,n);const i=e.find(s=>Array.isArray(s)&&s[0]==="CS");i&&(n.coordinate_system={subtype:i[1],axis:this.extractAxes(e)});const r=e.find(s=>Array.isArray(s)&&s[0]==="USAGE");if(r){const s=r.find(l=>Array.isArray(l)&&l[0]==="SCOPE"),o=r.find(l=>Array.isArray(l)&&l[0]==="AREA"),a=r.find(l=>Array.isArray(l)&&l[0]==="BBOX");n.usage={},s&&(n.usage.scope=s[1]),o&&(n.usage.area=o[1]),a&&(n.usage.bbox=a.slice(1))}return n}}function N8(t){return t.find(e=>Array.isArray(e)&&e[0]==="USAGE")?"2019":(t.find(e=>Array.isArray(e)&&e[0]==="CS")||t[0]==="BOUNDCRS"||t[0]==="PROJCRS"||t[0]==="GEOGCRS","2015")}function G8(t){return(N8(t)==="2019"?D8:F8).convert(t)}function U8(t){const e=t.toUpperCase();return e.includes("PROJCRS")||e.includes("GEOGCRS")||e.includes("BOUNDCRS")||e.includes("VERTCRS")||e.includes("LENGTHUNIT")||e.includes("ANGLEUNIT")||e.includes("SCALEUNIT")?"WKT2":(e.includes("PROJCS")||e.includes("GEOGCS")||e.includes("LOCAL_CS")||e.includes("VERT_CS")||e.includes("UNIT"),"WKT1")}var Iu=1,pb=2,_b=3,kf=4,yb=5,ky=-1,j8=/\s/,$8=/[A-Za-z]/,z8=/[A-Za-z84_]/,Nd=/[,\]]/,vb=/[\d\.E\-\+]/;function yr(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Iu}yr.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==kf)for(;j8.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case Iu:return this.neutral(t);case pb:return this.keyword(t);case kf:return this.quoted(t);case yb:return this.afterquote(t);case _b:return this.number(t);case ky:return}};yr.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=kf;return}if(Nd.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};yr.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Iu;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Iu,this.currentObject=this.stack.pop(),this.currentObject||(this.state=ky);return}};yr.prototype.number=function(t){if(vb.test(t)){this.word+=t;return}if(Nd.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};yr.prototype.quoted=function(t){if(t==='"'){this.state=yb;return}this.word+=t};yr.prototype.keyword=function(t){if(z8.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=Iu;return}if(Nd.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};yr.prototype.neutral=function(t){if($8.test(t)){this.word=t,this.state=pb;return}if(t==='"'){this.word="",this.state=kf;return}if(vb.test(t)){this.word=t,this.state=_b;return}if(Nd.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};yr.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===ky)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function B8(t){var e=new yr(t);return e.output()}function f0(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,r=n.reduce(function(s,o){return $o(o,s),s},i);e&&(t[e]=r)}function $o(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},$o(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var i;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&$o(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&$o(t[3],e[n]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],f0(e,n,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],f0(e,n,t),e[n].type=n;return;default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return $o(t,e[n]);return f0(e,n,t)}}var V8=.017453292519943295;function Jn(t){return t*V8}function Eb(t){const e=(t.projName||"").toLowerCase().replace(/_/g," ");!t.long0&&t.longc&&(e==="albers conic equal area"||e==="lambert azimuthal equal area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(e==="stereographic south pole"||e==="polar stereographic (variant b)")?(t.lat0=Jn(t.lat1>0?90:-90),t.lat_ts=t.lat1,delete t.lat1):!t.lat_ts&&t.lat0&&(e==="polar stereographic"||e==="polar stereographic (variant a)")&&(t.lat_ts=t.lat0,t.lat0=Jn(t.lat0>0?90:-90),delete t.lat1)}function fx(t){let e={units:null,to_meter:void 0};return typeof t=="string"?(e.units=t.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.units==="meter"&&(e.to_meter=1)):t&&t.name&&(e.units=t.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.to_meter=t.conversion_factor),e}function dx(t){return typeof t=="object"?t.value*t.unit.conversion_factor:t}function gx(t,e){t.ellipsoid.radius?(e.a=t.ellipsoid.radius,e.rf=0):(e.a=dx(t.ellipsoid.semi_major_axis),t.ellipsoid.inverse_flattening!==void 0?e.rf=t.ellipsoid.inverse_flattening:t.ellipsoid.semi_major_axis!==void 0&&t.ellipsoid.semi_minor_axis!==void 0&&(e.rf=e.a/(e.a-dx(t.ellipsoid.semi_minor_axis))))}function Ff(t,e={}){return!t||typeof t!="object"?t:t.type==="BoundCRS"?(Ff(t.source_crs,e),t.transformation&&(t.transformation.method&&t.transformation.method.name==="NTv2"?e.nadgrids=t.transformation.parameters[0].value:e.datum_params=t.transformation.parameters.map(n=>n.value)),e):(Object.keys(t).forEach(n=>{const i=t[n];if(i!==null)switch(n){case"name":if(e.srsCode)break;e.name=i,e.srsCode=i;break;case"type":i==="GeographicCRS"?e.projName="longlat":i==="ProjectedCRS"&&t.conversion&&t.conversion.method&&(e.projName=t.conversion.method.name);break;case"datum":case"datum_ensemble":i.ellipsoid&&(e.ellps=i.ellipsoid.name,gx(i,e)),i.prime_meridian&&(e.from_greenwich=i.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":e.ellps=i.name,gx(i,e);break;case"prime_meridian":e.long0=(i.longitude||0)*Math.PI/180;break;case"coordinate_system":if(i.axis){if(e.axis=i.axis.map(r=>{const s=r.direction;if(s==="east")return"e";if(s==="north")return"n";if(s==="west")return"w";if(s==="south")return"s";throw new Error(`Unknown axis direction: ${s}`)}).join("")+"u",i.unit){const{units:r,to_meter:s}=fx(i.unit);e.units=r,e.to_meter=s}else if(i.axis[0]&&i.axis[0].unit){const{units:r,to_meter:s}=fx(i.axis[0].unit);e.units=r,e.to_meter=s}}break;case"id":i.authority&&i.code&&(e.title=i.authority+":"+i.code);break;case"conversion":i.method&&i.method.name&&(e.projName=i.method.name),i.parameters&&i.parameters.forEach(r=>{const s=r.name.toLowerCase().replace(/\s+/g,"_"),o=r.value;r.unit&&r.unit.conversion_factor?e[s]=o*r.unit.conversion_factor:r.unit==="degree"?e[s]=o*Math.PI/180:e[s]=o});break;case"unit":i.name&&(e.units=i.name.toLowerCase(),e.units==="metre"&&(e.units="meter")),i.conversion_factor&&(e.to_meter=i.conversion_factor);break;case"base_crs":Ff(i,e),e.datumCode=i.id?i.id.authority+"_"+i.id.code:i.name;break}}),e.latitude_of_false_origin!==void 0&&(e.lat0=e.latitude_of_false_origin),e.longitude_of_false_origin!==void 0&&(e.long0=e.longitude_of_false_origin),e.latitude_of_standard_parallel!==void 0&&(e.lat0=e.latitude_of_standard_parallel,e.lat1=e.latitude_of_standard_parallel),e.latitude_of_1st_standard_parallel!==void 0&&(e.lat1=e.latitude_of_1st_standard_parallel),e.latitude_of_2nd_standard_parallel!==void 0&&(e.lat2=e.latitude_of_2nd_standard_parallel),e.latitude_of_projection_centre!==void 0&&(e.lat0=e.latitude_of_projection_centre),e.longitude_of_projection_centre!==void 0&&(e.longc=e.longitude_of_projection_centre),e.easting_at_false_origin!==void 0&&(e.x0=e.easting_at_false_origin),e.northing_at_false_origin!==void 0&&(e.y0=e.northing_at_false_origin),e.latitude_of_natural_origin!==void 0&&(e.lat0=e.latitude_of_natural_origin),e.longitude_of_natural_origin!==void 0&&(e.long0=e.longitude_of_natural_origin),e.longitude_of_origin!==void 0&&(e.long0=e.longitude_of_origin),e.false_easting!==void 0&&(e.x0=e.false_easting),e.easting_at_projection_centre&&(e.x0=e.easting_at_projection_centre),e.false_northing!==void 0&&(e.y0=e.false_northing),e.northing_at_projection_centre&&(e.y0=e.northing_at_projection_centre),e.standard_parallel_1!==void 0&&(e.lat1=e.standard_parallel_1),e.standard_parallel_2!==void 0&&(e.lat2=e.standard_parallel_2),e.scale_factor_at_natural_origin!==void 0&&(e.k0=e.scale_factor_at_natural_origin),e.scale_factor_at_projection_centre!==void 0&&(e.k0=e.scale_factor_at_projection_centre),e.scale_factor_on_pseudo_standard_parallel!==void 0&&(e.k0=e.scale_factor_on_pseudo_standard_parallel),e.azimuth!==void 0&&(e.alpha=e.azimuth),e.azimuth_at_projection_centre!==void 0&&(e.alpha=e.azimuth_at_projection_centre),e.angle_from_rectified_to_skew_grid&&(e.rectified_grid_angle=e.angle_from_rectified_to_skew_grid),Eb(e),e)}var W8=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function X8(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],e.length===3&&(t[n]=e[2](t[n])))}function xb(t){for(var e=Object.keys(t),n=0,i=e.length;n<i;++n){var r=e[n];W8.indexOf(r)!==-1&&H8(t[r]),typeof t[r]=="object"&&xb(t[r])}}function H8(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var n="",i=0,r=t.AXIS.length;i<r;++i){var s=[t.AXIS[i][0].toLowerCase(),t.AXIS[i][1].toLowerCase()];s[0].indexOf("north")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="north"?n+="n":s[0].indexOf("south")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="south"?n+="s":s[0].indexOf("east")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="east"?n+="e":(s[0].indexOf("west")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="west")&&(n+="w")}n.length===2&&(n+="u"),n.length===3&&(t.axis=n)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var o=t.GEOGCS;t.type==="GEOGCS"&&(o=t),o&&(o.DATUM?t.datumCode=o.DATUM.name.toLowerCase():t.datumCode=o.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),t.datumCode==="new_zealand_1949"&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode==="belge_1972"&&(t.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(t.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=o.DATUM.SPHEROID.a,t.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(t.datum_params=o.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),t.rectified_grid_angle&&(t.rectified_grid_angle=Jn(t.rectified_grid_angle));function a(c){var h=t.to_meter||1;return c*h}var l=function(c){return X8(t,c)},u=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Jn],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Jn],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",Jn],["lat0","latitude_of_origin",Jn],["lat0","standard_parallel_1",Jn],["lat1","standard_parallel_1",Jn],["lat2","standard_parallel_2",Jn],["azimuth","Azimuth"],["alpha","azimuth",Jn],["srsCode","name"]];u.forEach(l),Eb(t)}function mp(t){if(typeof t=="object")return Ff(t);const e=U8(t);var n=B8(t);if(e==="WKT2"){const s=G8(n);return Ff(s)}var i=n[0],r={};return $o(n,r),xb(r),r[i]}function $t(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?$t[t]=gp(arguments[1]):$t[t]=mp(arguments[1]):$t[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(i){return Array.isArray(i)?$t.apply(e,i):$t(i)});if(typeof t=="string"){if(t in $t)return $t[t]}else"EPSG"in t?$t["EPSG:"+t.EPSG]=t:"ESRI"in t?$t["ESRI:"+t.ESRI]=t:"IAU2000"in t?$t["IAU2000:"+t.IAU2000]=t:console.log(t);return}}R8($t);function K8(t){return typeof t=="string"}function Y8(t){return t in $t}function q8(t){return t.indexOf("+")!==0&&t.indexOf("[")!==-1||typeof t=="object"&&!("srsCode"in t)}var Z8=["3857","900913","3785","102113"];function J8(t){var e=ts(t,"authority");if(e){var n=ts(e,"epsg");return n&&Z8.indexOf(n)>-1}}function Q8(t){var e=ts(t,"extension");if(e)return ts(e,"proj4")}function e5(t){return t[0]==="+"}function t5(t){if(K8(t)){if(Y8(t))return $t[t];if(q8(t)){var e=mp(t);if(J8(e))return $t["EPSG:3857"];var n=Q8(e);return n?gp(n):e}if(e5(t))return gp(t)}else return"projName"in t?t:mp(t)}function mx(t,e){t=t||{};var n,i;if(!e)return t;for(i in e)n=e[i],n!==void 0&&(t[i]=n);return t}function Ui(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}function lc(t){return t<0?-1:1}function Z(t){return Math.abs(t)<=et?t:t-lc(t)*Pu}function ai(t,e,n){var i=t*n,r=.5*t;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(z-e))/i}function Au(t,e){for(var n=.5*t,i,r,s=z-2*Math.atan(e),o=0;o<=15;o++)if(i=t*Math.sin(s),r=z-2*Math.atan(e*Math.pow((1-i)/(1+i),n))-s,s+=r,Math.abs(r)<=1e-10)return s;return-9999}function n5(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ui(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function i5(t){var e=t.x,n=t.y;if(n*Ii>90&&n*Ii<-90&&e*Ii>180&&e*Ii<-180)return null;var i,r;if(Math.abs(Math.abs(n)-z)<=q)return null;if(this.sphere)i=this.x0+this.a*this.k0*Z(e-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(Ie+.5*n));else{var s=Math.sin(n),o=ai(this.e,n,s);i=this.x0+this.a*this.k0*Z(e-this.long0),r=this.y0-this.a*this.k0*Math.log(o)}return t.x=i,t.y=r,t}function r5(t){var e=t.x-this.x0,n=t.y-this.y0,i,r;if(this.sphere)r=z-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(r=Au(this.e,s),r===-9999)return null}return i=Z(this.long0+e/(this.a*this.k0)),t.x=i,t.y=r,t}var s5=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"];const o5={init:n5,forward:i5,inverse:r5,names:s5};function a5(){}function px(t){return t}var l5=["longlat","identity"];const u5={init:a5,forward:px,inverse:px,names:l5};var c5=[o5,u5],bs={},zo=[];function wb(t,e){var n=zo.length;return t.names?(zo[n]=t,t.names.forEach(function(i){bs[i.toLowerCase()]=n}),this):(console.log(e),!0)}function Sb(t){return t.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}function h5(t){if(!t)return!1;var e=t.toLowerCase();if(typeof bs[e]<"u"&&zo[bs[e]]||(e=Sb(e),e in bs&&zo[bs[e]]))return zo[bs[e]]}function f5(){c5.forEach(wb)}const d5={start:f5,add:wb,get:h5};var Cb={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};const g5=Cb.WGS84;function m5(t,e,n,i){var r=t*t,s=e*e,o=(r-s)/r,a=0;i?(t*=1-o*(A8+o*(O8+o*L8)),r=t*t,o=0):a=Math.sqrt(o);var l=(r-s)/s;return{es:o,e:a,ep2:l}}function p5(t,e,n,i,r){if(!t){var s=ts(Cb,i);s||(s=g5),t=s.a,e=s.b,n=s.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<q)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}var Vh={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(var _5 in Vh){var d0=Vh[_5];d0.datumName&&(Vh[d0.datumName]=d0)}function y5(t,e,n,i,r,s,o){var a={};return t===void 0||t==="none"?a.datum_type=dp:a.datum_type=P8,e&&(a.datum_params=e.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=Hs),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=Ks,a.datum_params[3]*=Zl,a.datum_params[4]*=Zl,a.datum_params[5]*=Zl,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=oa,a.grids=o),a.a=n,a.b=i,a.es=r,a.ep2=s,a}var Fy={};function v5(t,e,n){return e instanceof ArrayBuffer?E5(t,e,n):{ready:x5(t,e)}}function E5(t,e,n){var i=!0;n!==void 0&&n.includeErrorFields===!1&&(i=!1);var r=new DataView(e),s=C5(r),o=T5(r,s),a=b5(r,o,s,i),l={header:o,subgrids:a};return Fy[t]=l,l}async function x5(t,e){for(var n=[],i=await e.getImageCount(),r=i-1;r>=0;r--){var s=await e.getImage(r),o=await s.readRasters(),a=o,l=[s.getWidth(),s.getHeight()],u=s.getBoundingBox().map(_x),c=[s.fileDirectory.ModelPixelScale[0],s.fileDirectory.ModelPixelScale[1]].map(_x),h=u[0]+(l[0]-1)*c[0],f=u[3]-(l[1]-1)*c[1],g=a[0],d=a[1],p=[];for(let y=l[1]-1;y>=0;y--)for(let v=l[0]-1;v>=0;v--){var m=y*l[0]+v;p.push([-Ur(d[m]),Ur(g[m])])}n.push({del:c,lim:l,ll:[-h,f],cvs:p})}var _={header:{nSubgrids:i},subgrids:n};return Fy[t]=_,_}function w5(t){if(t===void 0)return null;var e=t.split(",");return e.map(S5)}function S5(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Fy[t]||null,isNull:!1}}function _x(t){return t*Math.PI/180}function Ur(t){return t/3600*Math.PI/180}function C5(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function T5(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:pp(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function pp(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function b5(t,e,n,i){for(var r=176,s=[],o=0;o<e.nSubgrids;o++){var a=R5(t,r,n),l=P5(t,r,a,n,i),u=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),c=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);s.push({ll:[Ur(a.lowerLongitude),Ur(a.lowerLatitude)],del:[Ur(a.longitudeInterval),Ur(a.latitudeInterval)],lim:[u,c],count:a.gridNodeCount,cvs:M5(l)});var h=16;i===!1&&(h=8),r+=176+a.gridNodeCount*h}return s}function M5(t){return t.map(function(e){return[Ur(e.longitudeShift),Ur(e.latitudeShift)]})}function R5(t,e,n){return{name:pp(t,e+8,e+16).trim(),parent:pp(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function P5(t,e,n,i,r){var s=e+176,o=16;r===!1&&(o=8);for(var a=[],l=0;l<n.gridNodeCount;l++){var u={latitudeShift:t.getFloat32(s+l*o,i),longitudeShift:t.getFloat32(s+l*o+4,i)};r!==!1&&(u.latitudeAccuracy=t.getFloat32(s+l*o+8,i),u.longitudeAccuracy=t.getFloat32(s+l*o+12,i)),a.push(u)}return a}function li(t,e){if(!(this instanceof li))return new li(t);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,e=e||function(u){if(u)throw u};var n=t5(t);if(typeof n!="object"){e("Could not parse to valid json: "+t);return}var i=li.projections.get(n.projName);if(!i){e("Could not get projection name from: "+t);return}if(n.datumCode&&n.datumCode!=="none"){var r=ts(Vh,n.datumCode);r&&(n.datum_params=n.datum_params||(r.towgs84?r.towgs84.split(","):null),n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=p5(n.a,n.b,n.rf,n.ellps,n.sphere),o=m5(s.a,s.b,s.rf,n.R_A),a=w5(n.nadgrids),l=n.datum||y5(n.datumCode,n.datum_params,s.a,s.b,o.es,o.ep2,a);mx(this,n),mx(this,i),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,"init"in this&&typeof this.init=="function"&&this.init(),e(null,this)}li.projections=d5;li.projections.start();function I5(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===Hs?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===Ks?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function Tb(t,e,n){var i=t.x,r=t.y,s=t.z?t.z:0,o,a,l,u;if(r<-z&&r>-1.001*z)r=-z;else if(r>z&&r<1.001*z)r=z;else{if(r<-z)return{x:-1/0,y:-1/0,z:t.z};if(r>z)return{x:1/0,y:1/0,z:t.z}}return i>Math.PI&&(i-=2*Math.PI),a=Math.sin(r),u=Math.cos(r),l=a*a,o=n/Math.sqrt(1-e*l),{x:(o+s)*u*Math.cos(i),y:(o+s)*u*Math.sin(i),z:(o*(1-e)+s)*a}}function bb(t,e,n,i){var r=1e-12,s=r*r,o=30,a,l,u,c,h,f,g,d,p,m,_,y,v,E=t.x,x=t.y,S=t.z?t.z:0,w,C,M;if(a=Math.sqrt(E*E+x*x),l=Math.sqrt(E*E+x*x+S*S),a/n<r){if(w=0,l/n<r)return C=z,M=-i,{x:t.x,y:t.y,z:t.z}}else w=Math.atan2(x,E);u=S/l,c=a/l,h=1/Math.sqrt(1-e*(2-e)*c*c),d=c*(1-e)*h,p=u*h,v=0;do v++,g=n/Math.sqrt(1-e*p*p),M=a*d+S*p-g*(1-e*p*p),f=e*g/(g+M),h=1/Math.sqrt(1-f*(2-f)*c*c),m=c*(1-f)*h,_=u*h,y=_*d-m*p,d=m,p=_;while(y*y>s&&v<o);return C=Math.atan(_/Math.abs(m)),{x:w,y:C,z:M}}function A5(t,e,n){if(e===Hs)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===Ks){var i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],u=n[6];return{x:u*(t.x-l*t.y+a*t.z)+i,y:u*(l*t.x+t.y-o*t.z)+r,z:u*(-a*t.x+o*t.y+t.z)+s}}}function O5(t,e,n){if(e===Hs)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===Ks){var i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],u=n[6],c=(t.x-i)/u,h=(t.y-r)/u,f=(t.z-s)/u;return{x:c+l*h-a*f,y:-l*c+h+o*f,z:a*c-o*h+f}}}function Qc(t){return t===Hs||t===Ks}function L5(t,e,n){if(I5(t,e)||t.datum_type===dp||e.datum_type===dp)return n;var i=t.a,r=t.es;if(t.datum_type===oa){var s=yx(t,!1,n);if(s!==0)return;i=ux,r=cx}var o=e.a,a=e.b,l=e.es;if(e.datum_type===oa&&(o=ux,a=I8,l=cx),r===l&&i===o&&!Qc(t.datum_type)&&!Qc(e.datum_type))return n;if(n=Tb(n,r,i),Qc(t.datum_type)&&(n=A5(n,t.datum_type,t.datum_params)),Qc(e.datum_type)&&(n=O5(n,e.datum_type,e.datum_params)),n=bb(n,l,o,a),e.datum_type===oa){var u=yx(e,!0,n);if(u!==0)return}return n}function yx(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-n.x,y:n.y},r={x:Number.NaN,y:Number.NaN},s=[];e:for(var o=0;o<t.grids.length;o++){var a=t.grids[o];if(s.push(a.name),a.isNull){r=i;break}if(a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,u=0,c=l.length;u<c;u++){var h=l[u],f=(Math.abs(h.del[1])+Math.abs(h.del[0]))/1e4,g=h.ll[0]-f,d=h.ll[1]-f,p=h.ll[0]+(h.lim[0]-1)*h.del[0]+f,m=h.ll[1]+(h.lim[1]-1)*h.del[1]+f;if(!(d>i.y||g>i.x||m<i.y||p<i.x)&&(r=k5(i,e,h),!isNaN(r.x)))break e}}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*Ii+" "+i.y*Ii+" tried: '"+s+"'"),-1):(n.x=-r.x,n.y=r.y,0)}function k5(t,e,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var r={x:t.x,y:t.y};r.x-=n.ll[0],r.y-=n.ll[1],r.x=Z(r.x-Math.PI)+Math.PI;var s=vx(r,n);if(e){if(isNaN(s.x))return i;s.x=r.x-s.x,s.y=r.y-s.y;var o=9,a=1e-12,l,u;do{if(u=vx(s,n),isNaN(u.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:r.x-(u.x+s.x),y:r.y-(u.y+s.y)},s.x+=l.x,s.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=Z(s.x+n.ll[0]),i.y=s.y+n.ll[1]}else isNaN(s.x)||(i.x=t.x+s.x,i.y=t.y+s.y);return i}function vx(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},i={x:Math.floor(n.x),y:Math.floor(n.y)},r={x:n.x-1*i.x,y:n.y-1*i.y},s={x:Number.NaN,y:Number.NaN},o;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return s;o=i.y*e.lim[0]+i.x;var a={x:e.cvs[o][0],y:e.cvs[o][1]};o++;var l={x:e.cvs[o][0],y:e.cvs[o][1]};o+=e.lim[0];var u={x:e.cvs[o][0],y:e.cvs[o][1]};o--;var c={x:e.cvs[o][0],y:e.cvs[o][1]},h=r.x*r.y,f=r.x*(1-r.y),g=(1-r.x)*(1-r.y),d=(1-r.x)*r.y;return s.x=g*a.x+f*l.x+d*c.x+h*u.x,s.y=g*a.y+f*l.y+d*c.y+h*u.y,s}function Ex(t,e,n){var i=n.x,r=n.y,s=n.z||0,o,a,l,u={};for(l=0;l<3;l++)if(!(e&&l===2&&n.z===void 0))switch(l===0?(o=i,"ew".indexOf(t.axis[l])!==-1?a="x":a="y"):l===1?(o=r,"ns".indexOf(t.axis[l])!==-1?a="y":a="x"):(o=s,a="z"),t.axis[l]){case"e":u[a]=o;break;case"w":u[a]=-o;break;case"n":u[a]=o;break;case"s":u[a]=-o;break;case"u":n[a]!==void 0&&(u.z=o);break;case"d":n[a]!==void 0&&(u.z=-o);break;default:return null}return u}function Mb(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function F5(t){xx(t.x),xx(t.y)}function xx(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function D5(t,e){return(t.datum.datum_type===Hs||t.datum.datum_type===Ks||t.datum.datum_type===oa)&&e.datumCode!=="WGS84"||(e.datum.datum_type===Hs||e.datum.datum_type===Ks||e.datum.datum_type===oa)&&t.datumCode!=="WGS84"}function Df(t,e,n,i){var r;Array.isArray(n)?n=Mb(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(F5(n),t.datum&&e.datum&&D5(t,e)&&(r=new li("WGS84"),n=Df(t,r,n,i),t=r),i&&t.axis!=="enu"&&(n=Ex(t,!1,n)),t.projName==="longlat")n={x:n.x*wt,y:n.y*wt,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=L5(t.datum,e.datum,n),!!n)return n=n,e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*Ii,y:n.y*Ii,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),i&&e.axis!=="enu"?Ex(e,!0,n):(n&&!s&&delete n.z,n)}var wx=li("WGS84");function g0(t,e,n,i){var r,s,o;return Array.isArray(n)?(r=Df(t,e,n,i)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof r.z=="number"?[r.x,r.y,r.z].concat(n.slice(3)):[r.x,r.y,n[2]].concat(n.slice(3)):[r.x,r.y].concat(n.slice(2)):[r.x,r.y]):(s=Df(t,e,n,i),o=Object.keys(n),o.length===2||o.forEach(function(a){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;s[a]=n[a]}),s)}function eh(t){return t instanceof li?t:typeof t=="object"&&"oProj"in t?t.oProj:li(t)}function N5(t,e,n){var i,r,s=!1,o;return typeof e>"u"?(r=eh(t),i=wx,s=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,r=eh(t),i=wx,s=!0),i||(i=eh(t)),r||(r=eh(e)),n?g0(i,r,n):(o={forward:function(a,l){return g0(i,r,a,l)},inverse:function(a,l){return g0(r,i,a,l)}},s&&(o.oProj=r),o)}var Sx=6,Rb="AJSAJS",Pb="AFAFAF",Bo=65,en=73,Fn=79,Al=86,Ol=90;const G5={forward:Ib,inverse:U5,toPoint:Ab};function Ib(t,e){return e=e||5,z5(j5({lat:t[1],lon:t[0]}),e)}function U5(t){var e=Dy(Lb(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function Ab(t){var e=Dy(Lb(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function m0(t){return t*(Math.PI/180)}function Cx(t){return 180*(t/Math.PI)}function j5(t){var e=t.lat,n=t.lon,i=6378137,r=.00669438,s=.9996,o,a,l,u,c,h,f,g=m0(e),d=m0(n),p,m;m=Math.floor((n+180)/6)+1,n===180&&(m=60),e>=56&&e<64&&n>=3&&n<12&&(m=32),e>=72&&e<84&&(n>=0&&n<9?m=31:n>=9&&n<21?m=33:n>=21&&n<33?m=35:n>=33&&n<42&&(m=37)),o=(m-1)*6-180+3,p=m0(o),a=r/(1-r),l=i/Math.sqrt(1-r*Math.sin(g)*Math.sin(g)),u=Math.tan(g)*Math.tan(g),c=a*Math.cos(g)*Math.cos(g),h=Math.cos(g)*(d-p),f=i*((1-r/4-3*r*r/64-5*r*r*r/256)*g-(3*r/8+3*r*r/32+45*r*r*r/1024)*Math.sin(2*g)+(15*r*r/256+45*r*r*r/1024)*Math.sin(4*g)-35*r*r*r/3072*Math.sin(6*g));var _=s*l*(h+(1-u+c)*h*h*h/6+(5-18*u+u*u+72*c-58*a)*h*h*h*h*h/120)+5e5,y=s*(f+l*Math.tan(g)*(h*h/2+(5-u+9*c+4*c*c)*h*h*h*h/24+(61-58*u+u*u+600*c-330*a)*h*h*h*h*h*h/720));return e<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(_),zoneNumber:m,zoneLetter:$5(e)}}function Dy(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var s=.9996,o=6378137,a=.00669438,l,u=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),c,h,f,g,d,p,m,_,y,v=n-5e5,E=e;i<"N"&&(E-=1e7),m=(r-1)*6-180+3,l=a/(1-a),p=E/s,_=p/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),y=_+(3*u/2-27*u*u*u/32)*Math.sin(2*_)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*_)+151*u*u*u/96*Math.sin(6*_),c=o/Math.sqrt(1-a*Math.sin(y)*Math.sin(y)),h=Math.tan(y)*Math.tan(y),f=l*Math.cos(y)*Math.cos(y),g=o*(1-a)/Math.pow(1-a*Math.sin(y)*Math.sin(y),1.5),d=v/(c*s);var x=y-c*Math.tan(y)/g*(d*d/2-(5+3*h+10*f-4*f*f-9*l)*d*d*d*d/24+(61+90*h+298*f+45*h*h-252*l-3*f*f)*d*d*d*d*d*d/720);x=Cx(x);var S=(d-(1+2*h+f)*d*d*d/6+(5-2*f+28*h-3*f*f+8*l+24*h*h)*d*d*d*d*d/120)/Math.cos(y);S=m+Cx(S);var w;if(t.accuracy){var C=Dy({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});w={top:C.lat,right:C.lon,bottom:x,left:S}}else w={lat:x,lon:S};return w}function $5(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function z5(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+B5(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}function B5(t,e,n){var i=Ob(n),r=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return V5(r,s,i)}function Ob(t){var e=t%Sx;return e===0&&(e=Sx),e}function V5(t,e,n){var i=n-1,r=Rb.charCodeAt(i),s=Pb.charCodeAt(i),o=r+t-1,a=s+e,l=!1;o>Ol&&(o=o-Ol+Bo-1,l=!0),(o===en||r<en&&o>en||(o>en||r<en)&&l)&&o++,(o===Fn||r<Fn&&o>Fn||(o>Fn||r<Fn)&&l)&&(o++,o===en&&o++),o>Ol&&(o=o-Ol+Bo-1),a>Al?(a=a-Al+Bo-1,l=!0):l=!1,(a===en||s<en&&a>en||(a>en||s<en)&&l)&&a++,(a===Fn||s<Fn&&a>Fn||(a>Fn||s<Fn)&&l)&&(a++,a===en&&a++),a>Al&&(a=a-Al+Bo-1);var u=String.fromCharCode(o)+String.fromCharCode(a);return u}function Lb(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,i="",r,s=0;!/[A-Z]/.test(r=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;i+=r,s++}var o=parseInt(i,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(s++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(s,s+=2);for(var l=Ob(o),u=W5(n.charAt(0),l),c=X5(n.charAt(1),l);c<H5(a);)c+=2e6;var h=e-s;if(h%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var f=h/2,g=0,d=0,p,m,_,y,v;return f>0&&(p=1e5/Math.pow(10,f),m=t.substring(s,s+f),g=parseFloat(m)*p,_=t.substring(s+f),d=parseFloat(_)*p),y=g+u,v=d+c,{easting:y,northing:v,zoneLetter:a,zoneNumber:o,accuracy:p}}function W5(t,e){for(var n=Rb.charCodeAt(e-1),i=1e5,r=!1;n!==t.charCodeAt(0);){if(n++,n===en&&n++,n===Fn&&n++,n>Ol){if(r)throw"Bad character: "+t;n=Bo,r=!0}i+=1e5}return i}function X5(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=Pb.charCodeAt(e-1),i=0,r=!1;n!==t.charCodeAt(0);){if(n++,n===en&&n++,n===Fn&&n++,n>Al){if(r)throw"Bad character: "+t;n=Bo,r=!0}i+=1e5}return i}function H5(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function ba(t,e,n){if(!(this instanceof ba))return new ba(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var i=t.split(",");this.x=parseFloat(i[0]),this.y=parseFloat(i[1]),this.z=parseFloat(i[2])||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}ba.fromMGRS=function(t){return new ba(Ab(t))};ba.prototype.toMGRS=function(t){return Ib([this.x,this.y],t)};var K5=1,Y5=.25,Tx=.046875,bx=.01953125,Mx=.01068115234375,q5=.75,Z5=.46875,J5=.013020833333333334,Q5=.007120768229166667,ek=.3645833333333333,tk=.005696614583333333,nk=.3076171875;function Ny(t){var e=[];e[0]=K5-t*(Y5+t*(Tx+t*(bx+t*Mx))),e[1]=t*(q5-t*(Tx+t*(bx+t*Mx)));var n=t*t;return e[2]=n*(Z5-t*(J5+t*Q5)),n*=t,e[3]=n*(ek-t*tk),e[4]=n*t*nk,e}function Xa(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var ik=20;function Gy(t,e,n){for(var i=1/(1-e),r=t,s=ik;s;--s){var o=Math.sin(r),a=1-e*o*o;if(a=(Xa(r,o,Math.cos(r),n)-t)*(a*Math.sqrt(a))*i,r-=a,Math.abs(a)<q)return r}return r}function rk(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=Ny(this.es),this.ml0=Xa(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function sk(t){var e=t.x,n=t.y,i=Z(e-this.long0),r,s,o,a=Math.sin(n),l=Math.cos(n);if(this.es){var c=l*i,h=Math.pow(c,2),f=this.ep2*Math.pow(l,2),g=Math.pow(f,2),d=Math.abs(l)>q?Math.tan(n):0,p=Math.pow(d,2),m=Math.pow(p,2);r=1-this.es*Math.pow(a,2),c=c/Math.sqrt(r);var _=Xa(n,a,l,this.en);s=this.a*(this.k0*c*(1+h/6*(1-p+f+h/20*(5-18*p+m+14*f-58*p*f+h/42*(61+179*m-m*p-479*p)))))+this.x0,o=this.a*(this.k0*(_-this.ml0+a*i*c/2*(1+h/12*(5-p+9*f+4*g+h/30*(61+m-58*p+270*f-330*p*f+h/56*(1385+543*m-m*p-3111*p))))))+this.y0}else{var u=l*Math.sin(i);if(Math.abs(Math.abs(u)-1)<q)return 93;if(s=.5*this.a*this.k0*Math.log((1+u)/(1-u))+this.x0,o=l*Math.cos(i)/Math.sqrt(1-Math.pow(u,2)),u=Math.abs(o),u>=1){if(u-1>q)return 93;o=0}else o=Math.acos(o);n<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return t.x=s,t.y=o,t}function ok(t){var e,n,i,r,s=(t.x-this.x0)*(1/this.a),o=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+o/this.k0,n=Gy(e,this.es,this.en),Math.abs(n)<z){var h=Math.sin(n),f=Math.cos(n),g=Math.abs(f)>q?Math.tan(n):0,d=this.ep2*Math.pow(f,2),p=Math.pow(d,2),m=Math.pow(g,2),_=Math.pow(m,2);e=1-this.es*Math.pow(h,2);var y=s*Math.sqrt(e)/this.k0,v=Math.pow(y,2);e=e*g,i=n-e*v/(1-this.es)*.5*(1-v/12*(5+3*m-9*d*m+d-4*p-v/30*(61+90*m-252*d*m+45*_+46*d-v/56*(1385+3633*m+4095*_+1574*_*m)))),r=Z(this.long0+y*(1-v/6*(1+2*m+d-v/20*(5+28*m+24*_+8*d*m+6*d-v/42*(61+662*m+1320*_+720*_*m))))/f)}else i=z*lc(o),r=0;else{var a=Math.exp(s/this.k0),l=.5*(a-1/a),u=this.lat0+o/this.k0,c=Math.cos(u);e=Math.sqrt((1-Math.pow(c,2))/(1+Math.pow(l,2))),i=Math.asin(e),o<0&&(i=-i),l===0&&c===0?r=0:r=Z(Math.atan2(l,c)+this.long0)}return t.x=r,t.y=i,t}var ak=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Wh={init:rk,forward:sk,inverse:ok,names:ak};function kb(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function rn(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}function lk(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function uk(t){var e=Math.abs(t);return e=lk(e*(1+e/(rn(1,e)+1))),t<0?-e:e}function Uy(t,e){for(var n=2*Math.cos(2*e),i=t.length-1,r=t[i],s=0,o;--i>=0;)o=-s+n*r+t[i],s=r,r=o;return e+o*Math.sin(2*e)}function ck(t,e){for(var n=2*Math.cos(e),i=t.length-1,r=t[i],s=0,o;--i>=0;)o=-s+n*r+t[i],s=r,r=o;return Math.sin(e)*o}function hk(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function Fb(t,e,n){for(var i=Math.sin(e),r=Math.cos(e),s=kb(n),o=hk(n),a=2*r*o,l=-2*i*s,u=t.length-1,c=t[u],h=0,f=0,g=0,d,p;--u>=0;)d=f,p=h,f=c,h=g,c=-d+a*f-l*h+t[u],g=-p+l*f+a*h;return a=i*o,l=r*s,[a*c-l*g,a*g+l*c]}function fk(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Wh.init.apply(this),this.forward=Wh.forward,this.inverse=Wh.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var i=Uy(this.cbg,this.lat0);this.Zb=-this.Qn*(i+ck(this.gtu,2*i))}function dk(t){var e=Z(t.x-this.long0),n=t.y;n=Uy(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),s=Math.sin(e),o=Math.cos(e);n=Math.atan2(i,o*r),e=Math.atan2(s*r,rn(i,r*o)),e=uk(Math.tan(e));var a=Fb(this.gtu,2*n,2*e);n=n+a[0],e=e+a[1];var l,u;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,u=1/0),t.x=l,t.y=u,t}function gk(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var i,r;if(Math.abs(e)<=2.623395162778){var s=Fb(this.utg,2*n,2*e);n=n+s[0],e=e+s[1],e=Math.atan(kb(e));var o=Math.sin(n),a=Math.cos(n),l=Math.sin(e),u=Math.cos(e);n=Math.atan2(o*u,rn(l,u*a)),e=Math.atan2(l,u*a),i=Z(e+this.long0),r=Uy(this.cgb,n)}else i=1/0,r=1/0;return t.x=i,t.y=r,t}var mk=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const Xh={init:fk,forward:dk,inverse:gk,names:mk};function pk(t,e){if(t===void 0){if(t=Math.floor((Z(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var _k="etmerc";function yk(){var t=pk(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*wt,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Xh.init.apply(this),this.forward=Xh.forward,this.inverse=Xh.inverse}var vk=["Universal Transverse Mercator System","utm"];const Ek={init:yk,names:vk,dependsOn:_k};function jy(t,e){return Math.pow((1-t)/(1+t),e)}var xk=20;function wk(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Ie)/(Math.pow(Math.tan(.5*this.lat0+Ie),this.C)*jy(this.e*t,this.ratexp))}function Sk(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Ie),this.C)*jy(this.e*Math.sin(n),this.ratexp))-z,t.x=this.C*e,t}function Ck(t){for(var e=1e-14,n=t.x/this.C,i=t.y,r=Math.pow(Math.tan(.5*i+Ie)/this.K,1/this.C),s=xk;s>0&&(i=2*Math.atan(r*jy(this.e*Math.sin(t.y),-.5*this.e))-z,!(Math.abs(i-t.y)<e));--s)t.y=i;return s?(t.x=n,t.y=i,t):null}const $y={init:wk,forward:Sk,inverse:Ck};function Tk(){$y.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function bk(t){var e,n,i,r;return t.x=Z(t.x-this.long0),$y.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Mk(t){var e,n,i,r,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=rn(t.x,t.y)){var o=2*Math.atan2(s,this.R2);e=Math.sin(o),n=Math.cos(o),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),i=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,$y.inverse.apply(this,[t]),t.x=Z(t.x+this.long0),t}var Rk=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const Pk={init:Tk,forward:bk,inverse:Mk,names:Rk};function zy(t,e,n){return e*=n,Math.tan(.5*(z+t))*Math.pow((1-e)/(1+e),.5*n)}function Ik(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=q&&(this.k0=.5*(1+lc(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=q&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=q&&Math.abs(Math.cos(this.lat_ts))>q&&(this.k0=.5*this.cons*Ui(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ai(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ui(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(zy(this.lat0,this.sinlat0,this.e))-z,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Ak(t){var e=t.x,n=t.y,i=Math.sin(n),r=Math.cos(n),s,o,a,l,u,c,h=Z(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=q&&Math.abs(n+this.lat0)<=q?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*i+this.coslat0*r*Math.cos(h)),t.x=this.a*s*r*Math.sin(h)+this.x0,t.y=this.a*s*(this.coslat0*i-this.sinlat0*r*Math.cos(h))+this.y0,t):(o=2*Math.atan(zy(n,i,this.e))-z,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=q?(u=ai(this.e,n*this.con,this.con*i),c=2*this.a*this.k0*u/this.cons,t.x=this.x0+c*Math.sin(e-this.long0),t.y=this.y0-this.con*c*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<q?(s=2*this.a*this.k0/(1+l*Math.cos(h)),t.y=s*a):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(h))),t.y=s*(this.cosX0*a-this.sinX0*l*Math.cos(h))+this.y0),t.x=s*l*Math.sin(h)+this.x0,t))}function Ok(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,s,o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,n=this.lat0,o<=q?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<q?this.lat0>0?e=Z(this.long0+Math.atan2(t.x,-1*t.y)):e=Z(this.long0+Math.atan2(t.x,t.y)):e=Z(this.long0+Math.atan2(t.x*Math.sin(a),o*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=q){if(o<=q)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=o*this.cons/(2*this.a*this.k0),n=this.con*Au(this.e,i),e=this.con*Z(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=q?s=this.X0:(s=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/o),e=Z(this.long0+Math.atan2(t.x*Math.sin(r),o*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),n=-1*Au(this.e,Math.tan(.5*(z+s)));return t.x=e,t.y=n,t}var Lk=["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"];const kk={init:Ik,forward:Ak,inverse:Ok,names:Lk,ssfn_:zy};function Fk(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=this.rf,r=1/i,s=2*r-Math.pow(r,2),o=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*l+this.alpha*o/2*u}function Dk(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(s))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*o+this.x0,t}function Nk(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),o=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+o/this.alpha,l=0,u=s,c=-1e3,h=0;Math.abs(u-c)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=u,t}var Gk=["somerc"];const Uk={init:Fk,forward:Dk,inverse:Nk,names:Gk};var wo=1e-7;function jk(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.projName=="object"?Object.keys(t.projName)[0]:t.projName;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1||e.indexOf(Sb(n))!==-1}function $k(){var t,e,n,i,r,s,o,a,l,u,c=0,h,f=0,g=0,d=0,p=0,m=0,_=0;this.no_off=jk(this),this.no_rot="no_rot"in this;var y=!1;"alpha"in this&&(y=!0);var v=!1;if("rectified_grid_angle"in this&&(v=!0),y&&(_=this.alpha),v&&(c=this.rectified_grid_angle),y||v)f=this.longc;else if(g=this.long1,p=this.lat1,d=this.long2,m=this.lat2,Math.abs(p-m)<=wo||(t=Math.abs(p))<=wo||Math.abs(t-z)<=wo||Math.abs(Math.abs(this.lat0)-z)<=wo||Math.abs(Math.abs(m)-z)<=wo)throw new Error;var E=1-this.es;e=Math.sqrt(E),Math.abs(this.lat0)>q?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/E),this.A=this.B*this.k0*e/t,i=this.B*e/(n*Math.sqrt(t)),r=i*i-1,r<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=i,this.E*=Math.pow(ai(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=r=1),y||v?(y?(h=Math.asin(Math.sin(_)/i),v||(c=_)):(h=c,_=Math.asin(i*Math.sin(h))),this.lam0=f-Math.asin(.5*(r-1/r)*Math.tan(h))/this.B):(s=Math.pow(ai(this.e,p,Math.sin(p)),this.B),o=Math.pow(ai(this.e,m,Math.sin(m)),this.B),r=this.E/s,l=(o-s)/(o+s),u=this.E*this.E,u=(u-o*s)/(u+o*s),t=g-d,t<-Math.PI?d-=Pu:t>Math.PI&&(d+=Pu),this.lam0=Z(.5*(g+d)-Math.atan(u*Math.tan(.5*this.B*(g-d))/l)/this.B),h=Math.atan(2*Math.sin(this.B*Z(g-this.lam0))/(r-1/r)),c=_=Math.asin(i*Math.sin(h))),this.singam=Math.sin(h),this.cosgam=Math.cos(h),this.sinrot=Math.sin(c),this.cosrot=Math.cos(c),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(_))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*h,this.v_pole_n=this.ArB*Math.log(Math.tan(Ie-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(Ie+r))}function zk(t){var e={},n,i,r,s,o,a,l,u;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-z)>q){if(o=this.E/Math.pow(ai(this.e,t.y,Math.sin(t.y)),this.B),a=1/o,n=.5*(o-a),i=.5*(o+a),s=Math.sin(this.B*t.x),r=(n*this.singam-s*this.cosgam)/i,Math.abs(Math.abs(r)-1)<q)throw new Error;u=.5*this.ArB*Math.log((1-r)/(1+r)),a=Math.cos(this.B*t.x),Math.abs(a)<wo?l=this.A*t.x:l=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,a)}else u=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=u):(l-=this.u_0,e.x=u*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-u*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function Bk(t){var e,n,i,r,s,o,a,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*n),r=.5*(i-1/i),s=.5*(i+1/i),o=Math.sin(this.BrA*e),a=(o*this.cosgam+r*this.singam)/s,Math.abs(Math.abs(a)-1)<q)l.x=0,l.y=a<0?-z:z;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Au(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(r*this.cosgam-o*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var Vk=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const Wk={init:$k,forward:zk,inverse:Bk,names:Vk};function Xk(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<q)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=Ui(this.e,e,n),r=ai(this.e,this.lat1,e),s=Math.sin(this.lat2),o=Math.cos(this.lat2),a=Ui(this.e,s,o),l=ai(this.e,this.lat2,s),u=Math.abs(Math.abs(this.lat0)-z)<q?0:ai(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>q?this.ns=Math.log(i/a)/Math.log(r/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Hk(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=q&&(n=lc(n)*(z-2*q));var i=Math.abs(Math.abs(n)-z),r,s;if(i>q)r=ai(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(r,this.ns);else{if(i=n*this.ns,i<=0)return null;s=0}var o=this.ns*Z(e-this.long0);return t.x=this.k0*(s*Math.sin(o))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(o))+this.y0,t}function Kk(t){var e,n,i,r,s,o=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(o*o+a*a),n=1):(e=-Math.sqrt(o*o+a*a),n=-1);var l=0;if(e!==0&&(l=Math.atan2(n*o,n*a)),e!==0||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),r=Au(this.e,i),r===-9999)return null}else r=-z;return s=Z(l/this.ns+this.long0),t.x=s,t.y=r,t}var Yk=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const qk={init:Xk,forward:Hk,inverse:Kk,names:Yk};function Zk(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Jk(t){var e,n,i,r,s,o,a,l=t.x,u=t.y,c=Z(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),i=-c*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),s=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),o=this.n*s,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(o)/1,t.x=a*Math.sin(o)/1,this.czech||(t.y*=-1,t.x*=-1),t}function Qk(t){var e,n,i,r,s,o,a,l,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),r=s/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,l=0;var c=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(l=1),a=t.y,c+=1;while(l===0&&c<15);return c>=15?null:t}var eF=["Krovak","krovak"];const tF={init:Zk,forward:Jk,inverse:Qk,names:eF};function Wt(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)}function uc(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function cc(t){return .375*t*(1+.25*t*(1+.46875*t))}function hc(t){return .05859375*t*t*(1+.75*t)}function fc(t){return t*t*t*(35/3072)}function By(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}function _s(t){return Math.abs(t)<z?t:t-lc(t)*Math.PI}function Nf(t,e,n,i,r){var s,o;s=t/e;for(var a=0;a<15;a++)if(o=(t-(e*s-n*Math.sin(2*s)+i*Math.sin(4*s)-r*Math.sin(6*s)))/(e-2*n*Math.cos(2*s)+4*i*Math.cos(4*s)-6*r*Math.cos(6*s)),s+=o,Math.abs(o)<=1e-10)return s;return NaN}function nF(){this.sphere||(this.e0=uc(this.es),this.e1=cc(this.es),this.e2=hc(this.es),this.e3=fc(this.es),this.ml0=this.a*Wt(this.e0,this.e1,this.e2,this.e3,this.lat0))}function iF(t){var e,n,i=t.x,r=t.y;if(i=Z(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var s=Math.sin(r),o=Math.cos(r),a=By(this.a,this.e,s),l=Math.tan(r)*Math.tan(r),u=i*Math.cos(r),c=u*u,h=this.es*o*o/(1-this.es),f=this.a*Wt(this.e0,this.e1,this.e2,this.e3,r);e=a*u*(1-c*l*(1/6-(8-l+8*h)*c/120)),n=f-this.ml0+a*s/o*c*(.5+(5-l+6*h)*c/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function rF(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,r;if(this.sphere){var s=n+this.lat0;i=Math.asin(Math.sin(s)*Math.cos(e)),r=Math.atan2(Math.tan(e),Math.cos(s))}else{var o=this.ml0/this.a+n,a=Nf(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-z)<=q)return t.x=this.long0,t.y=z,n<0&&(t.y*=-1),t;var l=By(this.a,this.e,Math.sin(a)),u=l*l*l/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(a),2),h=e*this.a/l,f=h*h;i=a-l*Math.tan(a)/u*h*h*(.5-(1+3*c)*h*h/24),r=h*(1-f*(c/3+(1+3*c)*c*f/15))/Math.cos(a)}return t.x=Z(r+this.long0),t.y=_s(i),t}var sF=["Cassini","Cassini_Soldner","cass"];const oF={init:nF,forward:iF,inverse:rF,names:sF};function Zr(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var _p=1,yp=2,vp=3,Hh=4;function aF(){var t=Math.abs(this.lat0);if(Math.abs(t-z)<q?this.mode=this.lat0<0?_p:yp:Math.abs(t)<q?this.mode=vp:this.mode=Hh,this.es>0){var e;switch(this.qp=Zr(this.e,1),this.mmf=.5/(1-this.es),this.apa=pF(this.es),this.mode){case yp:this.dd=1;break;case _p:this.dd=1;break;case vp:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case Hh:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Zr(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===Hh&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function lF(t){var e,n,i,r,s,o,a,l,u,c,h=t.x,f=t.y;if(h=Z(h-this.long0),this.sphere){if(s=Math.sin(f),c=Math.cos(f),i=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+c*i:1+this.sinph0*s+this.cosph0*c*i,n<=q)return null;n=Math.sqrt(2/n),e=n*c*Math.sin(h),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*c*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(f+this.lat0)<q)return null;n=Ie-f*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(h),n*=i}}else{switch(a=0,l=0,u=0,i=Math.cos(h),r=Math.sin(h),s=Math.sin(f),o=Zr(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:u=1+this.sinb1*a+this.cosb1*l*i;break;case this.EQUIT:u=1+l*i;break;case this.N_POLE:u=z+f,o=this.qp-o;break;case this.S_POLE:u=f-z,o=this.qp+o;break}if(Math.abs(u)<q)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),this.mode===this.OBLIQ?n=this.ymf*u*(this.cosb1*a-this.sinb1*l*i):n=(u=Math.sqrt(2/(1+l*i)))*a*this.ymf,e=this.xmf*u*l*r;break;case this.N_POLE:case this.S_POLE:o>=0?(e=(u=Math.sqrt(o))*r,n=i*(this.mode===this.S_POLE?u:-u)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function uF(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,r,s,o,a,l,u;if(this.sphere){var c=0,h,f=0;if(h=Math.sqrt(e*e+n*n),r=h*.5,r>1)return null;switch(r=2*Math.asin(r),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(f=Math.sin(r),c=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(h)<=q?0:Math.asin(n*f/h),e*=f,n=c*h;break;case this.OBLIQ:r=Math.abs(h)<=q?this.lat0:Math.asin(c*this.sinph0+n*f*this.cosph0/h),e*=f*this.cosph0,n=(c-Math.sin(r)*this.sinph0)*h;break;case this.N_POLE:n=-n,r=z-r;break;case this.S_POLE:r-=z;break}i=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,l=Math.sqrt(e*e+n*n),l<q)return t.x=this.long0,t.y=this.lat0,t;o=2*Math.asin(.5*l/this.rq),s=Math.cos(o),e*=o=Math.sin(o),this.mode===this.OBLIQ?(u=s*this.sinb1+n*o*this.cosb1/l,a=this.qp*u,n=l*this.cosb1*s-n*this.sinb1*o):(u=n*o/l,a=this.qp*u,n=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),a=e*e+n*n,!a)return t.x=this.long0,t.y=this.lat0,t;u=1-a/this.qp,this.mode===this.S_POLE&&(u=-u)}i=Math.atan2(e,n),r=_F(Math.asin(u),this.apa)}return t.x=Z(this.long0+i),t.y=r,t}var cF=.3333333333333333,hF=.17222222222222222,fF=.10257936507936508,dF=.06388888888888888,gF=.0664021164021164,mF=.016415012942191543;function pF(t){var e,n=[];return n[0]=t*cF,e=t*t,n[0]+=e*hF,n[1]=e*dF,e*=t,n[0]+=e*fF,n[1]+=e*gF,n[2]=e*mF,n}function _F(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var yF=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const vF={init:aF,forward:lF,inverse:uF,names:yF,S_POLE:_p,N_POLE:yp,EQUIT:vp,OBLIQ:Hh};function ns(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function EF(){Math.abs(this.lat1+this.lat2)<q||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ui(this.e3,this.sin_po,this.cos_po),this.qs1=Zr(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ui(this.e3,this.sin_po,this.cos_po),this.qs2=Zr(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Zr(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>q?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function xF(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=Zr(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,s=this.ns0*Z(e-this.long0),o=r*Math.sin(s)+this.x0,a=this.rh-r*Math.cos(s)+this.y0;return t.x=o,t.y=a,t}function wF(t){var e,n,i,r,s,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,e!==0&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?o=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,o=this.phi1z(this.e3,n)),s=Z(r/this.ns0+this.long0),t.x=s,t.y=o,t}function SF(t,e){var n,i,r,s,o,a=ns(.5*e);if(t<q)return a;for(var l=t*t,u=1;u<=25;u++)if(n=Math.sin(a),i=Math.cos(a),r=t*n,s=1-r*r,o=.5*s*s/i*(e/(1-l)-n/s+.5/t*Math.log((1-r)/(1+r))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var CF=["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"];const TF={init:EF,forward:xF,inverse:wF,names:CF,phi1z:SF};function bF(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function MF(t){var e,n,i,r,s,o,a,l,u=t.x,c=t.y;return i=Z(u-this.long0),e=Math.sin(c),n=Math.cos(c),r=Math.cos(i),o=this.sin_p14*e+this.cos_p14*n*r,s=1,o>0||Math.abs(o)<=q?(a=this.x0+this.a*s*n*Math.sin(i)/o,l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*r)/o):(a=this.x0+this.infinity_dist*n*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=l,t}function RF(t){var e,n,i,r,s,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),o=ns(i*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),s=Z(this.long0+s)):(o=this.phic0,s=0),t.x=s,t.y=o,t}var PF=["gnom"];const IF={init:bF,forward:MF,inverse:RF,names:PF};function AF(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*z:z;for(var i=Math.asin(.5*e),r,s,o,a,l=0;l<30;l++)if(s=Math.sin(i),o=Math.cos(i),a=t*s,r=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-s/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),i+=r,Math.abs(r)<=1e-10)return i;return NaN}function OF(){this.sphere||(this.k0=Ui(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function LF(t){var e=t.x,n=t.y,i,r,s=Z(e-this.long0);if(this.sphere)i=this.x0+this.a*s*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var o=Zr(this.e,Math.sin(n));i=this.x0+this.a*this.k0*s,r=this.y0+this.a*o*.5/this.k0}return t.x=i,t.y=r,t}function kF(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=Z(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=AF(this.e,2*t.y*this.k0/this.a),e=Z(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var FF=["cea"];const DF={init:OF,forward:LF,inverse:kF,names:FF};function NF(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function GF(t){var e=t.x,n=t.y,i=Z(e-this.long0),r=_s(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t}function UF(t){var e=t.x,n=t.y;return t.x=Z(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=_s(this.lat0+(n-this.y0)/this.a),t}var jF=["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"];const $F={init:NF,forward:GF,inverse:UF,names:jF};var Rx=20;function zF(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=uc(this.es),this.e1=cc(this.es),this.e2=hc(this.es),this.e3=fc(this.es),this.ml0=this.a*Wt(this.e0,this.e1,this.e2,this.e3,this.lat0)}function BF(t){var e=t.x,n=t.y,i,r,s,o=Z(e-this.long0);if(s=o*Math.sin(n),this.sphere)Math.abs(n)<=q?(i=this.a*o,r=-1*this.a*this.lat0):(i=this.a*Math.sin(s)/Math.tan(n),r=this.a*(_s(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=q)i=this.a*o,r=-1*this.ml0;else{var a=By(this.a,this.e,Math.sin(n))/Math.tan(n);i=a*Math.sin(s),r=this.a*Wt(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+a*(1-Math.cos(s))}return t.x=i+this.x0,t.y=r+this.y0,t}function VF(t){var e,n,i,r,s,o,a,l,u;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=q)e=Z(i/this.a+this.long0),n=0;else{o=this.lat0+r/this.a,a=i*i/this.a/this.a+o*o,l=o;var c;for(s=Rx;s;--s)if(c=Math.tan(l),u=-1*(o*(l*c+1)-l-.5*(l*l+a)*c)/((l-o)/c-1),l+=u,Math.abs(u)<=q){n=l;break}e=Z(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=q)n=0,e=Z(this.long0+i/this.a);else{o=(this.ml0+r)/this.a,a=i*i/this.a/this.a+o*o,l=o;var h,f,g,d,p;for(s=Rx;s;--s)if(p=this.e*Math.sin(l),h=Math.sqrt(1-p*p)*Math.tan(l),f=this.a*Wt(this.e0,this.e1,this.e2,this.e3,l),g=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),d=f/this.a,u=(o*(h*d+1)-d-.5*h*(d*d+a))/(this.es*Math.sin(2*l)*(d*d+a-2*o*d)/(4*h)+(o-d)*(h*g-2/Math.sin(2*l))-g),l-=u,Math.abs(u)<=q){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=Z(this.long0+Math.asin(i*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var WF=["Polyconic","American_Polyconic","poly"];const XF={init:zF,forward:BF,inverse:VF,names:WF};function HF(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function KF(t){var e,n=t.x,i=t.y,r=i-this.lat0,s=n-this.long0,o=r/Zl*1e-5,a=s,l=1,u=0;for(e=1;e<=10;e++)l=l*o,u=u+this.A[e]*l;var c=u,h=a,f=1,g=0,d,p,m=0,_=0;for(e=1;e<=6;e++)d=f*c-g*h,p=g*c+f*h,f=d,g=p,m=m+this.B_re[e]*f-this.B_im[e]*g,_=_+this.B_im[e]*f+this.B_re[e]*g;return t.x=_*this.a+this.x0,t.y=m*this.a+this.y0,t}function YF(t){var e,n=t.x,i=t.y,r=n-this.x0,s=i-this.y0,o=s/this.a,a=r/this.a,l=1,u=0,c,h,f=0,g=0;for(e=1;e<=6;e++)c=l*o-u*a,h=u*o+l*a,l=c,u=h,f=f+this.C_re[e]*l-this.C_im[e]*u,g=g+this.C_im[e]*l+this.C_re[e]*u;for(var d=0;d<this.iterations;d++){var p=f,m=g,_,y,v=o,E=a;for(e=2;e<=6;e++)_=p*f-m*g,y=m*f+p*g,p=_,m=y,v=v+(e-1)*(this.B_re[e]*p-this.B_im[e]*m),E=E+(e-1)*(this.B_im[e]*p+this.B_re[e]*m);p=1,m=0;var x=this.B_re[1],S=this.B_im[1];for(e=2;e<=6;e++)_=p*f-m*g,y=m*f+p*g,p=_,m=y,x=x+e*(this.B_re[e]*p-this.B_im[e]*m),S=S+e*(this.B_im[e]*p+this.B_re[e]*m);var w=x*x+S*S;f=(v*x+E*S)/w,g=(E*x-v*S)/w}var C=f,M=g,b=1,L=0;for(e=1;e<=9;e++)b=b*C,L=L+this.D[e]*b;var O=this.lat0+L*Zl*1e5,N=this.long0+M;return t.x=N,t.y=O,t}var qF=["New_Zealand_Map_Grid","nzmg"];const ZF={init:HF,forward:KF,inverse:YF,names:qF};function JF(){}function QF(t){var e=t.x,n=t.y,i=Z(e-this.long0),r=this.x0+this.a*i,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=s,t}function e6(t){t.x-=this.x0,t.y-=this.y0;var e=Z(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var t6=["Miller_Cylindrical","mill"];const n6={init:JF,forward:QF,inverse:e6,names:t6};var i6=20;function r6(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Ny(this.es)}function s6(t){var e,n,i=t.x,r=t.y;if(i=Z(i-this.long0),this.sphere){if(!this.m)r=this.n!==1?Math.asin(this.n*Math.sin(r)):r;else for(var s=this.n*Math.sin(r),o=i6;o;--o){var a=(this.m*r+Math.sin(r)-s)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<q)break}e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),u=Math.cos(r);n=this.a*Xa(r,l,u,this.en),e=this.a*i*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function o6(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=ns((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=ns(Math.sin(e)/this.n)),i=Z(i+this.long0),e=_s(e)):(e=Gy(t.y/this.a,this.es,this.en),r=Math.abs(e),r<z?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=Z(n)):r-q<z&&(i=this.long0)),t.x=i,t.y=e,t}var a6=["Sinusoidal","sinu"];const l6={init:r6,forward:s6,inverse:o6,names:a6};function u6(){}function c6(t){for(var e=t.x,n=t.y,i=Z(e-this.long0),r=n,s=Math.PI*Math.sin(n);;){var o=-(r+Math.sin(r)-s)/(1+Math.cos(r));if(r+=o,Math.abs(o)<q)break}r/=2,Math.PI/2-Math.abs(n)<q&&(i=0);var a=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=a,t.y=l,t}function h6(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=Z(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t}var f6=["Mollweide","moll"];const d6={init:u6,forward:c6,inverse:h6,names:f6};function g6(){Math.abs(this.lat1+this.lat2)<q||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=uc(this.es),this.e1=cc(this.es),this.e2=hc(this.es),this.e3=fc(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=Ui(this.e,this.sin_phi,this.cos_phi),this.ml1=Wt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<q?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=Ui(this.e,this.sin_phi,this.cos_phi),this.ml2=Wt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Wt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function m6(t){var e=t.x,n=t.y,i;if(this.sphere)i=this.a*(this.g-n);else{var r=Wt(this.e0,this.e1,this.e2,this.e3,n);i=this.a*(this.g-r)}var s=this.ns*Z(e-this.long0),o=this.x0+i*Math.sin(s),a=this.y0+this.rh-i*Math.cos(s);return t.x=o,t.y=a,t}function p6(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,i,r;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(n!==0&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=Z(this.long0+s/this.ns),i=_s(this.g-n/this.a),t.x=r,t.y=i,t;var o=this.g-n/this.a;return i=Nf(o,this.e0,this.e1,this.e2,this.e3),r=Z(this.long0+s/this.ns),t.x=r,t.y=i,t}var _6=["Equidistant_Conic","eqdc"];const y6={init:g6,forward:m6,inverse:p6,names:_6};function v6(){this.R=this.a}function E6(t){var e=t.x,n=t.y,i=Z(e-this.long0),r,s;Math.abs(n)<=q&&(r=this.x0+this.R*i,s=this.y0);var o=ns(2*Math.abs(n/Math.PI));(Math.abs(i)<=q||Math.abs(Math.abs(n)-z)<=q)&&(r=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*o):s=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/i-i/Math.PI),l=a*a,u=Math.sin(o),c=Math.cos(o),h=c/(u+c-1),f=h*h,g=h*(2/u-1),d=g*g,p=Math.PI*this.R*(a*(h-d)+Math.sqrt(l*(h-d)*(h-d)-(d+l)*(f-d)))/(d+l);i<0&&(p=-p),r=this.x0+p;var m=l+h;return p=Math.PI*this.R*(g*m-a*Math.sqrt((d+l)*(l+1)-m*m))/(d+l),n>=0?s=this.y0+p:s=this.y0-p,t.x=r,t.y=s,t}function x6(t){var e,n,i,r,s,o,a,l,u,c,h,f,g;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,i=t.x/h,r=t.y/h,s=i*i+r*r,o=-Math.abs(r)*(1+s),a=o-2*r*r+i*i,l=-2*o+1+2*r*r+s*s,g=r*r/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,u=(o-a*a/3/l)/l,c=2*Math.sqrt(-u/3),h=3*g/u/c,Math.abs(h)>1&&(h>=0?h=1:h=-1),f=Math.acos(h)/3,t.y>=0?n=(-c*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI:n=-(-c*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI,Math.abs(i)<q?e=this.long0:e=Z(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(i*i-r*r)+s*s))/2/i),t.x=e,t.y=n,t}var w6=["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"];const S6={init:v6,forward:E6,inverse:x6,names:w6};function C6(t,e,n,i,r,s){const o=i-e,a=Math.atan((1-s)*Math.tan(t)),l=Math.atan((1-s)*Math.tan(n)),u=Math.sin(a),c=Math.cos(a),h=Math.sin(l),f=Math.cos(l);let g=o,d,p=100,m,_,y,v,E,x,S,w,C,M,b,L,O,N;do{if(m=Math.sin(g),_=Math.cos(g),y=Math.sqrt(f*m*(f*m)+(c*h-u*f*_)*(c*h-u*f*_)),y===0)return{azi1:0,s12:0};v=u*h+c*f*_,E=Math.atan2(y,v),x=c*f*m/y,S=1-x*x,w=S!==0?v-2*u*h/S:0,C=s/16*S*(4+s*(4-3*S)),d=g,g=o+(1-C)*s*x*(E+C*y*(w+C*v*(-1+2*w*w)))}while(Math.abs(g-d)>1e-12&&--p>0);return p===0?{azi1:NaN,s12:NaN}:(M=S*(r*r-r*(1-s)*(r*(1-s)))/(r*(1-s)*(r*(1-s))),b=1+M/16384*(4096+M*(-768+M*(320-175*M))),L=M/1024*(256+M*(-128+M*(74-47*M))),O=L*y*(w+L/4*(v*(-1+2*w*w)-L/6*w*(-3+4*y*y)*(-3+4*w*w))),N=r*(1-s)*b*(E-O),{azi1:Math.atan2(f*m,c*h-u*f*_),s12:N})}function T6(t,e,n,i,r,s){const o=Math.atan((1-s)*Math.tan(t)),a=Math.sin(o),l=Math.cos(o),u=Math.sin(n),c=Math.cos(n),h=Math.atan2(a,l*c),f=l*u,g=1-f*f,d=g*(r*r-r*(1-s)*(r*(1-s)))/(r*(1-s)*(r*(1-s))),p=1+d/16384*(4096+d*(-768+d*(320-175*d))),m=d/1024*(256+d*(-128+d*(74-47*d)));let _=i/(r*(1-s)*p),y,v=100,E,x,S,w;do E=Math.cos(2*h+_),x=Math.sin(_),S=Math.cos(_),w=m*x*(E+m/4*(S*(-1+2*E*E)-m/6*E*(-3+4*x*x)*(-3+4*E*E))),y=_,_=i/(r*(1-s)*p)+w;while(Math.abs(_-y)>1e-12&&--v>0);if(v===0)return{lat2:NaN,lon2:NaN};const C=a*x-l*S*c,M=Math.atan2(a*S+l*x*c,(1-s)*Math.sqrt(f*f+C*C)),b=Math.atan2(x*u,l*S-a*x*c),L=s/16*g*(4+s*(4-3*g)),O=b-(1-L)*s*f*(_+L*x*(E+L*S*(-1+2*E*E))),N=e+O;return{lat2:M,lon2:N}}function b6(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))}function M6(t){var e=t.x,n=t.y,i=Math.sin(t.y),r=Math.cos(t.y),s=Z(e-this.long0),o,a,l,u,c,h,f,g,d,p,m;return this.sphere?Math.abs(this.sin_p12-1)<=q?(t.x=this.x0+this.a*(z-n)*Math.sin(s),t.y=this.y0-this.a*(z-n)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=q?(t.x=this.x0+this.a*(z+n)*Math.sin(s),t.y=this.y0+this.a*(z+n)*Math.cos(s),t):(d=this.sin_p12*i+this.cos_p12*r*Math.cos(s),f=Math.acos(d),g=f?f/Math.sin(f):1,t.x=this.x0+this.a*g*r*Math.sin(s),t.y=this.y0+this.a*g*(this.cos_p12*i-this.sin_p12*r*Math.cos(s)),t):(o=uc(this.es),a=cc(this.es),l=hc(this.es),u=fc(this.es),Math.abs(this.sin_p12-1)<=q?(c=this.a*Wt(o,a,l,u,z),h=this.a*Wt(o,a,l,u,n),t.x=this.x0+(c-h)*Math.sin(s),t.y=this.y0-(c-h)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=q?(c=this.a*Wt(o,a,l,u,z),h=this.a*Wt(o,a,l,u,n),t.x=this.x0+(c+h)*Math.sin(s),t.y=this.y0+(c+h)*Math.cos(s),t):Math.abs(e)<q&&Math.abs(n-this.lat0)<q?(t.x=t.y=0,t):(p=C6(this.lat0,this.long0,n,e,this.a,this.f),m=p.azi1,t.x=p.s12*Math.sin(m),t.y=p.s12*Math.cos(m),t))}function R6(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,s,o,a,l,u,c,h,f,g,d,p,m;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*z*this.a?void 0:(n=e/this.a,i=Math.sin(n),r=Math.cos(n),s=this.long0,Math.abs(e)<=q?o=this.lat0:(o=ns(r*this.sin_p12+t.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-z,Math.abs(a)<=q?this.lat0>=0?s=Z(this.long0+Math.atan2(t.x,-t.y)):s=Z(this.long0-Math.atan2(-t.x,t.y)):s=Z(this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=s,t.y=o,t)):(l=uc(this.es),u=cc(this.es),c=hc(this.es),h=fc(this.es),Math.abs(this.sin_p12-1)<=q?(f=this.a*Wt(l,u,c,h,z),e=Math.sqrt(t.x*t.x+t.y*t.y),g=f-e,o=Nf(g/this.a,l,u,c,h),s=Z(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=o,t):Math.abs(this.sin_p12+1)<=q?(f=this.a*Wt(l,u,c,h,z),e=Math.sqrt(t.x*t.x+t.y*t.y),g=e-f,o=Nf(g/this.a,l,u,c,h),s=Z(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=o,t):(d=Math.atan2(t.x,t.y),p=Math.sqrt(t.x*t.x+t.y*t.y),m=T6(this.lat0,this.long0,d,p,this.a,this.f),t.x=m.lon2,t.y=m.lat2,t))}var P6=["Azimuthal_Equidistant","aeqd"];const I6={init:b6,forward:M6,inverse:R6,names:P6};function A6(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function O6(t){var e,n,i,r,s,o,a,l,u=t.x,c=t.y;return i=Z(u-this.long0),e=Math.sin(c),n=Math.cos(c),r=Math.cos(i),o=this.sin_p14*e+this.cos_p14*n*r,s=1,(o>0||Math.abs(o)<=q)&&(a=this.a*s*n*Math.sin(i),l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=l,t}function L6(t){var e,n,i,r,s,o,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=ns(e/this.a),i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=q?(a=this.lat0,t.x=o,t.y=a,t):(a=ns(r*this.sin_p14+t.y*i*this.cos_p14/e),s=Math.abs(this.lat0)-z,Math.abs(s)<=q?(this.lat0>=0?o=Z(this.long0+Math.atan2(t.x,-t.y)):o=Z(this.long0-Math.atan2(-t.x,t.y)),t.x=o,t.y=a,t):(o=Z(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=o,t.y=a,t))}var k6=["ortho"];const F6={init:A6,forward:O6,inverse:L6,names:k6};var Ve={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Ae={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function D6(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=z-Ie/2?this.face=Ve.TOP:this.lat0<=-(z-Ie/2)?this.face=Ve.BOTTOM:Math.abs(this.long0)<=Ie?this.face=Ve.FRONT:Math.abs(this.long0)<=z+Ie?this.face=this.long0>0?Ve.RIGHT:Ve.LEFT:this.face=Ve.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function N6(t){var e={x:0,y:0},n,i,r,s,o,a,l={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,i=t.x,this.face===Ve.TOP)s=z-n,i>=Ie&&i<=z+Ie?(l.value=Ae.AREA_0,r=i-z):i>z+Ie||i<=-(z+Ie)?(l.value=Ae.AREA_1,r=i>0?i-et:i+et):i>-(z+Ie)&&i<=-Ie?(l.value=Ae.AREA_2,r=i+z):(l.value=Ae.AREA_3,r=i);else if(this.face===Ve.BOTTOM)s=z+n,i>=Ie&&i<=z+Ie?(l.value=Ae.AREA_0,r=-i+z):i<Ie&&i>=-Ie?(l.value=Ae.AREA_1,r=-i):i<-Ie&&i>=-(z+Ie)?(l.value=Ae.AREA_2,r=-i-z):(l.value=Ae.AREA_3,r=i>0?-i+et:-i-et);else{var u,c,h,f,g,d,p;this.face===Ve.RIGHT?i=aa(i,+z):this.face===Ve.BACK?i=aa(i,+et):this.face===Ve.LEFT&&(i=aa(i,-z)),f=Math.sin(n),g=Math.cos(n),d=Math.sin(i),p=Math.cos(i),u=g*p,c=g*d,h=f,this.face===Ve.FRONT?(s=Math.acos(u),r=th(s,h,c,l)):this.face===Ve.RIGHT?(s=Math.acos(c),r=th(s,h,-u,l)):this.face===Ve.BACK?(s=Math.acos(-u),r=th(s,h,-c,l)):this.face===Ve.LEFT?(s=Math.acos(-c),r=th(s,h,u,l)):(s=r=0,l.value=Ae.AREA_0)}return a=Math.atan(12/et*(r+Math.acos(Math.sin(r)*Math.cos(Ie))-z)),o=Math.sqrt((1-Math.cos(s))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===Ae.AREA_1?a+=z:l.value===Ae.AREA_2?a+=et:l.value===Ae.AREA_3&&(a+=1.5*et),e.x=o*Math.cos(a),e.y=o*Math.sin(a),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function G6(t){var e={lam:0,phi:0},n,i,r,s,o,a,l,u,c,h={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?h.value=Ae.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(h.value=Ae.AREA_1,n-=z):t.x<0&&-t.x>=Math.abs(t.y)?(h.value=Ae.AREA_2,n=n<0?n+et:n-et):(h.value=Ae.AREA_3,n+=z),c=et/12*Math.tan(n),o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),a=Math.atan(o),r=Math.cos(n),s=Math.tan(i),l=1-r*r*s*s*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===Ve.TOP)u=Math.acos(l),e.phi=z-u,h.value===Ae.AREA_0?e.lam=a+z:h.value===Ae.AREA_1?e.lam=a<0?a+et:a-et:h.value===Ae.AREA_2?e.lam=a-z:e.lam=a;else if(this.face===Ve.BOTTOM)u=Math.acos(l),e.phi=u-z,h.value===Ae.AREA_0?e.lam=-a+z:h.value===Ae.AREA_1?e.lam=-a:h.value===Ae.AREA_2?e.lam=-a-z:e.lam=a<0?-a-et:-a+et;else{var f,g,d;f=l,c=f*f,c>=1?d=0:d=Math.sqrt(1-c)*Math.sin(a),c+=d*d,c>=1?g=0:g=Math.sqrt(1-c),h.value===Ae.AREA_1?(c=g,g=-d,d=c):h.value===Ae.AREA_2?(g=-g,d=-d):h.value===Ae.AREA_3&&(c=g,g=d,d=-c),this.face===Ve.RIGHT?(c=f,f=-g,g=c):this.face===Ve.BACK?(f=-f,g=-g):this.face===Ve.LEFT&&(c=f,f=g,g=-c),e.phi=Math.acos(-d)-z,e.lam=Math.atan2(g,f),this.face===Ve.RIGHT?e.lam=aa(e.lam,-z):this.face===Ve.BACK?e.lam=aa(e.lam,-et):this.face===Ve.LEFT&&(e.lam=aa(e.lam,+z))}if(this.es!==0){var p,m,_;p=e.phi<0?1:0,m=Math.tan(e.phi),_=this.b/Math.sqrt(m*m+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-_*_)/(this.one_minus_f*_)),p&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function th(t,e,n,i){var r;return t<q?(i.value=Ae.AREA_0,r=0):(r=Math.atan2(e,n),Math.abs(r)<=Ie?i.value=Ae.AREA_0:r>Ie&&r<=z+Ie?(i.value=Ae.AREA_1,r-=z):r>z+Ie||r<=-(z+Ie)?(i.value=Ae.AREA_2,r=r>=0?r-et:r+et):(i.value=Ae.AREA_3,r+=z)),r}function aa(t,e){var n=t+e;return n<-et?n+=Pu:n>+et&&(n-=Pu),n}var U6=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const j6={init:D6,forward:N6,inverse:G6,names:U6};var Ep=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Ll=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Db=.8487,Nb=1.3523,Gb=Ii/5,$6=1/Gb,Vo=18,Gf=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},z6=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function B6(t,e,n,i){for(var r=e;i;--i){var s=t(r);if(r-=s,Math.abs(s)<n)break}return r}function V6(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function W6(t){var e=Z(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*Gb);i<0?i=0:i>=Vo&&(i=Vo-1),n=Ii*(n-$6*i);var r={x:Gf(Ep[i],n)*e,y:Gf(Ll[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*Db+this.x0,r.y=r.y*this.a*Nb+this.y0,r}function X6(t){var e={x:(t.x-this.x0)/(this.a*Db),y:Math.abs(t.y-this.y0)/(this.a*Nb)};if(e.y>=1)e.x/=Ep[Vo][0],e.y=t.y<0?-z:z;else{var n=Math.floor(e.y*Vo);for(n<0?n=0:n>=Vo&&(n=Vo-1);;)if(Ll[n][0]>e.y)--n;else if(Ll[n+1][0]<=e.y)++n;else break;var i=Ll[n],r=5*(e.y-i[0])/(Ll[n+1][0]-i[0]);r=B6(function(s){return(Gf(i,s)-e.y)/z6(i,s)},r,q,100),e.x/=Gf(Ep[n],r),e.y=(5*n+r)*wt,t.y<0&&(e.y=-e.y)}return e.x=Z(e.x+this.long0),e}var H6=["Robinson","robin"];const K6={init:V6,forward:W6,inverse:X6,names:H6};function Y6(){this.name="geocent"}function q6(t){var e=Tb(t,this.es,this.a);return e}function Z6(t){var e=bb(t,this.es,this.a,this.b);return e}var J6=["Geocentric","geocentric","geocent","Geocent"];const Q6={init:Y6,forward:q6,inverse:Z6,names:J6};var Lt={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},yl={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function eD(){if(Object.keys(yl).forEach((function(n){if(typeof this[n]>"u")this[n]=yl[n].def;else{if(yl[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);yl[n].num&&(this[n]=parseFloat(this[n]))}yl[n].degrees&&(this[n]=this[n]*wt)}).bind(this)),Math.abs(Math.abs(this.lat0)-z)<q?this.mode=this.lat0<0?Lt.S_POLE:Lt.N_POLE:Math.abs(this.lat0)<q?this.mode=Lt.EQUIT:(this.mode=Lt.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function tD(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r,s;switch(this.mode){case Lt.OBLIQ:s=this.sinph0*e+this.cosph0*n*i;break;case Lt.EQUIT:s=n*i;break;case Lt.S_POLE:s=-e;break;case Lt.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),r=s*n*Math.sin(t.x),this.mode){case Lt.OBLIQ:s*=this.cosph0*e-this.sinph0*n*i;break;case Lt.EQUIT:s*=e;break;case Lt.N_POLE:s*=-(n*i);break;case Lt.S_POLE:s*=n*i;break}var o,a;return o=s*this.cg+r*this.sg,a=1/(o*this.sw*this.h1+this.cw),r=(r*this.cg-s*this.sg)*this.cw*a,s=o*a,t.x=r*this.a,t.y=s*this.a,t}function nD(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,i,r;r=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*r,i=this.pn1*t.y*this.cw*r,t.x=n*this.cg+i*this.sg,t.y=i*this.cg-n*this.sg;var s=rn(t.x,t.y);if(Math.abs(s)<q)e.x=0,e.y=t.y;else{var o,a;switch(a=1-s*s*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/s+s/this.pn1),o=Math.sqrt(1-a*a),this.mode){case Lt.OBLIQ:e.y=Math.asin(o*this.sinph0+t.y*a*this.cosph0/s),t.y=(o-this.sinph0*Math.sin(e.y))*s,t.x*=a*this.cosph0;break;case Lt.EQUIT:e.y=Math.asin(t.y*a/s),t.y=o*s,t.x*=a;break;case Lt.N_POLE:e.y=Math.asin(o),t.y=-t.y;break;case Lt.S_POLE:e.y=-Math.asin(o);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var iD=["Tilted_Perspective","tpers"];const rD={init:eD,forward:tD,inverse:nD,names:iD};function sD(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function oD(t){var e=t.x,n=t.y,i,r,s,o;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var a=this.radius_p/rn(this.radius_p*Math.cos(n),Math.sin(n));if(r=a*Math.cos(e)*Math.cos(n),s=a*Math.sin(e)*Math.cos(n),o=a*Math.sin(n),(this.radius_g-r)*r-s*s-o*o*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=this.radius_g-r,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/rn(o,i)),t.y=this.radius_g_1*Math.atan(o/i)):(t.x=this.radius_g_1*Math.atan(s/i),t.y=this.radius_g_1*Math.atan(o/rn(s,i)))}else this.shape==="sphere"&&(i=Math.cos(n),r=Math.cos(e)*i,s=Math.sin(e)*i,o=Math.sin(n),i=this.radius_g-r,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/rn(o,i)),t.y=this.radius_g_1*Math.atan(o/i)):(t.x=this.radius_g_1*Math.atan(s/i),t.y=this.radius_g_1*Math.atan(o/rn(s,i))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function aD(t){var e=-1,n=0,i=0,r,s,o,a;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*rn(1,i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*rn(1,n));var l=i/this.radius_p;if(r=n*n+l*l+e*e,s=2*this.radius_g*e,o=s*s-4*r*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-s-Math.sqrt(o))/(2*r),e=this.radius_g+a*e,n*=a,i*=a,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+i*i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),r=n*n+i*i+e*e,s=2*this.radius_g*e,o=s*s-4*r*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-s-Math.sqrt(o))/(2*r),e=this.radius_g+a*e,n*=a,i*=a,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var lD=["Geostationary Satellite View","Geostationary_Satellite","geos"];const uD={init:sD,forward:oD,inverse:aD,names:lD};var Jl=1.340264,Ql=-.081106,eu=893e-6,tu=.003796,Uf=Math.sqrt(3)/2;function cD(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function hD(t){var e=Z(t.x-this.long0),n=t.y,i=Math.asin(Uf*Math.sin(n)),r=i*i,s=r*r*r;return t.x=e*Math.cos(i)/(Uf*(Jl+3*Ql*r+s*(7*eu+9*tu*r))),t.y=i*(Jl+Ql*r+s*(eu+tu*r)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function fD(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,i=t.y,r,s,o,a,l,u;for(u=0;u<n&&(r=i*i,s=r*r*r,o=i*(Jl+Ql*r+s*(eu+tu*r))-t.y,a=Jl+3*Ql*r+s*(7*eu+9*tu*r),i-=l=o/a,!(Math.abs(l)<e));++u);return r=i*i,s=r*r*r,t.x=Uf*t.x*(Jl+3*Ql*r+s*(7*eu+9*tu*r))/Math.cos(i),t.y=Math.asin(Math.sin(i)/Uf),t.x=Z(t.x+this.long0),t}var dD=["eqearth","Equal Earth","Equal_Earth"];const gD={init:cD,forward:hD,inverse:fD,names:dD};var Ou=1e-10;function mD(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<Ou)throw new Error;this.es?(this.en=Ny(this.es),this.m1=Xa(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=_D,this.forward=pD):(Math.abs(this.phi1)+Ou>=z?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=vD,this.forward=yD)}function pD(t){var e=Z(t.x-(this.long0||0)),n=t.y,i,r,s;return i=this.am1+this.m1-Xa(n,r=Math.sin(n),s=Math.cos(n),this.en),r=s*e/(i*Math.sqrt(1-this.es*r*r)),t.x=i*Math.sin(r),t.y=this.am1-i*Math.cos(r),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function _D(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,i,r;if(n=rn(t.x,t.y=this.am1-t.y),r=Gy(this.am1+this.m1-n,this.es,this.en),(e=Math.abs(r))<z)e=Math.sin(r),i=n*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(r);else if(Math.abs(e-z)<=Ou)i=0;else throw new Error;return t.x=Z(i+(this.long0||0)),t.y=_s(r),t}function yD(t){var e=Z(t.x-(this.long0||0)),n=t.y,i,r;return r=this.cphi1+this.phi1-n,Math.abs(r)>Ou?(t.x=r*Math.sin(i=e*Math.cos(n)/r),t.y=this.cphi1-r*Math.cos(i)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function vD(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,i=rn(t.x,t.y=this.cphi1-t.y);if(n=this.cphi1+this.phi1-i,Math.abs(n)>z)throw new Error;return Math.abs(Math.abs(n)-z)<=Ou?e=0:e=i*Math.atan2(t.x,t.y)/Math.cos(n),t.x=Z(e+(this.long0||0)),t.y=_s(n),t}var ED=["bonne","Bonne (Werner lat_1=90)"];const xD={init:mD,names:ED};function wD(t){t.Proj.projections.add(Wh),t.Proj.projections.add(Xh),t.Proj.projections.add(Ek),t.Proj.projections.add(Pk),t.Proj.projections.add(kk),t.Proj.projections.add(Uk),t.Proj.projections.add(Wk),t.Proj.projections.add(qk),t.Proj.projections.add(tF),t.Proj.projections.add(oF),t.Proj.projections.add(vF),t.Proj.projections.add(TF),t.Proj.projections.add(IF),t.Proj.projections.add(DF),t.Proj.projections.add($F),t.Proj.projections.add(XF),t.Proj.projections.add(ZF),t.Proj.projections.add(n6),t.Proj.projections.add(l6),t.Proj.projections.add(d6),t.Proj.projections.add(y6),t.Proj.projections.add(S6),t.Proj.projections.add(I6),t.Proj.projections.add(F6),t.Proj.projections.add(j6),t.Proj.projections.add(K6),t.Proj.projections.add(Q6),t.Proj.projections.add(rD),t.Proj.projections.add(uD),t.Proj.projections.add(gD),t.Proj.projections.add(xD)}const Ha=Object.assign(N5,{defaultDatum:"WGS84",Proj:li,WGS84:new li("WGS84"),Point:ba,toPoint:Mb,defs:$t,nadgrid:v5,transform:Df,mgrs:G5,version:"__VERSION__"});wD(Ha);function Ub(t,e){return function(){return t.apply(e,arguments)}}const{toString:SD}=Object.prototype,{getPrototypeOf:Vy}=Object,{iterator:Gd,toStringTag:jb}=Symbol,Ud=(t=>e=>{const n=SD.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),gi=t=>(t=t.toLowerCase(),e=>Ud(e)===t),jd=t=>e=>typeof e===t,{isArray:Ka}=Array,Ma=jd("undefined");function dc(t){return t!==null&&!Ma(t)&&t.constructor!==null&&!Ma(t.constructor)&&hn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const $b=gi("ArrayBuffer");function CD(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&$b(t.buffer),e}const TD=jd("string"),hn=jd("function"),zb=jd("number"),gc=t=>t!==null&&typeof t=="object",bD=t=>t===!0||t===!1,Kh=t=>{if(Ud(t)!=="object")return!1;const e=Vy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(jb in t)&&!(Gd in t)},MD=t=>{if(!gc(t)||dc(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},RD=gi("Date"),PD=gi("File"),ID=gi("Blob"),AD=gi("FileList"),OD=t=>gc(t)&&hn(t.pipe),LD=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||hn(t.append)&&((e=Ud(t))==="formdata"||e==="object"&&hn(t.toString)&&t.toString()==="[object FormData]"))},kD=gi("URLSearchParams"),[FD,DD,ND,GD]=["ReadableStream","Request","Response","Headers"].map(gi),UD=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Ka(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{if(dc(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,t[a],a,t)}}function Bb(t,e){if(dc(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const Os=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Vb=t=>!Ma(t)&&t!==Os;function xp(){const{caseless:t,skipUndefined:e}=Vb(this)&&this||{},n={},i=(r,s)=>{const o=t&&Bb(n,s)||s;Kh(n[o])&&Kh(r)?n[o]=xp(n[o],r):Kh(r)?n[o]=xp({},r):Ka(r)?n[o]=r.slice():(!e||!Ma(r))&&(n[o]=r)};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&mc(arguments[r],i);return n}const jD=(t,e,n,{allOwnKeys:i}={})=>(mc(e,(r,s)=>{n&&hn(r)?t[s]=Ub(r,n):t[s]=r},{allOwnKeys:i}),t),$D=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),zD=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},BD=(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Vy(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},VD=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},WD=t=>{if(!t)return null;if(Ka(t))return t;let e=t.length;if(!zb(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},XD=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Vy(Uint8Array)),HD=(t,e)=>{const i=(t&&t[Gd]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},KD=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},YD=gi("HTMLFormElement"),qD=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),Px=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ZD=gi("RegExp"),Wb=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};mc(n,(r,s)=>{let o;(o=e(r,s,t))!==!1&&(i[s]=o||r)}),Object.defineProperties(t,i)},JD=t=>{Wb(t,(e,n)=>{if(hn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(hn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},QD=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return Ka(t)?i(t):i(String(t).split(e)),n},eN=()=>{},tN=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function nN(t){return!!(t&&hn(t.append)&&t[jb]==="FormData"&&t[Gd])}const iN=t=>{const e=new Array(10),n=(i,r)=>{if(gc(i)){if(e.indexOf(i)>=0)return;if(dc(i))return i;if(!("toJSON"in i)){e[r]=i;const s=Ka(i)?[]:{};return mc(i,(o,a)=>{const l=n(o,r+1);!Ma(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return n(t,0)},rN=gi("AsyncFunction"),sN=t=>t&&(gc(t)||hn(t))&&hn(t.then)&&hn(t.catch),Xb=((t,e)=>t?setImmediate:e?((n,i)=>(Os.addEventListener("message",({source:r,data:s})=>{r===Os&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),Os.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",hn(Os.postMessage)),oN=typeof queueMicrotask<"u"?queueMicrotask.bind(Os):typeof process<"u"&&process.nextTick||Xb,aN=t=>t!=null&&hn(t[Gd]),k={isArray:Ka,isArrayBuffer:$b,isBuffer:dc,isFormData:LD,isArrayBufferView:CD,isString:TD,isNumber:zb,isBoolean:bD,isObject:gc,isPlainObject:Kh,isEmptyObject:MD,isReadableStream:FD,isRequest:DD,isResponse:ND,isHeaders:GD,isUndefined:Ma,isDate:RD,isFile:PD,isBlob:ID,isRegExp:ZD,isFunction:hn,isStream:OD,isURLSearchParams:kD,isTypedArray:XD,isFileList:AD,forEach:mc,merge:xp,extend:jD,trim:UD,stripBOM:$D,inherits:zD,toFlatObject:BD,kindOf:Ud,kindOfTest:gi,endsWith:VD,toArray:WD,forEachEntry:HD,matchAll:KD,isHTMLForm:YD,hasOwnProperty:Px,hasOwnProp:Px,reduceDescriptors:Wb,freezeMethods:JD,toObjectSet:QD,toCamelCase:qD,noop:eN,toFiniteNumber:tN,findKey:Bb,global:Os,isContextDefined:Vb,isSpecCompliantForm:nN,toJSONObject:iN,isAsyncFn:rN,isThenable:sN,setImmediate:Xb,asap:oN,isIterable:aN};function fe(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}k.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});const Hb=fe.prototype,Kb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Kb[t]={value:t}});Object.defineProperties(fe,Kb);Object.defineProperty(Hb,"isAxiosError",{value:!0});fe.from=(t,e,n,i,r,s)=>{const o=Object.create(Hb);k.toFlatObject(t,o,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return fe.call(o,a,l,n,i,r),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",s&&Object.assign(o,s),o};const lN=null;function wp(t){return k.isPlainObject(t)||k.isArray(t)}function Yb(t){return k.endsWith(t,"[]")?t.slice(0,-2):t}function Ix(t,e,n){return t?t.concat(e).map(function(r,s){return r=Yb(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function uN(t){return k.isArray(t)&&!t.some(wp)}const cN=k.toFlatObject(k,{},null,function(e){return/^is[A-Z]/.test(e)});function $d(t,e,n){if(!k.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,m){return!k.isUndefined(m[p])});const i=n.metaTokens,r=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(e);if(!k.isFunction(r))throw new TypeError("visitor must be a function");function u(d){if(d===null)return"";if(k.isDate(d))return d.toISOString();if(k.isBoolean(d))return d.toString();if(!l&&k.isBlob(d))throw new fe("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(d)||k.isTypedArray(d)?l&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function c(d,p,m){let _=d;if(d&&!m&&typeof d=="object"){if(k.endsWith(p,"{}"))p=i?p:p.slice(0,-2),d=JSON.stringify(d);else if(k.isArray(d)&&uN(d)||(k.isFileList(d)||k.endsWith(p,"[]"))&&(_=k.toArray(d)))return p=Yb(p),_.forEach(function(v,E){!(k.isUndefined(v)||v===null)&&e.append(o===!0?Ix([p],E,s):o===null?p:p+"[]",u(v))}),!1}return wp(d)?!0:(e.append(Ix(m,p,s),u(d)),!1)}const h=[],f=Object.assign(cN,{defaultVisitor:c,convertValue:u,isVisitable:wp});function g(d,p){if(!k.isUndefined(d)){if(h.indexOf(d)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(d),k.forEach(d,function(_,y){(!(k.isUndefined(_)||_===null)&&r.call(e,_,k.isString(y)?y.trim():y,p,f))===!0&&g(_,p?p.concat(y):[y])}),h.pop()}}if(!k.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Ax(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Wy(t,e){this._pairs=[],t&&$d(t,this,e)}const qb=Wy.prototype;qb.append=function(e,n){this._pairs.push([e,n])};qb.toString=function(e){const n=e?function(i){return e.call(this,i,Ax)}:Ax;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function hN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Zb(t,e,n){if(!e)return t;const i=n&&n.encode||hN;k.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(e,n):s=k.isURLSearchParams(e)?e.toString():new Wy(e,n).toString(i),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Ox{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){k.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Jb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fN=typeof URLSearchParams<"u"?URLSearchParams:Wy,dN=typeof FormData<"u"?FormData:null,gN=typeof Blob<"u"?Blob:null,mN={isBrowser:!0,classes:{URLSearchParams:fN,FormData:dN,Blob:gN},protocols:["http","https","file","blob","url","data"]},Xy=typeof window<"u"&&typeof document<"u",Sp=typeof navigator=="object"&&navigator||void 0,pN=Xy&&(!Sp||["ReactNative","NativeScript","NS"].indexOf(Sp.product)<0),_N=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yN=Xy&&window.location.href||"http://localhost",vN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xy,hasStandardBrowserEnv:pN,hasStandardBrowserWebWorkerEnv:_N,navigator:Sp,origin:yN},Symbol.toStringTag,{value:"Module"})),Nt={...vN,...mN};function EN(t,e){return $d(t,new Nt.classes.URLSearchParams,{visitor:function(n,i,r,s){return Nt.isNode&&k.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function xN(t){return k.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function wN(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function Qb(t){function e(n,i,r,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&k.isArray(r)?r.length:o,l?(k.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!k.isObject(r[o]))&&(r[o]=[]),e(n,i,r[o],s)&&k.isArray(r[o])&&(r[o]=wN(r[o])),!a)}if(k.isFormData(t)&&k.isFunction(t.entries)){const n={};return k.forEachEntry(t,(i,r)=>{e(xN(i),r,n,0)}),n}return null}function SN(t,e,n){if(k.isString(t))try{return(e||JSON.parse)(t),k.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const pc={transitional:Jb,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=k.isObject(e);if(s&&k.isHTMLForm(e)&&(e=new FormData(e)),k.isFormData(e))return r?JSON.stringify(Qb(e)):e;if(k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e)||k.isReadableStream(e))return e;if(k.isArrayBufferView(e))return e.buffer;if(k.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return EN(e,this.formSerializer).toString();if((a=k.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return $d(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),SN(e)):e}],transformResponse:[function(e){const n=this.transitional||pc.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(k.isResponse(e)||k.isReadableStream(e))return e;if(e&&k.isString(e)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?fe.from(a,fe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nt.classes.FormData,Blob:Nt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],t=>{pc.headers[t]={}});const CN=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TN=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||e[n]&&CN[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Lx=Symbol("internals");function vl(t){return t&&String(t).trim().toLowerCase()}function Yh(t){return t===!1||t==null?t:k.isArray(t)?t.map(Yh):String(t)}function bN(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const MN=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function p0(t,e,n,i,r){if(k.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!k.isString(e)){if(k.isString(i))return e.indexOf(i)!==-1;if(k.isRegExp(i))return i.test(e)}}function RN(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function PN(t,e){const n=k.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}let fn=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(a,l,u){const c=vl(l);if(!c)throw new Error("header name must be a non-empty string");const h=k.findKey(r,c);(!h||r[h]===void 0||u===!0||u===void 0&&r[h]!==!1)&&(r[h||l]=Yh(a))}const o=(a,l)=>k.forEach(a,(u,c)=>s(u,c,l));if(k.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(k.isString(e)&&(e=e.trim())&&!MN(e))o(TN(e),n);else if(k.isObject(e)&&k.isIterable(e)){let a={},l,u;for(const c of e){if(!k.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?k.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(a,n)}else e!=null&&s(n,e,i);return this}get(e,n){if(e=vl(e),e){const i=k.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return bN(r);if(k.isFunction(n))return n.call(this,r,i);if(k.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=vl(e),e){const i=k.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||p0(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(o){if(o=vl(o),o){const a=k.findKey(i,o);a&&(!n||p0(i,i[a],a,n))&&(delete i[a],r=!0)}}return k.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||p0(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return k.forEach(this,(r,s)=>{const o=k.findKey(i,s);if(o){n[o]=Yh(r),delete n[s];return}const a=e?RN(s):String(s).trim();a!==s&&delete n[s],n[a]=Yh(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return k.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&k.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Lx]=this[Lx]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=vl(o);i[a]||(PN(r,o),i[a]=!0)}return k.isArray(e)?e.forEach(s):s(e),this}};fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(fn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});k.freezeMethods(fn);function _0(t,e){const n=this||pc,i=e||n,r=fn.from(i.headers);let s=i.data;return k.forEach(t,function(a){s=a.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function eM(t){return!!(t&&t.__CANCEL__)}function Ya(t,e,n){fe.call(this,t??"canceled",fe.ERR_CANCELED,e,n),this.name="CanceledError"}k.inherits(Ya,fe,{__CANCEL__:!0});function tM(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new fe("Request failed with status code "+n.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function IN(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function AN(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=i[s];o||(o=u),n[r]=l,i[r]=u;let h=s,f=0;for(;h!==r;)f+=n[h++],h=h%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),u-o<e)return;const g=c&&u-c;return g?Math.round(f*1e3/g):void 0}}function ON(t,e){let n=0,i=1e3/e,r,s;const o=(u,c=Date.now())=>{n=c,r=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const c=Date.now(),h=c-n;h>=i?o(u,c):(r=u,s||(s=setTimeout(()=>{s=null,o(r)},i-h)))},()=>r&&o(r)]}const jf=(t,e,n=3)=>{let i=0;const r=AN(50,250);return ON(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,u=r(l),c=o<=a;i=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},kx=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},Fx=t=>(...e)=>k.asap(()=>t(...e)),LN=Nt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Nt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Nt.origin),Nt.navigator&&/(msie|trident)/i.test(Nt.navigator.userAgent)):()=>!0,kN=Nt.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];k.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),k.isString(i)&&o.push("path="+i),k.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function FN(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function DN(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function nM(t,e,n){let i=!FN(e);return t&&(i||n==!1)?DN(t,e):e}const Dx=t=>t instanceof fn?{...t}:t;function Ys(t,e){e=e||{};const n={};function i(u,c,h,f){return k.isPlainObject(u)&&k.isPlainObject(c)?k.merge.call({caseless:f},u,c):k.isPlainObject(c)?k.merge({},c):k.isArray(c)?c.slice():c}function r(u,c,h,f){if(k.isUndefined(c)){if(!k.isUndefined(u))return i(void 0,u,h,f)}else return i(u,c,h,f)}function s(u,c){if(!k.isUndefined(c))return i(void 0,c)}function o(u,c){if(k.isUndefined(c)){if(!k.isUndefined(u))return i(void 0,u)}else return i(void 0,c)}function a(u,c,h){if(h in e)return i(u,c);if(h in t)return i(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,h)=>r(Dx(u),Dx(c),h,!0)};return k.forEach(Object.keys({...t,...e}),function(c){const h=l[c]||r,f=h(t[c],e[c],c);k.isUndefined(f)&&h!==a||(n[c]=f)}),n}const iM=t=>{const e=Ys({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=fn.from(o),e.url=Zb(nM(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),k.isFormData(n)){if(Nt.hasStandardBrowserEnv||Nt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(k.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,h])=>{u.includes(c.toLowerCase())&&o.set(c,h)})}}if(Nt.hasStandardBrowserEnv&&(i&&k.isFunction(i)&&(i=i(e)),i||i!==!1&&LN(e.url))){const l=r&&s&&kN.read(s);l&&o.set(r,l)}return e},NN=typeof XMLHttpRequest<"u",GN=NN&&function(t){return new Promise(function(n,i){const r=iM(t);let s=r.data;const o=fn.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=r,c,h,f,g,d;function p(){g&&g(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(c),r.signal&&r.signal.removeEventListener("abort",c)}let m=new XMLHttpRequest;m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout;function _(){if(!m)return;const v=fn.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:v,config:t,request:m};tM(function(w){n(w),p()},function(w){i(w),p()},x),m=null}"onloadend"in m?m.onloadend=_:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(_)},m.onabort=function(){m&&(i(new fe("Request aborted",fe.ECONNABORTED,t,m)),m=null)},m.onerror=function(E){const x=E&&E.message?E.message:"Network Error",S=new fe(x,fe.ERR_NETWORK,t,m);S.event=E||null,i(S),m=null},m.ontimeout=function(){let E=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const x=r.transitional||Jb;r.timeoutErrorMessage&&(E=r.timeoutErrorMessage),i(new fe(E,x.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,t,m)),m=null},s===void 0&&o.setContentType(null),"setRequestHeader"in m&&k.forEach(o.toJSON(),function(E,x){m.setRequestHeader(x,E)}),k.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),a&&a!=="json"&&(m.responseType=r.responseType),u&&([f,d]=jf(u,!0),m.addEventListener("progress",f)),l&&m.upload&&([h,g]=jf(l),m.upload.addEventListener("progress",h),m.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(c=v=>{m&&(i(!v||v.type?new Ya(null,t,m):v),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(c),r.signal&&(r.signal.aborted?c():r.signal.addEventListener("abort",c)));const y=IN(r.url);if(y&&Nt.protocols.indexOf(y)===-1){i(new fe("Unsupported protocol "+y+":",fe.ERR_BAD_REQUEST,t));return}m.send(s||null)})},UN=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(u){if(!r){r=!0,a();const c=u instanceof Error?u:this.reason;i.abort(c instanceof fe?c:new Ya(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,s(new fe(`timeout ${e} of ms exceeded`,fe.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>k.asap(a),l}},jN=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},$N=async function*(t,e){for await(const n of zN(t))yield*jN(n,e)},zN=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},Nx=(t,e,n,i)=>{const r=$N(t,e);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await r.next();if(u){a(),l.close();return}let h=c.byteLength;if(n){let f=s+=h;n(f)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},Gx=64*1024,{isFunction:nh}=k,BN=(({Request:t,Response:e})=>({Request:t,Response:e}))(k.global),{ReadableStream:Ux,TextEncoder:jx}=k.global,$x=(t,...e)=>{try{return!!t(...e)}catch{return!1}},VN=t=>{t=k.merge.call({skipUndefined:!0},BN,t);const{fetch:e,Request:n,Response:i}=t,r=e?nh(e):typeof fetch=="function",s=nh(n),o=nh(i);if(!r)return!1;const a=r&&nh(Ux),l=r&&(typeof jx=="function"?(d=>p=>d.encode(p))(new jx):async d=>new Uint8Array(await new n(d).arrayBuffer())),u=s&&a&&$x(()=>{let d=!1;const p=new n(Nt.origin,{body:new Ux,method:"POST",get duplex(){return d=!0,"half"}}).headers.has("Content-Type");return d&&!p}),c=o&&a&&$x(()=>k.isReadableStream(new i("").body)),h={stream:c&&(d=>d.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(d=>{!h[d]&&(h[d]=(p,m)=>{let _=p&&p[d];if(_)return _.call(p);throw new fe(`Response type '${d}' is not supported`,fe.ERR_NOT_SUPPORT,m)})});const f=async d=>{if(d==null)return 0;if(k.isBlob(d))return d.size;if(k.isSpecCompliantForm(d))return(await new n(Nt.origin,{method:"POST",body:d}).arrayBuffer()).byteLength;if(k.isArrayBufferView(d)||k.isArrayBuffer(d))return d.byteLength;if(k.isURLSearchParams(d)&&(d=d+""),k.isString(d))return(await l(d)).byteLength},g=async(d,p)=>{const m=k.toFiniteNumber(d.getContentLength());return m??f(p)};return async d=>{let{url:p,method:m,data:_,signal:y,cancelToken:v,timeout:E,onDownloadProgress:x,onUploadProgress:S,responseType:w,headers:C,withCredentials:M="same-origin",fetchOptions:b}=iM(d),L=e||fetch;w=w?(w+"").toLowerCase():"text";let O=UN([y,v&&v.toAbortSignal()],E),N=null;const $=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let U;try{if(S&&u&&m!=="get"&&m!=="head"&&(U=await g(C,_))!==0){let G=new n(p,{method:"POST",body:_,duplex:"half"}),R;if(k.isFormData(_)&&(R=G.headers.get("content-type"))&&C.setContentType(R),G.body){const[X,K]=kx(U,jf(Fx(S)));_=Nx(G.body,Gx,X,K)}}k.isString(M)||(M=M?"include":"omit");const j=s&&"credentials"in n.prototype,B={...b,signal:O,method:m.toUpperCase(),headers:C.normalize().toJSON(),body:_,duplex:"half",credentials:j?M:void 0};N=s&&new n(p,B);let P=await(s?L(N,b):L(p,B));const F=c&&(w==="stream"||w==="response");if(c&&(x||F&&$)){const G={};["status","statusText","headers"].forEach(H=>{G[H]=P[H]});const R=k.toFiniteNumber(P.headers.get("content-length")),[X,K]=x&&kx(R,jf(Fx(x),!0))||[];P=new i(Nx(P.body,Gx,X,()=>{K&&K(),$&&$()}),G)}w=w||"text";let D=await h[k.findKey(h,w)||"text"](P,d);return!F&&$&&$(),await new Promise((G,R)=>{tM(G,R,{data:D,headers:fn.from(P.headers),status:P.status,statusText:P.statusText,config:d,request:N})})}catch(j){throw $&&$(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,d,N),{cause:j.cause||j}):fe.from(j,j&&j.code,d,N)}}},WN=new Map,rM=t=>{let e=t?t.env:{};const{fetch:n,Request:i,Response:r}=e,s=[i,r,n];let o=s.length,a=o,l,u,c=WN;for(;a--;)l=s[a],u=c.get(l),u===void 0&&c.set(l,u=a?new Map:VN(e)),c=u;return u};rM();const Cp={http:lN,xhr:GN,fetch:{get:rM}};k.forEach(Cp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const zx=t=>`- ${t}`,XN=t=>k.isFunction(t)||t===null||t===!1,sM={getAdapter:(t,e)=>{t=k.isArray(t)?t:[t];const{length:n}=t;let i,r;const s={};for(let o=0;o<n;o++){i=t[o];let a;if(r=i,!XN(i)&&(r=Cp[(a=String(i)).toLowerCase()],r===void 0))throw new fe(`Unknown adapter '${a}'`);if(r&&(k.isFunction(r)||(r=r.get(e))))break;s[a||"#"+o]=r}if(!r){const o=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(zx).join(`
`):" "+zx(o[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Cp};function y0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ya(null,t)}function Bx(t){return y0(t),t.headers=fn.from(t.headers),t.data=_0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),sM.getAdapter(t.adapter||pc.adapter,t)(t).then(function(i){return y0(t),i.data=_0.call(t,t.transformResponse,i),i.headers=fn.from(i.headers),i},function(i){return eM(i)||(y0(t),i&&i.response&&(i.response.data=_0.call(t,t.transformResponse,i.response),i.response.headers=fn.from(i.response.headers))),Promise.reject(i)})}const oM="1.12.2",zd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{zd[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Vx={};zd.transitional=function(e,n,i){function r(s,o){return"[Axios v"+oM+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new fe(r(o," has been removed"+(n?" in "+n:"")),fe.ERR_DEPRECATED);return n&&!Vx[o]&&(Vx[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};zd.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function HN(t,e,n){if(typeof t!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new fe("option "+s+" must be "+l,fe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new fe("Unknown option "+s,fe.ERR_BAD_OPTION)}}const qh={assertOptions:HN,validators:zd},wi=qh.validators;let js=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ox,response:new Ox}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ys(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&qh.assertOptions(i,{silentJSONParsing:wi.transitional(wi.boolean),forcedJSONParsing:wi.transitional(wi.boolean),clarifyTimeoutError:wi.transitional(wi.boolean)},!1),r!=null&&(k.isFunction(r)?n.paramsSerializer={serialize:r}:qh.assertOptions(r,{encode:wi.function,serialize:wi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),qh.assertOptions(n,{baseUrl:wi.spelling("baseURL"),withXsrfToken:wi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&k.merge(s.common,s[n.method]);s&&k.forEach(["delete","get","head","post","put","patch","common"],d=>{delete s[d]}),n.headers=fn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let c,h=0,f;if(!l){const d=[Bx.bind(this),void 0];for(d.unshift(...a),d.push(...u),f=d.length,c=Promise.resolve(n);h<f;)c=c.then(d[h++],d[h++]);return c}f=a.length;let g=n;for(;h<f;){const d=a[h++],p=a[h++];try{g=d(g)}catch(m){p.call(this,m);break}}try{c=Bx.call(this,g)}catch(d){return Promise.reject(d)}for(h=0,f=u.length;h<f;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=Ys(this.defaults,e);const n=nM(e.baseURL,e.url,e.allowAbsoluteUrls);return Zb(n,e.params,e.paramsSerializer)}};k.forEach(["delete","get","head","options"],function(e){js.prototype[e]=function(n,i){return this.request(Ys(i||{},{method:e,url:n,data:(i||{}).data}))}});k.forEach(["post","put","patch"],function(e){function n(i){return function(s,o,a){return this.request(Ys(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}js.prototype[e]=n(),js.prototype[e+"Form"]=n(!0)});let KN=class aM{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new Ya(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new aM(function(r){e=r}),cancel:e}}};function YN(t){return function(n){return t.apply(null,n)}}function qN(t){return k.isObject(t)&&t.isAxiosError===!0}const Tp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tp).forEach(([t,e])=>{Tp[e]=t});function lM(t){const e=new js(t),n=Ub(js.prototype.request,e);return k.extend(n,js.prototype,e,{allOwnKeys:!0}),k.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return lM(Ys(t,r))},n}const it=lM(pc);it.Axios=js;it.CanceledError=Ya;it.CancelToken=KN;it.isCancel=eM;it.VERSION=oM;it.toFormData=$d;it.AxiosError=fe;it.Cancel=it.CanceledError;it.all=function(e){return Promise.all(e)};it.spread=YN;it.isAxiosError=qN;it.mergeConfig=Ys;it.AxiosHeaders=fn;it.formToJSON=t=>Qb(k.isHTMLForm(t)?new FormData(t):t);it.getAdapter=sM.getAdapter;it.HttpStatusCode=Tp;it.default=it;const{Axios:Uq,AxiosError:jq,CanceledError:$q,isCancel:zq,CancelToken:Bq,VERSION:Vq,all:Wq,Cancel:Xq,isAxiosError:Hq,spread:Kq,toFormData:Yq,AxiosHeaders:qq,HttpStatusCode:Zq,formToJSON:Jq,getAdapter:Qq,mergeConfig:eZ}=it,xn={api_base_url:"",API_STAC_TOKEN:"",API_DHM_TOKENA:"",API_DHM_TOKENB:""};function Hy(t){return async(...e)=>{let n=5,i=5e3;for(let r=1;r<=n;r++)try{return await t(...e)}catch(s){if(console.error(`Attempt ${r} failed`),r>=n)throw s;await new Promise(o=>setTimeout(o,i))}}}async function ZN(t,e,n,i=1){let r={and:[{contains:[{property:"geometry"},{type:"Point",coordinates:[t[0],t[1]]}]},{eq:[{property:"direction"},e]}]};n&&r.and.push({eq:[{property:"collection"},n]});const s=`/search?limit=${i}&filter=${encodeURI(JSON.stringify(r))}&filter-lang=cql-json&filter-crs=http://www.opengis.net/def/crs/EPSG/0/25832&crs=http://www.opengis.net/def/crs/EPSG/0/25832`;try{return await M8(s,xn)}catch(o){throw console.error(`Error querying items for ${e}:`,o),o}}async function JN(t=xn.API_DHM_TOKENA,e=xn.API_DHM_TOKENB,n){try{const i=`POINT(${n.join(" ")})`,r=`https://services.datafordeler.dk/DHMTerraen/DHMKoter/1.0.0/GEOREST/HentKoter?username=${encodeURIComponent(t)}&password=${encodeURIComponent(e)}&geop=${encodeURIComponent(i)}`,s=await it.get(r);return s.data&&s.data.HentKoterRespons&&s.data.HentKoterRespons.data.length>0?s.data.HentKoterRespons.data[0].kote:(console.warn("No elevation data found, returning 0"),0)}catch(i){return console.error("Error fetching elevation data, returning 0:",i.message),0}}const QN=async t=>{const n=`https://api.dataforsyningen.dk/adgangsadresser?polygon=${JSON.stringify(t)}&srid=25832&struktur=mini`;try{const i=await fetch(n,{method:"GET",headers:{token:xn.API_STAC_TOKEN,"Content-Type":"application/json"}});if(!i.ok)throw new Error(`HTTP error! Status: ${i.status}`);return await i.json()}catch(i){console.error("Error fetching adresses:",i)}},Ky=Hy(ZN),uM=Hy(JN),e7=Hy(QN);async function cM(t,e,n){try{if(!e){console.error("Error: No item provided to updateCenter function.");return}const i=t7(e,t[0],t[1],n);return{worldCoord:[...t,n],imageCoord:i}}catch(i){return console.error("Error in updateCenter function:",i),null}}function t7(t,e,n,i=0){try{const s=t.properties["pers:interior_orientation"].principal_point_offset[0],o=t.properties["pers:interior_orientation"].principal_point_offset[1],a=t.properties["pers:interior_orientation"].focal_length,l=t.properties["pers:interior_orientation"].pixel_spacing[0],u=t.properties["pers:interior_orientation"].sensor_array_dimensions[0],c=t.properties["pers:interior_orientation"].sensor_array_dimensions[1],h=t.properties["pers:perspective_center"][0],f=t.properties["pers:perspective_center"][1],g=t.properties["pers:perspective_center"][2],d=t.properties["pers:omega"],p=t.properties["pers:phi"],m=t.properties["pers:kappa"],_=a*-1,y=u*l/2*-1,v=c*l/2*-1,E=r(d),x=r(p),S=r(m),w=Math.cos(x)*Math.cos(S),C=-Math.cos(x)*Math.sin(S),M=Math.sin(x),b=Math.cos(E)*Math.sin(S)+Math.sin(E)*Math.sin(x)*Math.cos(S),L=Math.cos(E)*Math.cos(S)-Math.sin(E)*Math.sin(x)*Math.sin(S),O=-Math.sin(E)*Math.cos(x),N=Math.sin(E)*Math.sin(S)-Math.cos(E)*Math.sin(x)*Math.cos(S),$=Math.sin(E)*Math.cos(S)+Math.cos(E)*Math.sin(x)*Math.sin(S),U=Math.cos(E)*Math.cos(x),j=-1*_*((w*(e-h)+b*(n-f)+N*(i-g))/(M*(e-h)+O*(n-f)+U*(i-g))),B=-1*_*((C*(e-h)+L*(n-f)+$*(i-g))/(M*(e-h)+O*(n-f)+U*(i-g))),P=(j-s+y)*-1/l,F=(B-o+v)*-1/l;return[Math.round(P),Math.round(F)]}catch(s){return console.error("Error in getImageXY function:",s),[0,0]}function r(s){return s*(Math.PI/180)}}const mt={ADD:"add",REMOVE:"remove"},Ra={PROPERTYCHANGE:"propertychange"},ae={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class _c{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function n7(t,e,n){let i,r;n=n||ir;let s=0,o=t.length,a=!1;for(;s<o;)i=s+(o-s>>1),r=+n(t[i],e),r<0?s=i+1:(o=i,a=!r);return a?s:~s}function ir(t,e){return t>e?1:t<e?-1:0}function hM(t,e){return t<e?1:t>e?-1:0}function Yy(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if(typeof n=="function"){for(let r=1;r<i;++r){const s=t[r];if(s===e)return r;if(s<e)return n(e,t[r-1],s)>0?r-1:r}return i-1}if(n>0){for(let r=1;r<i;++r)if(t[r]<e)return r-1;return i-1}if(n<0){for(let r=1;r<i;++r)if(t[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}function i7(t,e,n){for(;e<n;){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function Bn(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let r=0;r<i;r++)t[t.length]=n[r]}function ys(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function r7(t,e,n){const i=e||ir;return t.every(function(r,s){if(s===0)return!0;const o=i(t[s-1],r);return!(o>0||o===0)})}function is(){return!0}function qa(){return!1}function Lu(){}function fM(t){let e,n,i;return function(){const r=Array.prototype.slice.call(arguments);return(!n||this!==i||!ys(r,n))&&(i=this,n=r,e=t.apply(this,arguments)),e}}function dM(t){function e(){let n;try{n=t()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function ro(t){for(const e in t)delete t[e]}function qs(t){let e;for(e in t)return!1;return!e}class mi{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class yc extends _c{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(n)||r.push(n)}dispatchEvent(e){const n=typeof e=="string",i=n?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const s=n?new mi(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let l;for(let u=0,c=r.length;u<c;++u)if("handleEvent"in r[u]?l=r[u].handleEvent(s):l=r[u].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--o[i]===0){let u=a[i];for(delete a[i];u--;)this.removeEventListener(i,Lu);delete o[i]}return l}disposeInternal(){this.listeners_&&ro(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const r=i.indexOf(n);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=Lu,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}}function Ee(t,e,n,i,r){if(r){const o=n;n=function(a){return t.removeEventListener(e,n),o.call(i??this,a)}}else i&&i!==t&&(n=n.bind(i));const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function $f(t,e,n,i){return Ee(t,e,n,i,!0)}function Fe(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),ro(t))}class vc extends yc{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(ae.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const i=e.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Ee(this,e[s],n);return r}return Ee(this,e,n)}onceInternal(e,n){let i;if(Array.isArray(e)){const r=e.length;i=new Array(r);for(let s=0;s<r;++s)i[s]=$f(this,e[s],n)}else i=$f(this,e,n);return n.ol_key=i,i}unInternal(e,n){const i=n.ol_key;if(i)s7(i);else if(Array.isArray(e))for(let r=0,s=e.length;r<s;++r)this.removeEventListener(e[r],n);else this.removeEventListener(e,n)}}vc.prototype.on;vc.prototype.once;vc.prototype.un;function s7(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)Fe(t[e]);else Fe(t)}function le(){throw new Error("Unimplemented abstract method.")}let o7=0;function oe(t){return t.ol_uid||(t.ol_uid=String(++o7))}class Wx extends mi{constructor(e,n,i){super(e),this.key=n,this.oldValue=i}}class pi extends vc{constructor(e){super(),this.on,this.once,this.un,oe(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new Wx(i,e,n)),i=Ra.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Wx(i,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,i){const r=this.values_||(this.values_={});if(i)r[e]=n;else{const s=r[e];r[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const i in e)this.set(i,e[i],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],qs(this.values_)&&(this.values_=null),n||this.notify(e,i)}}}const Xx={LENGTH:"length"};class ih extends mi{constructor(e,n,i){super(e),this.element=n,this.index=i}}class ii extends pi{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,i=e.length;n<i;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let i=0,r=n.length;i<r;++i)e(n[i],i,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(Xx.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new ih(mt.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let i=0,r=n.length;i<r;++i)if(n[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new ih(mt.REMOVE,n,e)),n}setAt(e,n){const i=this.getLength();if(e>=i){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const r=this.array_[e];this.array_[e]=n,this.dispatchEvent(new ih(mt.REMOVE,r,e)),this.dispatchEvent(new ih(mt.ADD,n,e))}updateLength_(){this.set(Xx.LENGTH,this.array_.length)}assertUnique_(e,n){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==n)throw new Error("Duplicate item added to a unique collection")}}class So extends mi{constructor(e,n,i){super(e),this.map=n,this.frameState=i!==void 0?i:null}}class qi extends So{constructor(e,n,i,r,s,o){super(e,n,s),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Re={SINGLECLICK:"singleclick",CLICK:ae.CLICK,DBLCLICK:ae.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Zs=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",a7=Zs.includes("safari")&&!Zs.includes("chrom"),l7=a7&&(Zs.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Zs)),u7=Zs.includes("webkit")&&!Zs.includes("edge"),gM=Zs.includes("macintosh"),c7=typeof devicePixelRatio<"u"?devicePixelRatio:1,Bd=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,mM=typeof Image<"u"&&Image.prototype.decode,pM=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}(),bp={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class h7 extends yc{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=Ee(i,bp.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Ee(i,bp.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(ae.TOUCHMOVE,this.boundHandleTouchMove_,pM?{passive:!1}:!1)}emulateClick_(e){let n=new qi(Re.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new qi(Re.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new qi(Re.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const n=e,i=n.pointerId;if(n.type==Re.POINTERUP||n.type==Re.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==Re.POINTERDOWN||n.type==Re.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new qi(Re.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Fe),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new qi(Re.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Ee(i,Re.POINTERMOVE,this.handlePointerMove_,this),Ee(i,Re.POINTERUP,this.handlePointerUp_,this),Ee(this.element_,Re.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Ee(this.element_.getRootNode(),Re.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new qi(Re.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new qi(Re.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Fe(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(ae.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Fe(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Fe),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Zi={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Ot={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Y={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Pe(t,e){if(!t)throw new Error(e)}const zf=1/0;class f7{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,ro(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,i=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){Pe(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=zf?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,i=this.priorities_,r=n.length,s=n[e],o=i[e],a=e;for(;e<r>>1;){const l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),c=u<r&&i[u]<i[l]?u:l;n[e]=n[c],i[e]=i[c],e=c}n[e]=s,i[e]=o,this.siftDown_(a,e)}siftDown_(e,n){const i=this.elements_,r=this.priorities_,s=i[n],o=r[n];for(;n>e;){const a=this.getParentIndex_(n);if(r[a]>o)i[n]=i[a],r[n]=r[a],n=a;else break}i[n]=s,r[n]=o}reprioritize(){const e=this.priorityFunction_,n=this.elements_,i=this.priorities_;let r=0;const s=n.length;let o,a,l;for(a=0;a<s;++a)o=n[a],l=e(o),l==zf?delete this.queuedElements_[this.keyFunction_(o)]:(i[r]=l,n[r++]=o);n.length=r,i.length=r,this.heapify_()}}class d7 extends f7{constructor(e,n){super(i=>e.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(ae.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,i=n.getState();if(i===Y.LOADED||i===Y.ERROR||i===Y.EMPTY){i!==Y.ERROR&&n.removeEventListener(ae.CHANGE,this.boundHandleTileChange_);const r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let i=0;for(;this.tilesLoading_<e&&i<n&&this.getCount()>0;){const r=this.dequeue()[0],s=r.getKey();r.getState()===Y.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,r.load())}}}function g7(t,e,n,i,r){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return zf;const s=t.viewState.center,o=i[0]-s[0],a=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r}const kt={ANIMATING:0,INTERACTING:1},Zn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function Oe(t,e,n){return Math.min(Math.max(t,e),n)}function m7(t,e,n,i,r,s){const o=r-n,a=s-i;if(o!==0||a!==0){const l=((t-n)*o+(e-i)*a)/(o*o+a*a);l>1?(n=r,i=s):l>0&&(n+=o*l,i+=a*l)}return rr(t,e,n,i)}function rr(t,e,n,i){const r=n-t,s=i-e;return r*r+s*s}function p7(t){const e=t.length;for(let i=0;i<e;i++){let r=i,s=Math.abs(t[i][i]);for(let a=i+1;a<e;a++){const l=Math.abs(t[a][i]);l>s&&(s=l,r=a)}if(s===0)return null;const o=t[r];t[r]=t[i],t[i]=o;for(let a=i+1;a<e;a++){const l=-t[a][i]/t[i][i];for(let u=i;u<e+1;u++)i==u?t[a][u]=0:t[a][u]+=l*t[i][u]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let r=i-1;r>=0;r--)t[r][e]-=t[r][i]*n[i]}return n}function Hx(t){return t*180/Math.PI}function ui(t){return t*Math.PI/180}function la(t,e){const n=t%e;return n*e<0?n+e:n}function pn(t,e,n){return t+n*(e-t)}function Ec(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function rh(t,e){return Math.floor(Ec(t,e))}function sh(t,e){return Math.ceil(Ec(t,e))}function Mp(t,e,n){if(t>=e&&t<n)return t;const i=n-e;return((t-e)%i+i)%i+e}function Kx(t,e,n){return function(i,r,s,o,a){if(!i)return;if(!r&&!e)return i;const l=e?0:s[0]*r,u=e?0:s[1]*r,c=a?a[0]:0,h=a?a[1]:0;let f=t[0]+l/2+c,g=t[2]-l/2+c,d=t[1]+u/2+h,p=t[3]-u/2+h;f>g&&(f=(g+f)/2,g=f),d>p&&(d=(p+d)/2,p=d);let m=Oe(i[0],f,g),_=Oe(i[1],d,p);if(o&&n&&r){const y=30*r;m+=-y*Math.log(1+Math.max(0,f-i[0])/y)+y*Math.log(1+Math.max(0,i[0]-g)/y),_+=-y*Math.log(1+Math.max(0,d-i[1])/y)+y*Math.log(1+Math.max(0,i[1]-p)/y)}return[m,_]}}function _7(t){return t}const ft={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Bf(t){const e=Cn();for(let n=0,i=t.length;n<i;++n)nu(e,t[n]);return e}function y7(t,e,n){const i=Math.min.apply(null,t),r=Math.min.apply(null,e),s=Math.max.apply(null,t),o=Math.max.apply(null,e);return ji(i,r,s,o,n)}function qy(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function _M(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function so(t,e,n){let i,r;return e<t[0]?i=t[0]-e:t[2]<e?i=e-t[2]:i=0,n<t[1]?r=t[1]-n:t[3]<n?r=n-t[3]:r=0,i*i+r*r}function rs(t,e){return Zy(t,e[0],e[1])}function Wo(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Zy(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Rp(t,e){const n=t[0],i=t[1],r=t[2],s=t[3],o=e[0],a=e[1];let l=ft.UNKNOWN;return o<n?l=l|ft.LEFT:o>r&&(l=l|ft.RIGHT),a<i?l=l|ft.BELOW:a>s&&(l=l|ft.ABOVE),l===ft.UNKNOWN&&(l=ft.INTERSECTING),l}function Cn(){return[1/0,1/0,-1/0,-1/0]}function ji(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function Za(t){return ji(1/0,1/0,-1/0,-1/0,t)}function yM(t,e){const n=t[0],i=t[1];return ji(n,i,n,i,e)}function Jy(t,e,n,i,r){const s=Za(r);return vM(s,t,e,n,i)}function ku(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Qy(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function nu(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function vM(t,e,n,i,r){for(;n<i;n+=r)v7(t,e[n],e[n+1]);return t}function v7(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function e1(t,e){let n;return n=e(Vd(t)),n||(n=e(Wd(t)),n)||(n=e(Xd(t)),n)||(n=e(dr(t)),n)?n:!1}function Fu(t){let e=0;return Ja(t)||(e=xe(t)*_t(t)),e}function Vd(t){return[t[0],t[1]]}function Wd(t){return[t[2],t[1]]}function fr(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function E7(t,e){let n;if(e==="bottom-left")n=Vd(t);else if(e==="bottom-right")n=Wd(t);else if(e==="top-left")n=dr(t);else if(e==="top-right")n=Xd(t);else throw new Error("Invalid corner");return n}function Pp(t,e,n,i,r){const[s,o,a,l,u,c,h,f]=t1(t,e,n,i);return ji(Math.min(s,a,u,h),Math.min(o,l,c,f),Math.max(s,a,u,h),Math.max(o,l,c,f),r)}function t1(t,e,n,i){const r=e*i[0]/2,s=e*i[1]/2,o=Math.cos(n),a=Math.sin(n),l=r*o,u=r*a,c=s*o,h=s*a,f=t[0],g=t[1];return[f-l+h,g-u-c,f-l-h,g-u+c,f+l-h,g+u+c,f+l+h,g+u-c,f-l+h,g-u-c]}function _t(t){return t[3]-t[1]}function Xt(t,e,n){const i=n||Cn();return Vt(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):Za(i),i}function dr(t){return[t[0],t[3]]}function Xd(t){return[t[2],t[3]]}function xe(t){return t[2]-t[0]}function Vt(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Ja(t){return t[2]<t[0]||t[3]<t[1]}function x7(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function w7(t,e,n){let i=!1;const r=Rp(t,e),s=Rp(t,n);if(r===ft.INTERSECTING||s===ft.INTERSECTING)i=!0;else{const o=t[0],a=t[1],l=t[2],u=t[3],c=e[0],h=e[1],f=n[0],g=n[1],d=(g-h)/(f-c);let p,m;s&ft.ABOVE&&!(r&ft.ABOVE)&&(p=f-(g-u)/d,i=p>=o&&p<=l),!i&&s&ft.RIGHT&&!(r&ft.RIGHT)&&(m=g-(f-l)*d,i=m>=a&&m<=u),!i&&s&ft.BELOW&&!(r&ft.BELOW)&&(p=f-(g-a)/d,i=p>=o&&p<=l),!i&&s&ft.LEFT&&!(r&ft.LEFT)&&(m=g-(f-o)*d,i=m>=a&&m<=u)}return i}function S7(t,e,n,i){if(Ja(t))return Za(n);let r=[];r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]],e(r,r,2);const s=[],o=[];for(let a=0,l=r.length;a<l;a+=2)s.push(r[a]),o.push(r[a+1]);return y7(s,o,n)}function EM(t,e){const n=e.getExtent(),i=fr(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const r=xe(n),o=Math.floor((i[0]-n[0])/r)*r;t[0]-=o,t[2]-=o}return t}function n1(t,e,n){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];EM(t,e);const r=xe(i);if(xe(t)>r&&!n)return[[i[0],t[1],i[2],t[3]]];if(t[0]<i[0])return[[t[0]+r,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-r,t[3]]]}return[t]}function C7(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function Vf(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function i1(t,e){const n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,s=t[1]*n+t[0]*i;return t[0]=r,t[1]=s,t}function T7(t,e){return t[0]*=e,t[1]*=e,t}function xM(t,e){const n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function wM(t,e){return Math.sqrt(xM(t,e))}function SM(t,e){if(e.canWrapX()){const n=xe(e.getExtent()),i=CM(t,e,n);i&&(t[0]-=i*n)}return t}function CM(t,e,n){const i=e.getExtent();let r=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||xe(i),r=Math.floor((t[0]-i[0])/n)),r}function TM(t){return Math.pow(t,3)}function Qa(t){return 1-TM(1-t)}function b7(t){return 3*t*t-2*t*t*t}function M7(t){return t}const bM=63710088e-1;function Yx(t,e,n){n=n||bM;const i=ui(t[1]),r=ui(e[1]),s=(r-i)/2,o=ui(e[0]-t[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function oh(t,e){let n=0;const i=t.length;let r=t[i-1][0],s=t[i-1][1];for(let o=0;o<i;o++){const a=t[o][0],l=t[o][1];n+=ui(a-r)*(2+Math.sin(ui(s))+Math.sin(ui(l))),r=a,s=l}return n*e*e/2}function MM(t,e){e=e||{};const n=e.radius||bM,i=e.projection||"EPSG:3857",r=t.getType();r!=="GeometryCollection"&&(t=t.clone().transform(i,"EPSG:4326"));let s=0,o,a,l,u,c,h;switch(r){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":{for(o=t.getCoordinates(),s=Math.abs(oh(o[0],n)),l=1,u=o.length;l<u;++l)s-=Math.abs(oh(o[l],n));break}case"MultiPolygon":{for(o=t.getCoordinates(),l=0,u=o.length;l<u;++l)for(a=o[l],s+=Math.abs(oh(a[0],n)),c=1,h=a.length;c<h;++c)s-=Math.abs(oh(a[c],n));break}case"GeometryCollection":{const f=t.getGeometries();for(l=0,u=f.length;l<u;++l)s+=MM(f[l],e);break}default:throw new Error("Unsupported geometry type: "+r)}return s}function RM(...t){console.warn(...t)}function qx(...t){console.error(...t)}const R7={9001:"m",9002:"ft",9003:"us-ft",9101:"radians",9102:"degrees"};function Zx(t){return R7[t]}const r1={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Pa{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||r1[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const xc=6378137,Xo=Math.PI*xc,P7=[-Xo,-Xo,Xo,Xo],I7=[-180,-85,180,85],ah=xc*Math.log(Math.tan(Math.PI/2));class co extends Pa{constructor(e){super({code:e,units:"m",extent:P7,global:!0,worldExtent:I7,getPointResolution:function(n,i){return n/Math.cosh(i[1]/xc)}})}}const Jx=[new co("EPSG:3857"),new co("EPSG:102100"),new co("EPSG:102113"),new co("EPSG:900913"),new co("http://www.opengis.net/def/crs/EPSG/0/3857"),new co("http://www.opengis.net/gml/srs/epsg.xml#3857")];function A7(t,e,n,i){const r=t.length;n=n>1?n:2,i=i??n,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let s=0;s<r;s+=i){e[s]=Xo*t[s]/180;let o=xc*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));o>ah?o=ah:o<-ah&&(o=-ah),e[s+1]=o}return e}function O7(t,e,n,i){const r=t.length;n=n>1?n:2,i=i??n,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let s=0;s<r;s+=i)e[s]=180*t[s]/Xo,e[s+1]=360*Math.atan(Math.exp(t[s+1]/xc))/Math.PI-90;return e}const L7=6378137,Qx=[-180,-90,180,90],k7=Math.PI*L7/180;class xs extends Pa{constructor(e,n){super({code:e,units:"degrees",extent:Qx,axisOrientation:n,global:!0,metersPerUnit:k7,worldExtent:Qx})}}const e2=[new xs("CRS:84"),new xs("EPSG:4326","neu"),new xs("urn:ogc:def:crs:OGC:1.3:CRS84"),new xs("urn:ogc:def:crs:OGC:2:84"),new xs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new xs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new xs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Ip={};function Zh(t){return Ip[t]||Ip[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function F7(t,e){Ip[t]=e}let ua={};function Js(t,e,n){const i=t.getCode(),r=e.getCode();i in ua||(ua[i]={}),ua[i][r]=n}function Jh(t,e){return t in ua&&e in ua[t]?ua[t][e]:null}const Wf=.9996,Vn=.00669438,Hd=Vn*Vn,Kd=Hd*Vn,Ls=Vn/(1-Vn),t2=Math.sqrt(1-Vn),Ia=(1-t2)/(1+t2),PM=Ia*Ia,s1=PM*Ia,o1=s1*Ia,IM=o1*Ia,AM=1-Vn/4-3*Hd/64-5*Kd/256,D7=3*Vn/8+3*Hd/32+45*Kd/1024,N7=15*Hd/256+45*Kd/1024,G7=35*Kd/3072,U7=3/2*Ia-27/32*s1+269/512*IM,j7=21/16*PM-55/32*o1,$7=151/96*s1-417/128*IM,z7=1097/512*o1,Xf=6378137;function B7(t,e,n){const i=t-5e5,o=(n.north?e:e-1e7)/Wf/(Xf*AM),a=o+U7*Math.sin(2*o)+j7*Math.sin(4*o)+$7*Math.sin(6*o)+z7*Math.sin(8*o),l=Math.sin(a),u=l*l,c=Math.cos(a),h=l/c,f=h*h,g=f*f,d=1-Vn*u,p=Math.sqrt(1-Vn*u),m=Xf/p,_=(1-Vn)/d,y=Ls*c**2,v=y*y,E=i/(m*Wf),x=E*E,S=x*E,w=S*E,C=w*E,M=C*E,b=a-h/_*(x/2-w/24*(5+3*f+10*y-4*v-9*Ls))+M/720*(61+90*f+298*y+45*g-252*Ls-3*v);let L=(E-S/6*(1+2*f+y)+C/120*(5-2*y+28*f-3*v+8*Ls+24*g))/c;return L=Mp(L+ui(OM(n.number)),-Math.PI,Math.PI),[Hx(L),Hx(b)]}const n2=-80,i2=84,V7=-180,W7=180;function X7(t,e,n){t=Mp(t,V7,W7),e<n2?e=n2:e>i2&&(e=i2);const i=ui(e),r=Math.sin(i),s=Math.cos(i),o=r/s,a=o*o,l=a*a,u=ui(t),c=OM(n.number),h=ui(c),f=Xf/Math.sqrt(1-Vn*r**2),g=Ls*s**2,d=s*Mp(u-h,-Math.PI,Math.PI),p=d*d,m=p*d,_=m*d,y=_*d,v=y*d,E=Xf*(AM*i-D7*Math.sin(2*i)+N7*Math.sin(4*i)-G7*Math.sin(6*i)),x=Wf*f*(d+m/6*(1-a+g)+y/120*(5-18*a+l+72*g-58*Ls))+5e5;let S=Wf*(E+f*o*(p/2+_/24*(5-a+9*g+4*g**2)+v/720*(61-58*a+l+600*g-330*Ls)));return n.north||(S+=1e7),[x,S]}function OM(t){return(t-1)*6-180+3}const H7=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function LM(t){let e=0;for(const r of H7){const s=t.match(r);if(s){e=parseInt(s[1]);break}}if(!e)return null;let n=0,i=!1;return e>32700&&e<32761?n=e-32700:e>32600&&e<32661&&(i=!0,n=e-32600),n?{number:n,north:i}:null}function r2(t,e){return function(n,i,r,s){const o=n.length;r=r>1?r:2,s=s??r,i||(r>2?i=n.slice():i=new Array(o));for(let a=0;a<o;a+=s){const l=n[a],u=n[a+1],c=t(l,u,e);i[a]=c[0],i[a+1]=c[1]}return i}}function K7(t){return LM(t)?new Pa({code:t,units:"m"}):null}function Y7(t){const e=LM(t.getCode());return e?{forward:r2(X7,e),inverse:r2(B7,e)}:null}const q7=[Y7],Z7=[K7];let Ap=!0;function J7(t){Ap=!1}function a1(t,e){if(e!==void 0){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];e=e}else e=t.slice();return e}function Hf(t){F7(t.getCode(),t),Js(t,t,a1)}function Q7(t){t.forEach(Hf)}function De(t){if(typeof t!="string")return t;const e=Zh(t);if(e)return e;for(const n of Z7){const i=n(t);if(i)return i}return null}function s2(t,e,n,i){t=De(t);let r;const s=t.getPointResolutionFunc();if(s)r=s(e,n);else{const o=t.getUnits();if(o=="degrees"&&!i||i=="degrees")r=e;else{const a=u1(t,De("EPSG:4326"));if(!a&&o!=="degrees")r=e*t.getMetersPerUnit();else{let u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=a(u,u,2);const c=Yx(u.slice(0,2),u.slice(2,4)),h=Yx(u.slice(4,6),u.slice(6,8));r=(c+h)/2}const l=t.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function Op(t){Q7(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Js(e,n,a1)})})}function eG(t,e,n,i){t.forEach(function(r){e.forEach(function(s){Js(r,s,n),Js(s,r,i)})})}function l1(t,e){return t?typeof t=="string"?De(t):t:De(e)}function Kf(t){return function(e,n,i,r){const s=e.length;i=i!==void 0?i:2,r=r??i,n=n!==void 0?n:new Array(s);for(let o=0;o<s;o+=r){const a=t(e.slice(o,o+i)),l=a.length;for(let u=0,c=r;u<c;++u)n[o+u]=u>=l?e[o+u]:a[u]}return n}}function tG(t,e,n,i){const r=De(t),s=De(e);Js(r,s,Kf(n)),Js(s,r,Kf(i))}function $s(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||u1(t,e)===a1)&&n}function u1(t,e){const n=t.getCode(),i=e.getCode();let r=Jh(n,i);if(r)return r;let s=null,o=null;for(const l of q7)s||(s=l(t)),o||(o=l(e));if(!s&&!o)return null;const a="EPSG:4326";if(o)if(s)r=v0(s.inverse,o.forward);else{const l=Jh(n,a);l&&(r=v0(l,o.forward))}else{const l=Jh(a,i);l&&(r=v0(s.inverse,l))}return r&&(Hf(t),Hf(e),Js(t,e,r)),r}function v0(t,e){return function(n,i,r,s){return i=t(n,i,r,s),e(i,i,r,s)}}function Du(t,e){const n=De(t),i=De(e);return u1(n,i)}function kM(t,e,n){const i=Du(e,n);if(!i){const r=De(e).getCode(),s=De(n).getCode();throw new Error(`No transform available between ${r} and ${s}`)}return i(t,void 0,t.length)}function Yf(t,e){return t}function ei(t,e){return Ap&&!Vf(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(Ap=!1,RM("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function c1(t,e){return t}function Ai(t,e){return t}function o2(t,e,n){return function(i){let r,s;if(t.canWrapX()){const o=t.getExtent(),a=xe(o);i=i.slice(0),s=CM(i,t,a),s&&(i[0]=i[0]-s*a),i[0]=Oe(i[0],o[0],o[2]),i[1]=Oe(i[1],o[1],o[3]),r=n(i)}else r=n(i);return s&&e.canWrapX()&&(r[0]+=s*xe(e.getExtent())),r}}function nG(){Op(Jx),Op(e2),eG(e2,Jx,A7,O7)}nG();const h1=new Array(6);function Gt(){return[1,0,0,1,0,0]}function iG(t){return Yd(t,1,0,0,1,0,0)}function Nu(t,e){const n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=e[0],u=e[1],c=e[2],h=e[3],f=e[4],g=e[5];return t[0]=n*l+r*u,t[1]=i*l+s*u,t[2]=n*c+r*h,t[3]=i*c+s*h,t[4]=n*f+r*g+o,t[5]=i*f+s*g+a,t}function Yd(t,e,n,i,r,s,o){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=s,t[5]=o,t}function rG(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function st(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function sG(t,e){const n=Math.cos(e),i=Math.sin(e);return Nu(t,Yd(h1,n,i,-i,n,0,0))}function a2(t,e,n){return Nu(t,Yd(h1,e,0,0,n,0,0))}function oG(t,e,n){return Nu(t,Yd(h1,1,0,0,1,e,n))}function hi(t,e,n,i,r,s,o,a){const l=Math.sin(s),u=Math.cos(s);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=o*i*u-a*i*l+e,t[5]=o*r*l+a*r*u+n,t}function f1(t,e){const n=aG(e);Pe(n!==0,"Transformation matrix cannot be inverted");const i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5];return t[0]=o/n,t[1]=-r/n,t[2]=-s/n,t[3]=i/n,t[4]=(s*l-o*a)/n,t[5]=-(i*l-r*a)/n,t}function aG(t){return t[0]*t[3]-t[1]*t[2]}const lG=[1e5,1e5,1e5,1e5,2,2];function uG(t){return"matrix("+t.join(", ")+")"}function l2(t){return t.substring(7,t.length-1).split(",").map(parseFloat)}function cG(t,e){const n=l2(t),i=l2(e);for(let r=0;r<6;++r)if(Math.round((n[r]-i[r])*lG[r])!==0)return!1;return!0}function Jr(t,e,n,i,r,s,o){s=s||[],o=o||2;let a=0;for(let l=e;l<n;l+=i){const u=t[l],c=t[l+1];s[a++]=r[0]*u+r[2]*c+r[4],s[a++]=r[1]*u+r[3]*c+r[5];for(let h=2;h<o;h++)s[a++]=t[l+h]}return s&&s.length!=a&&(s.length=a),s}function d1(t,e,n,i,r,s,o){o=o||[];const a=Math.cos(r),l=Math.sin(r),u=s[0],c=s[1];let h=0;for(let f=e;f<n;f+=i){const g=t[f]-u,d=t[f+1]-c;o[h++]=u+g*a-d*l,o[h++]=c+g*l+d*a;for(let p=f+2;p<f+i;++p)o[h++]=t[p]}return o&&o.length!=h&&(o.length=h),o}function hG(t,e,n,i,r,s,o,a){a=a||[];const l=o[0],u=o[1];let c=0;for(let h=e;h<n;h+=i){const f=t[h]-l,g=t[h+1]-u;a[c++]=l+r*f,a[c++]=u+s*g;for(let d=h+2;d<h+i;++d)a[c++]=t[d]}return a&&a.length!=c&&(a.length=c),a}function fG(t,e,n,i,r,s,o){o=o||[];let a=0;for(let l=e;l<n;l+=i){o[a++]=t[l]+r,o[a++]=t[l+1]+s;for(let u=l+2;u<l+i;++u)o[a++]=t[u]}return o&&o.length!=a&&(o.length=a),o}const u2=Gt(),dG=[NaN,NaN];class FM extends pi{constructor(){super(),this.extent_=Cn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=fM((e,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return le()}closestPointXY(e,n,i,r){return le()}containsXY(e,n){return this.closestPointXY(e,n,dG,Number.MIN_VALUE)===0}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return le()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Za(n),this.extentRevision_=this.getRevision()}return x7(this.extent_,e)}rotate(e,n){le()}scale(e,n,i){le()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return le()}getType(){return le()}applyTransform(e){le()}intersectsExtent(e){return le()}translate(e,n){le()}transform(e,n){const i=De(e),r=i.getUnits()=="tile-pixels"?function(s,o,a){const l=i.getExtent(),u=i.getWorldExtent(),c=_t(u)/_t(l);hi(u2,u[0],u[3],c,-c,0,0,0);const h=Jr(s,0,s.length,a,u2,o),f=Du(i,n);return f?f(h,h,a):h}:Du(i,n);return this.applyTransform(r),this}}class vs extends FM{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Jy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return le()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=qf(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){le()}setLayout(e,n,i){let r;if(e)r=qf(e);else{for(let s=0;s<i;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}r=n.length,e=oo(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();d1(i,0,i.length,r,e,n,i),this.changed()}}scale(e,n,i){n===void 0&&(n=e),i||(i=fr(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();hG(r,0,r.length,s,e,n,i,r),this.changed()}}translate(e,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();fG(i,0,i.length,r,e,n,i),this.changed()}}}function oo(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function qf(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function gG(t,e,n){const i=t.getFlatCoordinates();if(!i)return null;const r=t.getStride();return Jr(i,0,i.length,r,e,n)}function DM(t,e,n,i){let r=0;const s=t[n-i],o=t[n-i+1];let a=0,l=0;for(;e<n;e+=i){const u=t[e]-s,c=t[e+1]-o;r+=l*u-a*c,a=u,l=c}return r/2}function NM(t,e,n,i){let r=0;for(let s=0,o=n.length;s<o;++s){const a=n[s];r+=DM(t,e,a,i),e=a}return r}function mG(t,e,n,i){let r=0;for(let s=0,o=n.length;s<o;++s){const a=n[s];r+=NM(t,e,a,i),e=a[a.length-1]}return r}function c2(t,e,n,i,r,s,o){const a=t[e],l=t[e+1],u=t[n]-a,c=t[n+1]-l;let h;if(u===0&&c===0)h=e;else{const f=((r-a)*u+(s-l)*c)/(u*u+c*c);if(f>1)h=n;else if(f>0){for(let g=0;g<i;++g)o[g]=pn(t[e+g],t[n+g],f);o.length=i;return}else h=e}for(let f=0;f<i;++f)o[f]=t[h+f];o.length=i}function g1(t,e,n,i,r){let s=t[e],o=t[e+1];for(e+=i;e<n;e+=i){const a=t[e],l=t[e+1],u=rr(s,o,a,l);u>r&&(r=u),s=a,o=l}return r}function m1(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s){const a=n[s];r=g1(t,e,a,i,r),e=a}return r}function pG(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s){const a=n[s];r=m1(t,e,a,i,r),e=a[a.length-1]}return r}function p1(t,e,n,i,r,s,o,a,l,u,c){if(e==n)return u;let h,f;if(r===0){if(f=rr(o,a,t[e],t[e+1]),f<u){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,f}return u}c=c||[NaN,NaN];let g=e+i;for(;g<n;)if(c2(t,g-i,g,i,o,a,c),f=rr(o,a,c[0],c[1]),f<u){for(u=f,h=0;h<i;++h)l[h]=c[h];l.length=i,g+=i}else g+=i*Math.max((Math.sqrt(f)-Math.sqrt(u))/r|0,1);if(s&&(c2(t,n-i,e,i,o,a,c),f=rr(o,a,c[0],c[1]),f<u)){for(u=f,h=0;h<i;++h)l[h]=c[h];l.length=i}return u}function _1(t,e,n,i,r,s,o,a,l,u,c){c=c||[NaN,NaN];for(let h=0,f=n.length;h<f;++h){const g=n[h];u=p1(t,e,g,i,r,s,o,a,l,u,c),e=g}return u}function _G(t,e,n,i,r,s,o,a,l,u,c){c=c||[NaN,NaN];for(let h=0,f=n.length;h<f;++h){const g=n[h];u=_1(t,e,g,i,r,s,o,a,l,u,c),e=g[g.length-1]}return u}function GM(t,e,n,i){for(let r=0,s=n.length;r<s;++r)t[e++]=n[r];return e}function qd(t,e,n,i){for(let r=0,s=n.length;r<s;++r){const o=n[r];for(let a=0;a<i;++a)t[e++]=o[a]}return e}function wc(t,e,n,i,r){r=r||[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=qd(t,e,n[o],i);r[s++]=l,e=l}return r.length=s,r}function UM(t,e,n,i,r){r=r||[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=wc(t,e,n[o],i,r[s]);l.length===0&&(l[0]=e),r[s++]=l,e=l[l.length-1]}return r.length=s,r}function jr(t,e,n,i,r){r=r!==void 0?r:[];let s=0;for(let o=e;o<n;o+=i)r[s++]=t.slice(o,o+i);return r.length=s,r}function Gu(t,e,n,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];r[s++]=jr(t,e,l,i,r[s]),e=l}return r.length=s,r}function Lp(t,e,n,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];r[s++]=l.length===1&&l[0]===e?[]:Gu(t,e,l,i,r[s]),e=l[l.length-1]}return r.length=s,r}function Zd(t,e,n,i,r,s,o){const a=(n-e)/i;if(a<3){for(;e<n;e+=i)s[o++]=t[e],s[o++]=t[e+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const u=[e,n-i];let c=0;for(;u.length>0;){const h=u.pop(),f=u.pop();let g=0;const d=t[f],p=t[f+1],m=t[h],_=t[h+1];for(let y=f+i;y<h;y+=i){const v=t[y],E=t[y+1],x=m7(v,E,d,p,m,_);x>g&&(c=y,g=x)}g>r&&(l[(c-e)/i]=1,f+i<c&&u.push(f,c),c+i<h&&u.push(c,h))}for(let h=0;h<a;++h)l[h]&&(s[o++]=t[e+h*i],s[o++]=t[e+h*i+1]);return o}function jM(t,e,n,i,r,s,o,a){for(let l=0,u=n.length;l<u;++l){const c=n[l];o=Zd(t,e,c,i,r,s,o),a.push(o),e=c}return o}function Ms(t,e){return e*Math.round(t/e)}function yG(t,e,n,i,r,s,o){if(e==n)return o;let a=Ms(t[e],r),l=Ms(t[e+1],r);e+=i,s[o++]=a,s[o++]=l;let u,c;do if(u=Ms(t[e],r),c=Ms(t[e+1],r),e+=i,e==n)return s[o++]=u,s[o++]=c,o;while(u==a&&c==l);for(;e<n;){const h=Ms(t[e],r),f=Ms(t[e+1],r);if(e+=i,h==u&&f==c)continue;const g=u-a,d=c-l,p=h-a,m=f-l;if(g*m==d*p&&(g<0&&p<g||g==p||g>0&&p>g)&&(d<0&&m<d||d==m||d>0&&m>d)){u=h,c=f;continue}s[o++]=u,s[o++]=c,a=u,l=c,u=h,c=f}return s[o++]=u,s[o++]=c,o}function y1(t,e,n,i,r,s,o,a){for(let l=0,u=n.length;l<u;++l){const c=n[l];o=yG(t,e,c,i,r,s,o),a.push(o),e=c}return o}function vG(t,e,n,i,r,s,o,a){for(let l=0,u=n.length;l<u;++l){const c=n[l],h=[];o=y1(t,e,c,i,r,s,o,h),a.push(h),e=c[c.length-1]}return o}class Uu extends vs{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new Uu(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,i,r){return r<so(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(g1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),p1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,r))}getArea(){return DM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return jr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=Zd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Uu(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=qd(this.flatCoordinates,0,e,this.stride),this.changed()}}class Di extends vs{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new Di(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){const s=this.flatCoordinates,o=rr(e,n,s[0],s[1]);if(o<r){const a=this.stride;for(let l=0;l<a;++l)i[l]=s[l];return i.length=a,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return yM(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Zy(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=GM(this.flatCoordinates,0,e,this.stride),this.changed()}}function EG(t,e,n,i,r){return!e1(r,function(o){return!ks(t,e,n,i,o[0],o[1])})}function ks(t,e,n,i,r,s){let o=0,a=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const u=t[e],c=t[e+1];l<=s?c>s&&(u-a)*(s-l)-(r-a)*(c-l)>0&&o++:c<=s&&(u-a)*(s-l)-(r-a)*(c-l)<0&&o--,a=u,l=c}return o!==0}function v1(t,e,n,i,r,s){if(n.length===0||!ks(t,e,n[0],i,r,s))return!1;for(let o=1,a=n.length;o<a;++o)if(ks(t,n[o-1],n[o],i,r,s))return!1;return!0}function xG(t,e,n,i,r,s){if(n.length===0)return!1;for(let o=0,a=n.length;o<a;++o){const l=n[o];if(v1(t,e,l,i,r,s))return!0;e=l[l.length-1]}return!1}function E1(t,e,n,i,r,s,o){let a,l,u,c,h,f,g;const d=r[s+1],p=[];for(let y=0,v=n.length;y<v;++y){const E=n[y];for(c=t[E-i],f=t[E-i+1],a=e;a<E;a+=i)h=t[a],g=t[a+1],(d<=f&&g<=d||f<=d&&d<=g)&&(u=(d-f)/(g-f)*(h-c)+c,p.push(u)),c=h,f=g}let m=NaN,_=-1/0;for(p.sort(ir),c=p[0],a=1,l=p.length;a<l;++a){h=p[a];const y=Math.abs(h-c);y>_&&(u=(c+h)/2,v1(t,e,n,i,u,d)&&(m=u,_=y)),c=h}return isNaN(m)&&(m=r[s]),o?(o.push(m,d,_),o):[m,d,_]}function $M(t,e,n,i,r){let s=[];for(let o=0,a=n.length;o<a;++o){const l=n[o];s=E1(t,e,l,i,r,2*o,s),e=l[l.length-1]}return s}function zM(t,e,n,i,r){let s;for(e+=i;e<n;e+=i)if(s=r(t.slice(e-i,e),t.slice(e,e+i)),s)return s;return!1}function Jd(t,e,n,i,r,s){return s=s??vM(Cn(),t,e,n,i),Vt(r,s)?s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:zM(t,e,n,i,function(o,a){return w7(r,o,a)}):!1}function wG(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s){if(Jd(t,e,n[s],i,r))return!0;e=n[s]}return!1}function BM(t,e,n,i,r){return!!(Jd(t,e,n,i,r)||ks(t,e,n,i,r[0],r[1])||ks(t,e,n,i,r[0],r[3])||ks(t,e,n,i,r[2],r[1])||ks(t,e,n,i,r[2],r[3]))}function VM(t,e,n,i,r){if(!BM(t,e,n[0],i,r))return!1;if(n.length===1)return!0;for(let s=1,o=n.length;s<o;++s)if(EG(t,n[s-1],n[s],i,r)&&!Jd(t,n[s-1],n[s],i,r))return!1;return!0}function SG(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s){const a=n[s];if(VM(t,e,a,i,r))return!0;e=a[a.length-1]}return!1}function CG(t,e,n,i){for(;e<n-i;){for(let r=0;r<i;++r){const s=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=s}e+=i,n-=i}}function x1(t,e,n,i){let r=0,s=t[n-i],o=t[n-i+1];for(;e<n;e+=i){const a=t[e],l=t[e+1];r+=(a-s)*(l+o),s=a,o=l}return r===0?void 0:r>0}function w1(t,e,n,i,r){r=r!==void 0?r:!1;for(let s=0,o=n.length;s<o;++s){const a=n[s],l=x1(t,e,a,i);if(s===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=a}return!0}function WM(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s){const a=n[s];if(!w1(t,e,a,i,r))return!1;a.length&&(e=a[a.length-1])}return!0}function Zf(t,e,n,i,r){r=r!==void 0?r:!1;for(let s=0,o=n.length;s<o;++s){const a=n[s],l=x1(t,e,a,i);(s===0?r&&l||!r&&!l:r&&!l||!r&&l)&&CG(t,e,a,i),e=a}return e}function kp(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s)e=Zf(t,e,n[s],i,r);return e}function TG(t,e){const n=[];let i=0,r=0,s;for(let o=0,a=e.length;o<a;++o){const l=e[o],u=x1(t,i,l,2);if(s===void 0&&(s=u),u===s)n.push(e.slice(r,o+1));else{if(n.length===0)continue;n[n.length-1].push(e[r])}r=o+1,i=l}return n}class $i extends vs{constructor(e,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?Bn(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new $i(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,r){return r<so(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(m1(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_1(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,r))}containsXY(e,n){return v1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return NM(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Zf(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,Gu(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=fr(this.getExtent());this.flatInteriorPoint_=E1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Di(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Uu(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,i=this.ends_,r=[];let s=0;for(let o=0,a=i.length;o<a;++o){const l=i[o],u=new Uu(n.slice(s,l),e);r.push(u),s=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;w1(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Zf(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=y1(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new $i(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return VM(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=wc(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function h2(t){if(Ja(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],r=t[3],s=[e,n,e,r,i,r,i,n,e,n];return new $i(s,"XY",[s.length])}function S1(t,e,n,i){const r=xe(e)/n[0],s=_t(e)/n[1];return i?Math.min(t,Math.max(r,s)):Math.min(t,Math.min(r,s))}function C1(t,e,n){let i=Math.min(t,e);const r=50;return i*=Math.log(1+r*Math.max(0,t/e-1))/r+1,n&&(i=Math.max(i,n),i/=Math.log(1+r*Math.max(0,n/t-1))/r+1),Oe(i,n/2,e*2)}function bG(t,e,n,i){return e=e!==void 0?e:!0,function(r,s,o,a){if(r!==void 0){const l=t[0],u=t[t.length-1],c=n?S1(l,n,o,i):l;if(a)return e?C1(r,c,u):Oe(r,u,c);const h=Math.min(c,r),f=Math.floor(Yy(t,h,s));return t[f]>c&&f<t.length-1?t[f+1]:t[f]}}}function MG(t,e,n,i,r,s){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(o,a,l,u){if(o!==void 0){const c=r?S1(e,r,l,s):e;if(u)return i?C1(o,c,n):Oe(o,n,c);const h=1e-9,f=Math.ceil(Math.log(e/c)/Math.log(t)-h),g=-a*(.5-h)+.5,d=Math.min(c,o),p=Math.floor(Math.log(e/d)/Math.log(t)+g),m=Math.max(f,p),_=e/Math.pow(t,m);return Oe(_,n,c)}}}function f2(t,e,n,i,r){return n=n!==void 0?n:!0,function(s,o,a,l){if(s!==void 0){const u=i?S1(t,i,a,r):t;return!n||!l?Oe(s,e,u):C1(s,u,e)}}}function T1(t){if(t!==void 0)return 0}function d2(t){if(t!==void 0)return t}function RG(t){const e=2*Math.PI/t;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function PG(t){const e=ui(5);return function(n,i){return i||n===void 0?n:Math.abs(n)<=e?0:n}}const IG=42,b1=256,E0=0;class Gn extends pi{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=l1(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&J7(),e.center&&(e.center=ei(e.center,this.projection_)),e.extent&&(e.extent=Ai(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const a in Zn)delete n[a];this.setProperties(n,!0);const i=OG(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const r=AG(e),s=i.constraint,o=LG(e);this.constraints_={center:r,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const r=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),o=s/2*(r[3]-n[3]+n[1]-r[1]),a=s/2*(r[0]-n[0]+n[2]-r[2]);this.setCenterInternal([i[0]+o,i[1]-a])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=ei(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=ei(r.anchor,this.getProjection())),n[i]=r}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const c=arguments[r];c.center&&this.setCenterInternal(c.center),c.zoom!==void 0?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),c.rotation!==void 0&&this.setRotation(c.rotation)}if(r===n){i&&lh(i,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const u=[];for(;r<n;++r){const c=arguments[r],h={start:s,complete:!1,anchor:c.anchor,duration:c.duration!==void 0?c.duration:1e3,easing:c.easing||b7,callback:i};if(c.center&&(h.sourceCenter=o,h.targetCenter=c.center.slice(),o=h.targetCenter),c.zoom!==void 0?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(c.zoom),a=h.targetResolution):c.resolution&&(h.sourceResolution=a,h.targetResolution=c.resolution,a=h.targetResolution),c.rotation!==void 0){h.sourceRotation=l;const f=la(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+f,l=h.targetRotation}kG(h)?h.complete=!0:s+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(kt.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[kt.ANIMATING]>0}getInteracting(){return this.hints_[kt.INTERACTING]>0}cancelAnimations(){this.setHint(kt.ANIMATING,-this.hints_[kt.ANIMATING]);let e;for(let n=0,i=this.animations_.length;n<i;++n){const r=this.animations_[n];if(r[0].callback&&lh(r[0].callback,!1),!e)for(let s=0,o=r.length;s<o;++s){const a=r[s];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let s=!0;for(let o=0,a=r.length;o<a;++o){const l=r[o];if(l.complete)continue;const u=e-l.start;let c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):s=!1;const h=l.easing(c);if(l.sourceCenter){const f=l.sourceCenter[0],g=l.sourceCenter[1],d=l.targetCenter[0],p=l.targetCenter[1];this.nextCenter_=l.targetCenter;const m=f+h*(d-f),_=g+h*(p-g);this.targetCenter_=[m,_]}if(l.sourceResolution&&l.targetResolution){const f=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){const g=this.getViewportSize_(this.getRotation()),d=this.constraints_.resolution(f,0,g,!0);this.targetCenter_=this.calculateCenterZoom(d,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const f=h===1?la(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){const g=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(g,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(s){this.animations_[i]=null,this.setHint(kt.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=r[0].callback;o&&lh(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let i;const r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-n[0],r[1]-n[1]],i1(i,e-this.getRotation()),C7(i,n)),i}calculateCenterZoom(e,n){let i;const r=this.getCenterInternal(),s=this.getResolution();if(r!==void 0&&s!==void 0){const o=n[0]-e*(n[0]-r[0])/s,a=n[1]-e*(n[1]-r[1])/s;i=[o,a]}return i}getViewportSize_(e){const n=this.viewportSize_;if(e){const i=n[0],r=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Yf(e,this.getProjection())}getCenterInternal(){return this.get(Zn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return c1(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Pe(n,"The view center is not defined");const i=this.getResolution();Pe(i!==void 0,"The view resolution is not defined");const r=this.getRotation();return Pe(r!==void 0,"The view rotation is not defined"),Pp(n,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Zn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(Ai(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const i=xe(e)/n[0],r=_t(e)/n[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(s){return n/Math.pow(e,s*r)}}getRotation(){return this.get(Zn.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,s=Math.log(i/r)/n;return function(o){return Math.log(i/o)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();r=x0(r,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],n,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,i,r;if(this.resolutions_){const s=Yy(this.resolutions_,e,1);n=s,i=this.resolutions_[s],s==this.resolutions_.length-1?r=2:r=i/this.resolutions_[s+1]}else i=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){var n;if((n=this.resolutions_)!=null&&n.length){if(this.resolutions_.length===1)return this.resolutions_[0];const i=Oe(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(r,Oe(e-i,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let i;if(Pe(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Pe(!Ja(e),"Cannot fit empty extent provided as `geometry`");const r=Ai(e,this.getProjection());i=h2(r)}else if(e.getType()==="Circle"){const r=Ai(e.getExtent(),this.getProjection());i=h2(r),i.rotate(this.getRotation(),fr(r))}else i=e;this.fitInternal(i,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),i=Math.cos(n),r=Math.sin(-n),s=e.getFlatCoordinates(),o=e.getStride();let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let h=0,f=s.length;h<f;h+=o){const g=s[h]*i-s[h+1]*r,d=s[h]*r+s[h+1]*i;a=Math.min(a,g),l=Math.min(l,d),u=Math.max(u,g),c=Math.max(c,d)}return[a,l,u,c]}fitInternal(e,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());const r=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let o;n.minResolution!==void 0?o=n.minResolution:n.maxZoom!==void 0?o=this.getResolutionForZoom(n.maxZoom):o=0;const a=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,s?0:1);const u=this.getRotation(),c=Math.sin(u),h=Math.cos(u),f=fr(a);f[0]+=(r[1]-r[3])/2*l,f[1]+=(r[0]-r[2])/2*l;const g=f[0]*h-f[1]*c,d=f[1]*h+f[0]*c,p=this.getConstrainedCenter([g,d],l),m=n.callback?n.callback:Lu;n.duration!==void 0?this.animateInternal({resolution:l,center:p,duration:n.duration,easing:n.easing},m):(this.targetResolution_=l,this.targetCenter_=p,this.applyTargetState_(!1,!0),lh(m,!0))}centerOn(e,n,i){this.centerOnInternal(ei(e,this.getProjection()),n,i)}centerOnInternal(e,n,i){this.setCenterInternal(x0(e,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,i,r){let s;const o=this.padding_;if(o&&e){const a=this.getViewportSizeMinusPadding_(-i),l=x0(e,r,[a[0]/2+o[3],a[1]/2+o[0]],n,i);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=Yf(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&ei(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,i);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=ei(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&ei(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const i=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,s,i),a=this.constraints_.center(this.targetCenter_,o,s,i,this.calculateCenterShift(this.targetCenter_,o,r,s));this.get(Zn.ROTATION)!==r&&this.set(Zn.ROTATION,r),this.get(Zn.RESOLUTION)!==o&&(this.set(Zn.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(Zn.CENTER)||!Vf(this.get(Zn.CENTER),a))&&this.set(Zn.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,i){e=e!==void 0?e:200;const r=n||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,r,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!Vf(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:e,easing:Qa,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(kt.INTERACTING,1)}endInteraction(e,n,i){i=i&&ei(i,this.getProjection()),this.endInteractionInternal(e,n,i)}endInteractionInternal(e,n,i){this.getInteracting()&&(this.setHint(kt.INTERACTING,-1),this.resolveConstraints(e,n,i))}getConstrainedCenter(e,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)}getConstrainedZoom(e,n){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(e,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,i)}}function lh(t,e){setTimeout(function(){t(e)},0)}function AG(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return Kx(t.extent,t.constrainOnlyCenter,n)}const e=l1(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,Kx(n,!1,!1)}return _7}function OG(t){let e,n,i,o=t.minZoom!==void 0?t.minZoom:E0,a=t.maxZoom!==void 0?t.maxZoom:28;const l=t.zoomFactor!==void 0?t.zoomFactor:2,u=t.multiWorld!==void 0?t.multiWorld:!1,c=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,h=t.showFullExtent!==void 0?t.showFullExtent:!1,f=l1(t.projection,"EPSG:3857"),g=f.getExtent();let d=t.constrainOnlyCenter,p=t.extent;if(!u&&!p&&f.isGlobal()&&(d=!1,p=g),t.resolutions!==void 0){const m=t.resolutions;n=m[o],i=m[a]!==void 0?m[a]:m[m.length-1],t.constrainResolution?e=bG(m,c,!d&&p,h):e=f2(n,i,c,!d&&p,h)}else{const _=(g?Math.max(xe(g),_t(g)):360*r1.degrees/f.getMetersPerUnit())/b1/Math.pow(2,E0),y=_/Math.pow(2,28-E0);n=t.maxResolution,n!==void 0?o=0:n=_/Math.pow(l,o),i=t.minResolution,i===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?i=n/Math.pow(l,a):i=_/Math.pow(l,a):i=y),a=o+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-o),t.constrainResolution?e=MG(l,n,i,c,!d&&p,h):e=f2(n,i,c,!d&&p,h)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:l}}function LG(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?PG():n===!1?d2:typeof n=="number"?RG(n):d2}return T1}function kG(t){return!(t.sourceCenter&&t.targetCenter&&!Vf(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function x0(t,e,n,i,r){const s=Math.cos(-r);let o=Math.sin(-r),a=t[0]*s-t[1]*o,l=t[1]*s+t[0]*o;a+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,o=-o;const u=a*s-l*o,c=l*s+a*o;return[u,c]}const uh="ol-hidden",FG="ol-selectable",Qd="ol-unselectable",M1="ol-control",g2="ol-collapsed",DG=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),m2=["style","variant","weight","size","lineHeight","family"],Fp={normal:400,bold:700},Dp=function(t){const e=t.match(DG);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let i=0,r=m2.length;i<r;++i){const s=e[i+1];s!==void 0&&(n[m2[i]]=typeof s=="string"?s.trim():s)}return isNaN(Number(n.weight))&&n.weight in Fp&&(n.weight=Fp[n.weight]),n.families=n.family.split(/,\s?/).map(i=>i.trim().replace(/^['"]|['"]$/g,"")),n};function Ze(t,e,n,i){let r;return n&&n.length?r=n.shift():Bd?r=new OffscreenCanvas(t||300,e||300):r=document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("2d",i)}let w0;function Jf(){return w0||(w0=Ze(1,1)),w0}function eg(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function NG(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function GG(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function p2(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function XM(t){for(;t.lastChild;)t.lastChild.remove()}function UG(t,e){const n=t.childNodes;for(let i=0;;++i){const r=n[i],s=e[i];if(!r&&!s)break;if(r!==s){if(!r){t.appendChild(s);continue}if(!s){t.removeChild(r),--i;continue}t.insertBefore(s,r)}}}let R1=class extends pi{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){var e;(e=this.element)==null||e.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){var n;this.map_&&((n=this.element)==null||n.remove());for(let i=0,r=this.listenerKeys.length;i<r;++i)Fe(this.listenerKeys[i]);if(this.listenerKeys.length=0,this.map_=e,e){const i=this.target_??e.getOverlayContainerStopEvent();this.element&&i.appendChild(this.element),this.render!==Lu&&this.listenerKeys.push(Ee(e,Zi.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}};class jG extends R1{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const n=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:n+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"",o=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(ae.CLICK,this.handleClick_.bind(this),!1);const u=n+" "+Qd+" "+M1+(this.collapsed_&&this.collapsible_?" "+g2:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=u,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=this.getMap().getAllLayers(),i=new Set(n.flatMap(r=>r.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){const r=!n.some(s=>{var o;return((o=s.getSource())==null?void 0:o.getAttributionsCollapsible())===!1});this.setCollapsible(r)}return Array.from(i)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(r=>dM(()=>r))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!ys(n,this.renderedAttributions_)){XM(this.ulElement_);for(let r=0,s=n.length;r<s;++r){const o=document.createElement("li");o.innerHTML=n[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(g2),this.collapsed_?p2(this.collapseLabel_,this.label_):p2(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class $G extends R1{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(ae.CLICK,this.handleClick_.bind(this),!1);const a=n+" "+Qd+" "+M1,l=this.element;l.className=a,l.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(uh)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Qa}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const i=n.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const s=this.element.classList.contains(uh);!s&&i===0?this.element.classList.add(uh):s&&i!==0&&this.element.classList.remove(uh)}this.label_.style.transform=r}this.rotation_=i}}class zG extends R1{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",u=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=r,c.setAttribute("type","button"),c.title=l,c.appendChild(typeof o=="string"?document.createTextNode(o):o),c.addEventListener(ae.CLICK,this.handleClick_.bind(this,i),!1);const h=document.createElement("button");h.className=s,h.setAttribute("type","button"),h.title=u,h.appendChild(typeof a=="string"?document.createTextNode(a):a),h.addEventListener(ae.CLICK,this.handleClick_.bind(this,-i),!1);const f=n+" "+Qd+" "+M1,g=this.element;g.className=f,g.appendChild(c),g.appendChild(h),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(r!==void 0){const s=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:Qa})):i.setZoom(s)}}}function BG(t){t=t||{};const e=new ii;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new zG(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new $G(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new jG(t.attributionOptions)),e}class VG{constructor(e,n,i){this.decay_=e,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const r=this.points_[n+2]-this.points_[i+2];if(r<1e3/60)return!1;const s=this.points_[n]-this.points_[i],o=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const Np={ACTIVE:"active"};class el extends pi{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Np.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Np.ACTIVE,e)}setMap(e){this.map_=e}}function WG(t,e,n){const i=t.getCenterInternal();if(i){const r=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:M7,center:t.getConstrainedCenter(r)})}}function P1(t,e,n,i){const r=t.getZoom();if(r===void 0)return;const s=t.getConstrainedZoom(r+e),o=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:i!==void 0?i:250,easing:Qa})}class XG extends el{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==Re.DBLCLICK){const i=e.originalEvent,r=e.map,s=e.coordinate,o=i.shiftKey?-this.delta_:this.delta_,a=r.getView();P1(a,o,s,this.duration_),i.preventDefault(),n=!0}return!n}}function Gp(t){const e=arguments;return function(n){let i=!0;for(let r=0,s=e.length;r<s&&(i=i&&e[r](n),!!i);++r);return i}}const HG=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},KG=function(t){const e=t.map.getTargetElement(),n=e.getRootNode(),i=t.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):e.contains(i)},HM=function(t){const e=t.map.getTargetElement(),n=e.getRootNode();return(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")?KG(t):!0},Up=is,KM=function(t){const e=t.originalEvent;return"pointerId"in e&&e.button==0&&!(u7&&gM&&e.ctrlKey)},jp=qa,YG=function(t){return t.type==Re.SINGLECLICK},I1=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},qG=function(t){const e=t.originalEvent;return gM?e.metaKey:e.ctrlKey},A1=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},YM=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},S0=function(t){const e=t.originalEvent;return"pointerId"in e&&e.pointerType=="mouse"},ZG=function(t){const e=t.originalEvent;return"pointerId"in e&&e.isPrimary&&e.button===0};class tl extends el{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Re.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Re.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Re.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,n=this.stopDown(i)}else e.type==Re.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function O1(t){const e=t.length;let n=0,i=0;for(let r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return{clientX:n/e,clientY:i/e}}class JG extends tl{constructor(e){super({stopDown:qa}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:Gp(I1,ZG);this.condition_=e.onFocusOnly?Gp(HM,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const i=this.targetPointers,r=n.getEventPixel(O1(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const s=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=e.map.getView();T7(s,a.getResolution()),i1(s,a.getRotation()),a.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=i.getCenterInternal(),a=n.getPixelFromCoordinateInternal(o),l=n.getCoordinateFromPixelInternal([a[0]-r*Math.cos(s),a[1]-r*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:Qa})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class QG extends tl{constructor(e){e=e||{},super({stopDown:qa}),this.condition_=e.condition?e.condition:HG,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!S0(e))return;const n=e.map,i=n.getView();if(i.getConstraints().rotation===T1)return;const r=n.getSize(),s=e.pixel,o=Math.atan2(r[1]/2-s[1],s[0]-r[0]/2);if(this.lastAngle_!==void 0){const a=o-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=o}handleUpEvent(e){return S0(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return S0(e)&&KM(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class e9 extends _c{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],n[0])+i,r.top=Math.min(e[1],n[1])+i,r.width=Math.abs(n[0]-e[0])+i,r.height=Math.abs(n[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,n=this.endPixel_,r=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new $i([r])}getGeometry(){return this.geometry_}}const ho={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class El extends mi{constructor(e,n,i){super(e),this.coordinate=n,this.mapBrowserEvent=i}}class t9 extends tl{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new e9(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??KM,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,i){const r=i[0]-n[0],s=i[1]-n[1];return r*r+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new El(ho.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new El(n?ho.BOXEND:ho.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new El(ho.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new El(ho.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new El(ho.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class n9 extends t9{constructor(e){e=e||{};const n=e.condition?e.condition:A1;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const s=i.rotatedExtentForGeometry(r),o=i.getResolutionForExtentInternal(s),a=i.getResolution()/o;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:Qa})}}const ws={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class i9 extends el{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return I1(n)&&YM(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==ae.KEYDOWN){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==ws.DOWN||r==ws.LEFT||r==ws.RIGHT||r==ws.UP)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let l=0,u=0;r==ws.DOWN?u=-a:r==ws.LEFT?l=-a:r==ws.RIGHT?l=a:u=a;const c=[l,u];i1(c,o.getRotation()),WG(o,c,this.duration_),i.preventDefault(),n=!0}}return!n}}class r9 extends el{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!qG(n)&&YM(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==ae.KEYDOWN||e.type==ae.KEYPRESS){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){const s=e.map,o=r==="+"?this.delta_:-this.delta_,a=s.getView();P1(a,o,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}}const s9=40,o9=300;class a9 extends el{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:Up;this.condition_=e.onFocusOnly?Gp(HM,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==ae.WHEEL)return!0;const i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let s=r.deltaY;switch(r.deltaMode){case WheelEvent.DOM_DELTA_LINE:s*=s9;break;case WheelEvent.DOM_DELTA_PAGE:s*=o9;break}if(s===0)return!1;this.lastDelta_=s;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=o,!1;this.totalDelta_+=s;const l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let i=-Oe(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),P1(n,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class l9 extends tl{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=qa),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const i=this.targetPointers[0],r=this.targetPointers[1],s=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){const l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=s;const o=e.map,a=o.getView();a.getConstraints().rotation!==T1&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(O1(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class u9 extends tl{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=qa),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const i=this.targetPointers[0],r=this.targetPointers[1],s=i.clientX-r.clientX,o=i.clientY-r.clientY,a=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(n=this.lastDistance_/a),this.lastDistance_=a;const l=e.map,u=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(O1(this.targetPointers))),l.render(),u.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function c9(t){t=t||{};const e=new ii,n=new VG(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new QG),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new XG({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new JG({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new l9),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new u9({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new i9),e.push(new r9({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new a9({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new n9({duration:t.zoomDuration})),e}const Ce={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class qM extends pi{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[Ce.OPACITY]=e.opacity!==void 0?e.opacity:1,Pe(typeof n[Ce.OPACITY]=="number","Layer opacity must be a number"),n[Ce.VISIBLE]=e.visible!==void 0?e.visible:!0,n[Ce.Z_INDEX]=e.zIndex,n[Ce.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[Ce.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[Ce.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[Ce.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return n.opacity=Oe(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return le()}getLayerStatesArray(e){return le()}getExtent(){return this.get(Ce.EXTENT)}getMaxResolution(){return this.get(Ce.MAX_RESOLUTION)}getMinResolution(){return this.get(Ce.MIN_RESOLUTION)}getMinZoom(){return this.get(Ce.MIN_ZOOM)}getMaxZoom(){return this.get(Ce.MAX_ZOOM)}getOpacity(){return this.get(Ce.OPACITY)}getSourceState(){return le()}getVisible(){return this.get(Ce.VISIBLE)}getZIndex(){return this.get(Ce.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Ce.EXTENT,e)}setMaxResolution(e){this.set(Ce.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Ce.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Ce.MAX_ZOOM,e)}setMinZoom(e){this.set(Ce.MIN_ZOOM,e)}setOpacity(e){Pe(typeof e=="number","Layer opacity must be a number"),this.set(Ce.OPACITY,e)}setVisible(e){this.set(Ce.VISIBLE,e)}setZIndex(e){this.set(Ce.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class Or extends mi{constructor(e,n){super(e),this.layer=n}}const C0={LAYERS:"layers"};class nl extends qM{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let i=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(C0.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new ii(i.slice(),{unique:!0}):Pe(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new ii(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Fe),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Ee(e,mt.ADD,this.handleLayersAdd_,this),Ee(e,mt.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Fe);ro(this.listenerKeys_);const n=e.getArray();for(let i=0,r=n.length;i<r;i++){const s=n[i];this.registerLayerListeners_(s),this.dispatchEvent(new Or("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[Ee(e,Ra.PROPERTYCHANGE,this.handleLayerChange_,this),Ee(e,ae.CHANGE,this.handleLayerChange_,this)];e instanceof nl&&n.push(Ee(e,"addlayer",this.handleLayerGroupAdd_,this),Ee(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[oe(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new Or("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Or("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new Or("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,i=oe(n);this.listenerKeys_[i].forEach(Fe),delete this.listenerKeys_[i],this.dispatchEvent(new Or("removelayer",n)),this.changed()}getLayers(){return this.get(C0.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const i=n.getArray();for(let r=0,s=i.length;r<s;++r)this.dispatchEvent(new Or("removelayer",i[r]))}this.set(C0.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],i=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const r=this.getLayerState();let s=r.zIndex;!e&&r.zIndex===void 0&&(s=0);for(let o=i,a=n.length;o<a;o++){const l=n[o];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=Xt(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=s)}return n}getSourceState(){return"ready"}}const pt={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class tg extends qM{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Ce.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Ce.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Fe(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Ee(e,ae.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof Gn?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;if(n.layerStatesArray){if(r=n.layerStatesArray.find(o=>o.layer===this),!r)return!1}else r=this.getLayerState();const s=this.getExtent();return L1(r,n.viewState)&&(!s||Vt(s,n.extent))}getAttributions(e){var s;if(!this.isVisible(e))return[];const n=(s=this.getSource())==null?void 0:s.getAttributions();if(!n)return[];const i=e instanceof Gn?e.getViewStateAndExtent():e;let r=n(i);return Array.isArray(r)||(r=[r]),r}render(e,n){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Ce.MAP,e)}getMapInternal(){return this.get(Ce.MAP)}setMap(e){this.mapPrecomposeKey_&&(Fe(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Fe(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Ee(e,pt.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=Ee(this,ae.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const n=e.frameState.layerStatesArray,i=this.getLayerState(!1);Pe(!n.some(r=>r.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(i)}setSource(e){this.set(Ce.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function L1(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}function ZM(t,e,n=0,i=t.length-1,r=h9){for(;i>n;){if(i-n>600){const l=i-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*h/l+f)),d=Math.min(i,Math.floor(e+(l-u)*h/l+f));ZM(t,e,g,d,r)}const s=t[e];let o=n,a=i;for(xl(t,n,e),r(t[i],s)>0&&xl(t,n,i);o<a;){for(xl(t,o,a),o++,a--;r(t[o],s)<0;)o++;for(;r(t[a],s)>0;)a--}r(t[n],s)===0?xl(t,n,a):(a++,xl(t,a,i)),a<=e&&(n=a+1),e<=a&&(i=a-1)}}function xl(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function h9(t,e){return t<e?-1:t>e?1:0}let JM=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const i=[];if(!hh(e,n))return i;const r=this.toBBox,s=[];for(;n;){for(let o=0;o<n.children.length;o++){const a=n.children[o],l=n.leaf?r(a):a;hh(e,l)&&(n.leaf?i.push(a):b0(e,l)?this._all(a,i):s.push(a))}n=s.pop()}return i}collides(e){let n=this.data;if(!hh(e,n))return!1;const i=[];for(;n;){for(let r=0;r<n.children.length;r++){const s=n.children[r],o=n.leaf?this.toBBox(s):s;if(hh(e,o)){if(n.leaf||b0(e,o))return!0;i.push(s)}}n=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Co([]),this}remove(e,n){if(!e)return this;let i=this.data;const r=this.toBBox(e),s=[],o=[];let a,l,u;for(;i||s.length;){if(i||(i=s.pop(),l=s[s.length-1],a=o.pop(),u=!0),i.leaf){const c=f9(e,i.children,n);if(c!==-1)return i.children.splice(c,1),s.push(i),this._condense(s),this}!u&&!i.leaf&&b0(i,r)?(s.push(i),o.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],u=!1):i=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const i=[];for(;e;)e.leaf?n.push(...e.children):i.push(...e.children),e=i.pop();return n}_build(e,n,i,r){const s=i-n+1;let o=this._maxEntries,a;if(s<=o)return a=Co(e.slice(n,i+1)),fo(a,this.toBBox),a;r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),a=Co([]),a.leaf=!1,a.height=r;const l=Math.ceil(s/o),u=l*Math.ceil(Math.sqrt(o));_2(e,n,i,u,this.compareMinX);for(let c=n;c<=i;c+=u){const h=Math.min(c+u-1,i);_2(e,c,h,l,this.compareMinY);for(let f=c;f<=h;f+=l){const g=Math.min(f+l-1,h);a.children.push(this._build(e,f,g,r-1))}}return fo(a,this.toBBox),a}_chooseSubtree(e,n,i,r){for(;r.push(n),!(n.leaf||r.length-1===i);){let s=1/0,o=1/0,a;for(let l=0;l<n.children.length;l++){const u=n.children[l],c=T0(u),h=m9(e,u)-c;h<o?(o=h,s=c<s?c:s,a=u):h===o&&c<s&&(s=c,a=u)}n=a||n.children[0]}return n}_insert(e,n,i){const r=i?e:this.toBBox(e),s=[],o=this._chooseSubtree(r,this.data,n,s);for(o.children.push(e),Fl(o,r);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(r,s,n)}_split(e,n){const i=e[n],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);const o=this._chooseSplitIndex(i,s,r),a=Co(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,fo(i,this.toBBox),fo(a,this.toBBox),n?e[n-1].children.push(a):this._splitRoot(i,a)}_splitRoot(e,n){this.data=Co([e,n]),this.data.height=e.height+1,this.data.leaf=!1,fo(this.data,this.toBBox)}_chooseSplitIndex(e,n,i){let r,s=1/0,o=1/0;for(let a=n;a<=i-n;a++){const l=kl(e,0,a,this.toBBox),u=kl(e,a,i,this.toBBox),c=p9(l,u),h=T0(l)+T0(u);c<s?(s=c,r=a,o=h<o?h:o):c===s&&h<o&&(o=h,r=a)}return r||i-n}_chooseSplitAxis(e,n,i){const r=e.leaf?this.compareMinX:d9,s=e.leaf?this.compareMinY:g9,o=this._allDistMargin(e,n,i,r),a=this._allDistMargin(e,n,i,s);o<a&&e.children.sort(r)}_allDistMargin(e,n,i,r){e.children.sort(r);const s=this.toBBox,o=kl(e,0,n,s),a=kl(e,i-n,i,s);let l=ch(o)+ch(a);for(let u=n;u<i-n;u++){const c=e.children[u];Fl(o,e.leaf?s(c):c),l+=ch(o)}for(let u=i-n-1;u>=n;u--){const c=e.children[u];Fl(a,e.leaf?s(c):c),l+=ch(a)}return l}_adjustParentBBoxes(e,n,i){for(let r=i;r>=0;r--)Fl(n[r],e)}_condense(e){for(let n=e.length-1,i;n>=0;n--)e[n].children.length===0?n>0?(i=e[n-1].children,i.splice(i.indexOf(e[n]),1)):this.clear():fo(e[n],this.toBBox)}};function f9(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function fo(t,e){kl(t,0,t.children.length,e,t)}function kl(t,e,n,i,r){r||(r=Co(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=e;s<n;s++){const o=t.children[s];Fl(r,t.leaf?i(o):o)}return r}function Fl(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function d9(t,e){return t.minX-e.minX}function g9(t,e){return t.minY-e.minY}function T0(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ch(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m9(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function p9(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,s-i)}function b0(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function hh(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Co(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _2(t,e,n,i,r){const s=[e,n];for(;s.length;){if(n=s.pop(),e=s.pop(),n-e<=i)continue;const o=e+Math.ceil((n-e)/i/2)*i;ZM(t,o,e,n,r),s.push(e,o,o,n)}}const k1=[NaN,NaN,NaN,0];let M0;function _9(){return M0||(M0=Ze(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),M0}const y9=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,v9=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,E9=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,x9=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function fh(t,e){return t.endsWith("%")?Number(t.substring(0,t.length-1))/e:Number(t)}function iu(t){throw new Error('failed to parse "'+t+'" as color')}function QM(t){if(t.toLowerCase().startsWith("rgb")){const s=t.match(v9)||t.match(y9)||t.match(E9);if(s){const o=s[4],a=100/255;return[Oe(fh(s[1],a)+.5|0,0,255),Oe(fh(s[2],a)+.5|0,0,255),Oe(fh(s[3],a)+.5|0,0,255),o!==void 0?Oe(fh(o,100),0,1):1]}iu(t)}if(t.startsWith("#")){if(x9.test(t)){const s=t.substring(1),o=s.length<=4?1:2,a=[0,0,0,255];for(let l=0,u=s.length;l<u;l+=o){let c=parseInt(s.substring(l,l+o),16);o===1&&(c+=c<<4),a[l/o]=c}return a[3]=a[3]/255,a}iu(t)}const e=_9();e.fillStyle="#abcdef";let n=e.fillStyle;e.fillStyle=t,e.fillStyle===n&&(e.fillStyle="#fedcba",n=e.fillStyle,e.fillStyle=t,e.fillStyle===n&&iu(t));const i=e.fillStyle;if(i.startsWith("#")||i.startsWith("rgba"))return QM(i);e.clearRect(0,0,1,1),e.fillRect(0,0,1,1);const r=Array.from(e.getImageData(0,0,1,1).data);return r[3]=Ec(r[3]/255,3),r}function w9(t){return typeof t=="string"?t:D1(t)}const S9=1024,wl={};let R0=0;function C9(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function P0(t){return t>.0031308?Math.pow(t,1/2.4)*269.025-14.025:t*3294.6}function I0(t){return t>.2068965?Math.pow(t,3):(t-4/29)*(108/841)}function A0(t){return t>10.314724?Math.pow((t+14.025)/269.025,2.4):t/3294.6}function O0(t){return t>.0088564?Math.pow(t,1/3):t/(108/841)+4/29}function y2(t){const e=A0(t[0]),n=A0(t[1]),i=A0(t[2]),r=O0(e*.222488403+n*.716873169+i*.06060791),s=500*(O0(e*.452247074+n*.399439023+i*.148375274)-r),o=200*(r-O0(e*.016863605+n*.117638439+i*.865350722)),a=Math.atan2(o,s)*(180/Math.PI);return[116*r-16,Math.sqrt(s*s+o*o),a<0?a+360:a,t[3]]}function T9(t){const e=(t[0]+16)/116,n=t[1],i=t[2]*Math.PI/180,r=I0(e),s=I0(e+n/500*Math.cos(i)),o=I0(e-n/200*Math.sin(i)),a=P0(s*3.021973625-r*1.617392459-o*.404875592),l=P0(s*-.943766287+r*1.916279586+o*.027607165),u=P0(s*.069407491-r*.22898585+o*1.159737864);return[Oe(a+.5|0,0,255),Oe(l+.5|0,0,255),Oe(u+.5|0,0,255),t[3]]}function F1(t){if(t==="none")return k1;if(wl.hasOwnProperty(t))return wl[t];if(R0>=S9){let n=0;for(const i in wl)n++&3||(delete wl[i],--R0)}const e=QM(t);e.length!==4&&iu(t);for(const n of e)isNaN(n)&&iu(t);return wl[t]=e,++R0,e}function ss(t){return Array.isArray(t)?t:F1(t)}function D1(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let i=t[2];i!=(i|0)&&(i=i+.5|0);const r=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+i+","+r+")"}function v2(t){return t[0]>0&&t[1]>0}function b9(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function nt(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}let ao=0;const Dt=1<<ao++,he=1<<ao++,Bt=1<<ao++,yn=1<<ao++,os=1<<ao++,Ho=1<<ao++,dh=Math.pow(2,ao)-1,N1={[Dt]:"boolean",[he]:"number",[Bt]:"string",[yn]:"color",[os]:"number[]",[Ho]:"size"},M9=Object.keys(N1).map(Number).sort(ir);function R9(t){return t in N1}function Ko(t){const e=[];for(const n of M9)Dl(t,n)&&e.push(N1[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function Dl(t,e){return(t&e)===e}function Cr(t,e){return t===e}class lt{constructor(e,n){if(!R9(e))throw new Error(`literal expressions must have a specific type, got ${Ko(e)}`);this.type=e,this.value=n}}class eR{constructor(e,n,...i){this.type=e,this.operator=n,this.args=i}}function G1(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function yt(t,e,n){switch(typeof t){case"boolean":{if(Cr(e,Bt))return new lt(Bt,t?"true":"false");if(!Dl(e,Dt))throw new Error(`got a boolean, but expected ${Ko(e)}`);return new lt(Dt,t)}case"number":{if(Cr(e,Ho))return new lt(Ho,nt(t));if(Cr(e,Dt))return new lt(Dt,!!t);if(Cr(e,Bt))return new lt(Bt,t.toString());if(!Dl(e,he))throw new Error(`got a number, but expected ${Ko(e)}`);return new lt(he,t)}case"string":{if(Cr(e,yn))return new lt(yn,F1(t));if(Cr(e,Dt))return new lt(Dt,!!t);if(!Dl(e,Bt))throw new Error(`got a string, but expected ${Ko(e)}`);return new lt(Bt,t)}}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(t.length===0)throw new Error("empty expression");if(typeof t[0]=="string")return U9(t,e,n);for(const i of t)if(typeof i!="number")throw new Error("expected an array of numbers");if(Cr(e,Ho)){if(t.length!==2)throw new Error(`expected an array of two values for a size, got ${t.length}`);return new lt(Ho,t)}if(Cr(e,yn)){if(t.length===3)return new lt(yn,[...t,1]);if(t.length===4)return new lt(yn,t);throw new Error(`expected an array of 3 or 4 values for a color, got ${t.length}`)}if(!Dl(e,os))throw new Error(`got an array of numbers, but expected ${Ko(e)}`);return new lt(os,t)}const I={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},P9={[I.Get]:ue(de(1,1/0),E2),[I.Var]:ue(de(1,1),I9),[I.Has]:ue(de(1,1/0),E2),[I.Id]:ue(A9,go),[I.Concat]:ue(de(2,1/0),Te(Bt)),[I.GeometryType]:ue(O9,go),[I.LineMetric]:ue(go),[I.Resolution]:ue(L0,go),[I.Zoom]:ue(L0,go),[I.Time]:ue(L0,go),[I.Any]:ue(de(2,1/0),Te(Dt)),[I.All]:ue(de(2,1/0),Te(Dt)),[I.Not]:ue(de(1,1),Te(Dt)),[I.Equal]:ue(de(2,2),Te(dh)),[I.NotEqual]:ue(de(2,2),Te(dh)),[I.GreaterThan]:ue(de(2,2),Te(he)),[I.GreaterThanOrEqualTo]:ue(de(2,2),Te(he)),[I.LessThan]:ue(de(2,2),Te(he)),[I.LessThanOrEqualTo]:ue(de(2,2),Te(he)),[I.Multiply]:ue(de(2,1/0),x2),[I.Coalesce]:ue(de(2,1/0),x2),[I.Divide]:ue(de(2,2),Te(he)),[I.Add]:ue(de(2,1/0),Te(he)),[I.Subtract]:ue(de(2,2),Te(he)),[I.Clamp]:ue(de(3,3),Te(he)),[I.Mod]:ue(de(2,2),Te(he)),[I.Pow]:ue(de(2,2),Te(he)),[I.Abs]:ue(de(1,1),Te(he)),[I.Floor]:ue(de(1,1),Te(he)),[I.Ceil]:ue(de(1,1),Te(he)),[I.Round]:ue(de(1,1),Te(he)),[I.Sin]:ue(de(1,1),Te(he)),[I.Cos]:ue(de(1,1),Te(he)),[I.Atan]:ue(de(1,2),Te(he)),[I.Sqrt]:ue(de(1,1),Te(he)),[I.Match]:ue(de(4,1/0),w2,k9),[I.Between]:ue(de(3,3),Te(he)),[I.Interpolate]:ue(de(6,1/0),w2,F9),[I.Case]:ue(de(3,1/0),L9,D9),[I.In]:ue(de(2,2),N9),[I.Number]:ue(de(1,1/0),Te(dh)),[I.String]:ue(de(1,1/0),Te(dh)),[I.Array]:ue(de(1,1/0),Te(he)),[I.Color]:ue(de(1,4),Te(he)),[I.Band]:ue(de(1,3),Te(he)),[I.Palette]:ue(de(2,2),G9),[I.ToString]:ue(de(1,1),Te(Dt|he|Bt|yn))};function E2(t,e,n){const i=t.length-1,r=new Array(i);for(let s=0;s<i;++s){const o=t[s+1];switch(typeof o){case"number":{r[s]=new lt(he,o);break}case"string":{r[s]=new lt(Bt,o);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${o}`)}s===0&&n.properties.add(String(o))}return r}function I9(t,e,n){const i=t[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return n.variables.add(i),[new lt(Bt,i)]}function A9(t,e,n){n.featureId=!0}function O9(t,e,n){n.geometryType=!0}function L0(t,e,n){n.mapState=!0}function go(t,e,n){const i=t[0];if(t.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function de(t,e){return function(n,i,r){const s=n[0],o=n.length-1;if(t===e){if(o!==t){const a=t===1?"":"s";throw new Error(`expected ${t} argument${a} for ${s}, got ${o}`)}}else if(o<t||o>e){const a=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`expected ${a} arguments for ${s}, got ${o}`)}}}function x2(t,e,n){const i=t.length-1,r=new Array(i);for(let s=0;s<i;++s){const o=yt(t[s+1],e,n);r[s]=o}return r}function Te(t){return function(e,n,i){const r=e.length-1,s=new Array(r);for(let o=0;o<r;++o){const a=yt(e[o+1],t,i);s[o]=a}return s}}function L9(t,e,n){const i=t[0],r=t.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function w2(t,e,n){const i=t[0],r=t.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function k9(t,e,n){const i=t.length-1,r=Bt|he|Dt,s=yt(t[1],r,n),o=yt(t[t.length-1],e,n),a=new Array(i-2);for(let l=0;l<i-2;l+=2){try{const u=yt(t[l+2],s.type,n);a[l]=u}catch(u){throw new Error(`failed to parse argument ${l+1} of match expression: ${u.message}`)}try{const u=yt(t[l+3],o.type,n);a[l+1]=u}catch(u){throw new Error(`failed to parse argument ${l+2} of match expression: ${u.message}`)}}return[s,...a,o]}function F9(t,e,n){const i=t[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const l=i[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);r=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const s=new lt(he,r);let o;try{o=yt(t[2],he,n)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}const a=new Array(t.length-3);for(let l=0;l<a.length;l+=2){try{const u=yt(t[l+3],he,n);a[l]=u}catch(u){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${u.message}`)}try{const u=yt(t[l+4],e,n);a[l+1]=u}catch(u){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${u.message}`)}}return[s,o,...a]}function D9(t,e,n){const i=yt(t[t.length-1],e,n),r=new Array(t.length-1);for(let s=0;s<r.length-1;s+=2){try{const o=yt(t[s+1],Dt,n);r[s]=o}catch(o){throw new Error(`failed to parse argument ${s} of case expression: ${o.message}`)}try{const o=yt(t[s+2],i.type,n);r[s+1]=o}catch(o){throw new Error(`failed to parse argument ${s+1} of case expression: ${o.message}`)}}return r[r.length-1]=i,r}function N9(t,e,n){let i=t[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=Bt}else r=he;const s=new Array(i.length);for(let a=0;a<s.length;a++)try{const l=yt(i[a],r,n);s[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[yt(t[1],r,n),...s]}function G9(t,e,n){let i;try{i=yt(t[1],he,n)}catch(o){throw new Error(`failed to parse first argument in palette expression: ${o.message}`)}const r=t[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const s=new Array(r.length);for(let o=0;o<s.length;o++){let a;try{a=yt(r[o],yn,n)}catch(l){throw new Error(`failed to parse color at index ${o} in palette expression: ${l.message}`)}if(!(a instanceof lt))throw new Error(`the palette color at index ${o} must be a literal value`);s[o]=a}return[i,...s]}function ue(...t){return function(e,n,i){const r=e[0];let s;for(let o=0;o<t.length;o++){const a=t[o](e,n,i);if(o==t.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");s=a}}return new eR(n,r,...s)}}function U9(t,e,n){const i=t[0],r=P9[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(t,e,n)}function tR(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return tR(t.getGeometries()[0]);default:return""}}function nR(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function vr(t,e,n){const i=yt(t,e,n);return fi(i)}function fi(t,e){if(t instanceof lt){if(t.type===yn&&typeof t.value=="string"){const i=F1(t.value);return function(){return i}}return function(){return t.value}}const n=t.operator;switch(n){case I.Number:case I.String:case I.Coalesce:return j9(t);case I.Get:case I.Var:case I.Has:return $9(t);case I.Id:return i=>i.featureId;case I.GeometryType:return i=>i.geometryType;case I.Concat:{const i=t.args.map(r=>fi(r));return r=>"".concat(...i.map(s=>s(r).toString()))}case I.Resolution:return i=>i.resolution;case I.Any:case I.All:case I.Between:case I.In:case I.Not:return B9(t);case I.Equal:case I.NotEqual:case I.LessThan:case I.LessThanOrEqualTo:case I.GreaterThan:case I.GreaterThanOrEqualTo:return z9(t);case I.Multiply:case I.Divide:case I.Add:case I.Subtract:case I.Clamp:case I.Mod:case I.Pow:case I.Abs:case I.Floor:case I.Ceil:case I.Round:case I.Sin:case I.Cos:case I.Atan:case I.Sqrt:return V9(t);case I.Case:return W9(t);case I.Match:return X9(t);case I.Interpolate:return H9(t);case I.ToString:return K9(t);default:throw new Error(`Unsupported operator ${n}`)}}function j9(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=fi(t.args[s]);switch(n){case I.Coalesce:return s=>{for(let o=0;o<i;++o){const a=r[o](s);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case I.Number:case I.String:return s=>{for(let o=0;o<i;++o){const a=r[o](s);if(typeof a===n)return a}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function $9(t,e){const i=t.args[0].value;switch(t.operator){case I.Get:return r=>{const s=t.args;let o=r.properties[i];for(let a=1,l=s.length;a<l;++a){const c=s[a].value;o=o[c]}return o};case I.Var:return r=>r.variables[i];case I.Has:return r=>{const s=t.args;if(!(i in r.properties))return!1;let o=r.properties[i];for(let a=1,l=s.length;a<l;++a){const c=s[a].value;if(!o||!Object.hasOwn(o,c))return!1;o=o[c]}return!0};default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function z9(t,e){const n=t.operator,i=fi(t.args[0]),r=fi(t.args[1]);switch(n){case I.Equal:return s=>i(s)===r(s);case I.NotEqual:return s=>i(s)!==r(s);case I.LessThan:return s=>i(s)<r(s);case I.LessThanOrEqualTo:return s=>i(s)<=r(s);case I.GreaterThan:return s=>i(s)>r(s);case I.GreaterThanOrEqualTo:return s=>i(s)>=r(s);default:throw new Error(`Unsupported comparison operator ${n}`)}}function B9(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=fi(t.args[s]);switch(n){case I.Any:return s=>{for(let o=0;o<i;++o)if(r[o](s))return!0;return!1};case I.All:return s=>{for(let o=0;o<i;++o)if(!r[o](s))return!1;return!0};case I.Between:return s=>{const o=r[0](s),a=r[1](s),l=r[2](s);return o>=a&&o<=l};case I.In:return s=>{const o=r[0](s);for(let a=1;a<i;++a)if(o===r[a](s))return!0;return!1};case I.Not:return s=>!r[0](s);default:throw new Error(`Unsupported logical operator ${n}`)}}function V9(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=fi(t.args[s]);switch(n){case I.Multiply:return s=>{let o=1;for(let a=0;a<i;++a)o*=r[a](s);return o};case I.Divide:return s=>r[0](s)/r[1](s);case I.Add:return s=>{let o=0;for(let a=0;a<i;++a)o+=r[a](s);return o};case I.Subtract:return s=>r[0](s)-r[1](s);case I.Clamp:return s=>{const o=r[0](s),a=r[1](s);if(o<a)return a;const l=r[2](s);return o>l?l:o};case I.Mod:return s=>r[0](s)%r[1](s);case I.Pow:return s=>Math.pow(r[0](s),r[1](s));case I.Abs:return s=>Math.abs(r[0](s));case I.Floor:return s=>Math.floor(r[0](s));case I.Ceil:return s=>Math.ceil(r[0](s));case I.Round:return s=>Math.round(r[0](s));case I.Sin:return s=>Math.sin(r[0](s));case I.Cos:return s=>Math.cos(r[0](s));case I.Atan:return i===2?s=>Math.atan2(r[0](s),r[1](s)):s=>Math.atan(r[0](s));case I.Sqrt:return s=>Math.sqrt(r[0](s));default:throw new Error(`Unsupported numeric operator ${n}`)}}function W9(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=fi(t.args[r]);return r=>{for(let s=0;s<n-1;s+=2)if(i[s](r))return i[s+1](r);return i[n-1](r)}}function X9(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=fi(t.args[r]);return r=>{const s=i[0](r);for(let o=1;o<n-1;o+=2)if(s===i[o](r))return i[o+1](r);return i[n-1](r)}}function H9(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=fi(t.args[r]);return r=>{const s=i[0](r),o=i[1](r);let a,l;for(let u=2;u<n;u+=2){const c=i[u](r);let h=i[u+1](r);const f=Array.isArray(h);if(f&&(h=C9(h)),c>=o)return u===2?h:f?Y9(s,o,a,l,c,h):Nl(s,o,a,l,c,h);a=c,l=h}return l}}function K9(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=fi(t.args[s]);switch(n){case I.ToString:return s=>{const o=r[0](s);return t.args[0].type===yn?D1(o):o.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function Nl(t,e,n,i,r,s){const o=r-n;if(o===0)return i;const a=e-n,l=t===1?a/o:(Math.pow(t,a)-1)/(Math.pow(t,o)-1);return i+l*(s-i)}function Y9(t,e,n,i,r,s){if(r-n===0)return i;const a=y2(i),l=y2(s);let u=l[2]-a[2];u>180?u-=360:u<-180&&(u+=360);const c=[Nl(t,e,n,a[0],r,l[0]),Nl(t,e,n,a[1],r,l[1]),a[2]+Nl(t,e,n,0,r,u),Nl(t,e,n,i[3],r,s[3])];return T9(c)}const pe={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function q9(t,e,n){const i=t;let r=!0,s=!1,o=!1;const a=[$f(i,ae.LOAD,function(){o=!0,s||e()})];return i.src&&mM?(s=!0,i.decode().then(function(){r&&e()}).catch(function(l){r&&(o?e():n())})):a.push($f(i,ae.ERROR,n)),function(){r=!1,a.forEach(Fe)}}function Z9(t,e){return new Promise((n,i)=>{function r(){o(),n(t)}function s(){o(),i(new Error("Image load error"))}function o(){t.removeEventListener("load",r),t.removeEventListener("error",s)}t.addEventListener("load",r),t.addEventListener("error",s)})}function J9(t,e){return e&&(t.src=e),t.src&&mM?new Promise((n,i)=>t.decode().then(()=>n(t)).catch(r=>t.complete&&t.width?n(t):i(r))):Z9(t)}class Q9{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const i=this.cache_[n];!(e++&3)&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,i){const r=k0(e,n,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,n,i){const r=k0(e,n,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,n,i,r,s){const o=k0(e,n,i),a=o in this.cache_;this.cache_[o]=r,s&&(r.getImageState()===pe.IDLE&&r.load(),r.getImageState()===pe.LOADING?r.ready().then(()=>{this.patternCache_[o]=Jf().createPattern(r.getImage(1),"repeat")}):this.patternCache_[o]=Jf().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function k0(t,e,n){const i=n?ss(n):"null";return e+":"+t+":"+i}const $n=new Q9;let Sl=null;class iR extends yc{constructor(e,n,i,r,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=s,this.imageState_=r===void 0?pe.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===pe.LOADED){Sl||(Sl=Ze(1,1,void 0,{willReadFrequently:!0})),Sl.drawImage(this.image_,0,0);try{Sl.getImageData(0,0,1,1),this.tainted_=!1}catch{Sl=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(ae.CHANGE)}handleImageError_(){this.imageState_=pe.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=pe.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],i=Ze(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===pe.IDLE){this.image_||this.initializeImage_(),this.imageState_=pe.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&J9(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==pe.LOADED)return;const n=this.image_,i=Ze(Math.ceil(n.width*e),Math.ceil(n.height*e)),r=i.canvas;i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=w9(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===pe.LOADED||this.imageState_===pe.ERROR)e();else{const n=()=>{(this.imageState_===pe.LOADED||this.imageState_===pe.ERROR)&&(this.removeEventListener(ae.CHANGE,n),e())};this.addEventListener(ae.CHANGE,n)}})),this.ready_}}function U1(t,e,n,i,r,s){let o=e===void 0?void 0:$n.get(e,n,r);return o||(o=new iR(t,t&&"src"in t?t.src||void 0:e,n,i,r),$n.set(e,n,r,o,s)),s&&o&&!$n.getPattern(e,n,r)&&$n.set(e,n,r,o,s),o}function Oi(t){return t?Array.isArray(t)?D1(t):typeof t=="object"&&"src"in t?eU(t):t:null}function eU(t){if(!t.offset||!t.size)return $n.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=$n.getPattern(e,void 0,t.color);if(n)return n;const i=$n.get(t.src,"anonymous",null);if(i.getImageState()!==pe.LOADED)return null;const r=Ze(t.size[0],t.size[1]);return r.drawImage(i.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),U1(r.canvas,e,void 0,pe.LOADED,t.color,!0),$n.getPattern(e,void 0,t.color)}const rR="10px sans-serif",nn="#000",Aa="round",sr=[],or=0,Oa="round",ju=10,$u="#000",zu="center",Qf="middle",Fs=[0,0,0,0],Bu=1,To=new pi;let Cl=null,S2;const $p={},tU=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function nU(t,e,n){return`${t} ${e} 16px "${n}"`}const iU=function(){let e,n;async function i(s){await n.ready;const o=await n.load(s);if(o.length===0)return!1;const a=Dp(s),l=a.families[0].toLowerCase(),u=a.weight;return o.some(c=>{const h=c.family.replace(/^['"]|['"]$/g,"").toLowerCase(),f=Fp[c.weight]||c.weight;return h===l&&c.style===a.style&&f==u})}async function r(){await n.ready;let s=!0;const o=To.getProperties(),a=Object.keys(o).filter(l=>o[l]<100);for(let l=a.length-1;l>=0;--l){const u=a[l];let c=o[u];c<100&&(await i(u)?(ro($p),To.set(u,100)):(c+=10,To.set(u,c,!0),c<100&&(s=!1)))}e=void 0,s||(e=setTimeout(r,100))}return async function(s){n||(n=Bd?self.fonts:document.fonts);const o=Dp(s);if(!o)return;const a=o.families;let l=!1;for(const u of a){if(tU.has(u))continue;const c=nU(o.style,o.weight,u);To.get(c)===void 0&&(To.set(c,0,!0),l=!0)}l&&(clearTimeout(e),e=setTimeout(r,100))}}(),rU=function(){let t;return function(e){let n=$p[e];if(n==null){if(Bd){const i=Dp(e),r=sR(e,"g");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);$p[e]=n}return n}}();function sR(t,e){return Cl||(Cl=Ze(1,1)),t!=S2&&(Cl.font=t,S2=Cl.font),Cl.measureText(e)}function oR(t,e){return sR(t,e).width}function C2(t,e,n){if(e in n)return n[e];const i=e.split(`
`).reduce((r,s)=>Math.max(r,oR(t,s)),0);return n[e]=i,i}function sU(t,e){const n=[],i=[],r=[];let s=0,o=0,a=0,l=0;for(let u=0,c=e.length;u<=c;u+=2){const h=e[u];if(h===`
`||u===c){s=Math.max(s,o),r.push(o),o=0,a+=l,l=0;continue}const f=e[u+1]||t.font,g=oR(f,h);n.push(g),o+=g;const d=rU(f);i.push(d),l=Math.max(l,d)}return{width:s,height:a,widths:n,heights:i,lineWidths:r}}function oU(t,e,n,i,r,s,o,a,l,u,c){t.save(),n!==1&&(t.globalAlpha===void 0?t.globalAlpha=h=>h.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),i.contextInstructions?(t.translate(l,u),t.scale(c[0],c[1]),aU(i,t)):c[0]<0||c[1]<0?(t.translate(l,u),t.scale(c[0],c[1]),t.drawImage(i,r,s,o,a,0,0,o,a)):t.drawImage(i,r,s,o,a,l,u,o*c[0],a*c[1]),t.restore()}function aU(t,e){const n=t.contextInstructions;for(let i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}class ng{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=nt(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new ng({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return le()}getImage(e){return le()}getHitDetectionImage(){return le()}getPixelRatio(e){return 1}getImageState(){return le()}getImageSize(){return le()}getOrigin(){return le()}getSize(){return le()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=nt(e)}listenImageChange(e){le()}load(){le()}unlistenImageChange(e){le()}ready(){return Promise.resolve()}}class ig extends ng{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?pe.LOADING:pe.LOADED,this.imageState_===pe.LOADING&&this.ready().then(()=>this.imageState_=pe.LOADED),this.render()}clone(){const e=this.getScale(),n=new ig({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-n[0]/i[0],e[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){var s,o;const n=(s=this.fill_)==null?void 0:s.getKey(),i=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let r=(o=$n.get(i,null,null))==null?void 0:o.getImage(1);if(!r){const a=this.renderOptions_,l=Math.ceil(a.size*e),u=Ze(l,l);this.draw_(a,u,e),r=u.canvas,$n.set(i,null,null,new iR(r,void 0,null,pe.LOADED,null))}return r}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,i){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let r=this.radius,s=this.radius2_===void 0?r:this.radius2_;if(r<s){const S=r;r=s,s=S}const o=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/o,l=s*Math.sin(a),u=Math.sqrt(s*s-l*l),c=r-u,h=Math.sqrt(l*l+c*c),f=h/l;if(e==="miter"&&f<=i)return f*n;const g=n/2/f,d=n/2*(c/h),m=Math.sqrt((r+g)*(r+g)+d*d)-r;if(this.radius2_===void 0||e==="bevel")return m*2;const _=r*Math.sin(a),y=Math.sqrt(r*r-_*_),v=s-y,x=Math.sqrt(_*_+v*v)/_;if(x<=i){const S=x*n/2-s-r;return 2*Math.max(m,S)}return m*2}createRenderOptions(){let e=Aa,n=Oa,i=0,r=null,s=0,o,a=0;this.stroke_&&(o=Oi(this.stroke_.getColor()??$u),a=this.stroke_.getWidth()??Bu,r=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??Oa,e=this.stroke_.getLineCap()??Aa,i=this.stroke_.getMiterLimit()??ju);const l=this.calculateLineJoinSize_(n,a,i),u=Math.max(this.radius,this.radius2_||0),c=Math.ceil(2*u+l);return{strokeStyle:o,strokeWidth:a,size:c,lineCap:e,lineDash:r,lineDashOffset:s,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,i){if(n.scale(i,i),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=nn),n.fillStyle=Oi(r),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=ss(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(n=Ze(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const i=this.radius;if(n===1/0)e.arc(0,0,i,0,2*Math.PI);else{const r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);const s=this.angle_-Math.PI/2,o=2*Math.PI/n;for(let a=0;a<n;a++){const l=s+a*o,u=a%2===0?i:r;e.lineTo(u*Math.cos(l),u*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=nn,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class il extends ig{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new il({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius=e,this.render()}}class zi{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new zi({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=U1(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===pe.IDLE&&n.load(),n.getImageState()===pe.LOADING&&(this.patternImage_=n)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?oe(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:ss(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function T2(t,e,n,i){return n!==void 0&&i!==void 0?[n/t,i/e]:n!==void 0?n/t:i!==void 0?i/e:1}class Sc extends ng{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const o=e.img!==void 0?e.img:null;let a=e.src;Pe(!(a!==void 0&&o),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&o&&(a=o.src||oe(o)),Pe(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),Pe(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=pe.IDLE:o!==void 0&&("complete"in o?o.complete?l=o.src?pe.LOADED:pe.IDLE:l=pe.LOADING:l=pe.LOADED),this.color_=e.color!==void 0?ss(e.color):null,this.iconImage_=U1(o,a,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let u,c;if(e.size)[u,c]=e.size;else{const h=this.getImage(1);if(h.width&&h.height)u=h.width,c=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=e;const f=()=>{if(this.unlistenImageChange(f),!this.initialOptions_)return;const g=this.iconImage_.getSize();this.setScale(T2(g[0],g[1],e.width,e.height))};this.listenImageChange(f);return}}u!==void 0&&this.setScale(T2(u,c,e.width,e.height))}}clone(){let e,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new Sc({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==pe.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==pe.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(ae.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(ae.CHANGE,e)}ready(){return this.iconImage_.ready()}}class ar{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new ar({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class an{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=b2,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new an({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=b2,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function lU(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(Pe(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let F0=null;function aR(t,e){if(!F0){const n=new zi({color:"rgba(255,255,255,0.4)"}),i=new ar({color:"#3399CC",width:1.25});F0=[new an({image:new il({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return F0}function lR(){const t={},e=[255,255,255,1],n=[0,153,255,1],i=3;return t.Polygon=[new an({fill:new zi({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new an({stroke:new ar({color:e,width:i+2})}),new an({stroke:new ar({color:n,width:i})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new an({image:new il({radius:i*2,fill:new zi({color:n}),stroke:new ar({color:e,width:i/2})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function b2(t){return t.getGeometry()}const uU="#333";class j1{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=nt(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new zi({color:uU}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new j1({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=nt(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}function cU(t){return!0}function hU(t){const e=G1(),n=fU(t,e),i=nR();return function(r,s){if(i.properties=r.getPropertiesInternal(),i.resolution=s,e.featureId){const o=r.getId();o!==void 0?i.featureId=o:i.featureId=null}return e.geometryType&&(i.geometryType=tR(r.getGeometry())),n(i)}}function M2(t){const e=G1(),n=t.length,i=new Array(n);for(let o=0;o<n;++o)i[o]=zp(t[o],e);const r=nR(),s=new Array(n);return function(o,a){if(r.properties=o.getPropertiesInternal(),r.resolution=a,e.featureId){const u=o.getId();u!==void 0?r.featureId=u:r.featureId=null}let l=0;for(let u=0;u<n;++u){const c=i[u](r);c&&(s[l]=c,l+=1)}return s.length=l,s}}function fU(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r){const s=t[r],o="filter"in s?vr(s.filter,Dt,e):cU;let a;if(Array.isArray(s.style)){const l=s.style.length;a=new Array(l);for(let u=0;u<l;++u)a[u]=zp(s.style[u],e)}else a=[zp(s.style,e)];i[r]={filter:o,styles:a}}return function(r){const s=[];let o=!1;for(let a=0;a<n;++a){const l=i[a].filter;if(l(r)&&!(t[a].else&&o)){o=!0;for(const u of i[a].styles){const c=u(r);c&&s.push(c)}}}return s}}function zp(t,e){const n=Vu(t,"",e),i=Wu(t,"",e),r=dU(t,e),s=gU(t,e),o=sn(t,"z-index",e);if(!n&&!i&&!r&&!s&&!qs(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const a=new an;return function(l){let u=!0;if(n){const c=n(l);c&&(u=!1),a.setFill(c)}if(i){const c=i(l);c&&(u=!1),a.setStroke(c)}if(r){const c=r(l);c&&(u=!1),a.setText(c)}if(s){const c=s(l);c&&(u=!1),a.setImage(c)}return o&&a.setZIndex(o(l)),u?null:a}}function Vu(t,e,n){let i;if(e+"fill-pattern-src"in t)i=yU(t,e+"fill-",n);else{if(t[e+"fill-color"]==="none")return s=>null;i=$1(t,e+"fill-color",n)}if(!i)return null;const r=new zi;return function(s){const o=i(s);return o===k1?null:(r.setColor(o),r)}}function Wu(t,e,n){const i=sn(t,e+"stroke-width",n),r=$1(t,e+"stroke-color",n);if(!i&&!r)return null;const s=Qi(t,e+"stroke-line-cap",n),o=Qi(t,e+"stroke-line-join",n),a=uR(t,e+"stroke-line-dash",n),l=sn(t,e+"stroke-line-dash-offset",n),u=sn(t,e+"stroke-miter-limit",n),c=new ar;return function(h){if(r){const f=r(h);if(f===k1)return null;c.setColor(f)}if(i&&c.setWidth(i(h)),s){const f=s(h);if(f!=="butt"&&f!=="round"&&f!=="square")throw new Error("Expected butt, round, or square line cap");c.setLineCap(f)}if(o){const f=o(h);if(f!=="bevel"&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(f)}return a&&c.setLineDash(a(h)),l&&c.setLineDashOffset(l(h)),u&&c.setMiterLimit(u(h)),c}}function dU(t,e){const n="text-",i=Qi(t,n+"value",e);if(!i)return null;const r=Vu(t,n,e),s=Vu(t,n+"background-",e),o=Wu(t,n,e),a=Wu(t,n+"background-",e),l=Qi(t,n+"font",e),u=sn(t,n+"max-angle",e),c=sn(t,n+"offset-x",e),h=sn(t,n+"offset-y",e),f=ca(t,n+"overflow",e),g=Qi(t,n+"placement",e),d=sn(t,n+"repeat",e),p=rg(t,n+"scale",e),m=ca(t,n+"rotate-with-view",e),_=sn(t,n+"rotation",e),y=Qi(t,n+"align",e),v=Qi(t,n+"justify",e),E=Qi(t,n+"baseline",e),x=ca(t,n+"keep-upright",e),S=uR(t,n+"padding",e),w=sg(t,n+"declutter-mode"),C=new j1({declutterMode:w});return function(M){if(C.setText(i(M)),r&&C.setFill(r(M)),s&&C.setBackgroundFill(s(M)),o&&C.setStroke(o(M)),a&&C.setBackgroundStroke(a(M)),l&&C.setFont(l(M)),u&&C.setMaxAngle(u(M)),c&&C.setOffsetX(c(M)),h&&C.setOffsetY(h(M)),f&&C.setOverflow(f(M)),g){const b=g(M);if(b!=="point"&&b!=="line")throw new Error("Expected point or line for text-placement");C.setPlacement(b)}if(d&&C.setRepeat(d(M)),p&&C.setScale(p(M)),m&&C.setRotateWithView(m(M)),_&&C.setRotation(_(M)),y){const b=y(M);if(b!=="left"&&b!=="center"&&b!=="right"&&b!=="end"&&b!=="start")throw new Error("Expected left, right, center, start, or end for text-align");C.setTextAlign(b)}if(v){const b=v(M);if(b!=="left"&&b!=="right"&&b!=="center")throw new Error("Expected left, right, or center for text-justify");C.setJustify(b)}if(E){const b=E(M);if(b!=="bottom"&&b!=="top"&&b!=="middle"&&b!=="alphabetic"&&b!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");C.setTextBaseline(b)}return S&&C.setPadding(S(M)),x&&C.setKeepUpright(x(M)),C}}function gU(t,e){return"icon-src"in t?mU(t,e):"shape-points"in t?pU(t,e):"circle-radius"in t?_U(t,e):null}function mU(t,e){const n="icon-",i=n+"src",r=cR(t[i],i),s=ed(t,n+"anchor",e),o=rg(t,n+"scale",e),a=sn(t,n+"opacity",e),l=ed(t,n+"displacement",e),u=sn(t,n+"rotation",e),c=ca(t,n+"rotate-with-view",e),h=P2(t,n+"anchor-origin"),f=I2(t,n+"anchor-x-units"),g=I2(t,n+"anchor-y-units"),d=wU(t,n+"color"),p=EU(t,n+"cross-origin"),m=xU(t,n+"offset"),_=P2(t,n+"offset-origin"),y=td(t,n+"width"),v=td(t,n+"height"),E=vU(t,n+"size"),x=sg(t,n+"declutter-mode"),S=new Sc({src:r,anchorOrigin:h,anchorXUnits:f,anchorYUnits:g,color:d,crossOrigin:p,offset:m,offsetOrigin:_,height:v,width:y,size:E,declutterMode:x});return function(w){return a&&S.setOpacity(a(w)),l&&S.setDisplacement(l(w)),u&&S.setRotation(u(w)),c&&S.setRotateWithView(c(w)),o&&S.setScale(o(w)),s&&S.setAnchor(s(w)),S}}function pU(t,e){const n="shape-",i=n+"points",r=n+"radius",s=Bp(t[i],i),o=Bp(t[r],r),a=Vu(t,n,e),l=Wu(t,n,e),u=rg(t,n+"scale",e),c=ed(t,n+"displacement",e),h=sn(t,n+"rotation",e),f=ca(t,n+"rotate-with-view",e),g=td(t,n+"radius2"),d=td(t,n+"angle"),p=sg(t,n+"declutter-mode"),m=new ig({points:s,radius:o,radius2:g,angle:d,declutterMode:p});return function(_){return a&&m.setFill(a(_)),l&&m.setStroke(l(_)),c&&m.setDisplacement(c(_)),h&&m.setRotation(h(_)),f&&m.setRotateWithView(f(_)),u&&m.setScale(u(_)),m}}function _U(t,e){const n="circle-",i=Vu(t,n,e),r=Wu(t,n,e),s=sn(t,n+"radius",e),o=rg(t,n+"scale",e),a=ed(t,n+"displacement",e),l=sn(t,n+"rotation",e),u=ca(t,n+"rotate-with-view",e),c=sg(t,n+"declutter-mode"),h=new il({radius:5,declutterMode:c});return function(f){return s&&h.setRadius(s(f)),i&&h.setFill(i(f)),r&&h.setStroke(r(f)),a&&h.setDisplacement(a(f)),l&&h.setRotation(l(f)),u&&h.setRotateWithView(u(f)),o&&h.setScale(o(f)),h}}function sn(t,e,n){if(!(e in t))return;const i=vr(t[e],he,n);return function(r){return Bp(i(r),e)}}function Qi(t,e,n){if(!(e in t))return null;const i=vr(t[e],Bt,n);return function(r){return cR(i(r),e)}}function yU(t,e,n){const i=Qi(t,e+"pattern-src",n),r=R2(t,e+"pattern-offset",n),s=R2(t,e+"pattern-size",n),o=$1(t,e+"color",n);return function(a){return{src:i(a),offset:r&&r(a),size:s&&s(a),color:o&&o(a)}}}function ca(t,e,n){if(!(e in t))return null;const i=vr(t[e],Dt,n);return function(r){const s=i(r);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${e}`);return s}}function $1(t,e,n){if(!(e in t))return null;const i=vr(t[e],yn,n);return function(r){return hR(i(r),e)}}function uR(t,e,n){if(!(e in t))return null;const i=vr(t[e],os,n);return function(r){return Cc(i(r),e)}}function ed(t,e,n){if(!(e in t))return null;const i=vr(t[e],os,n);return function(r){const s=Cc(i(r),e);if(s.length!==2)throw new Error(`Expected two numbers for ${e}`);return s}}function R2(t,e,n){if(!(e in t))return null;const i=vr(t[e],os,n);return function(r){return fR(i(r),e)}}function rg(t,e,n){if(!(e in t))return null;const i=vr(t[e],os|he,n);return function(r){return SU(i(r),e)}}function td(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function vU(t,e){const n=t[e];if(n!==void 0){if(typeof n=="number")return nt(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function EU(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function P2(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function I2(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function xU(t,e){const n=t[e];if(n!==void 0)return Cc(n,e)}function sg(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function wU(t,e){const n=t[e];if(n!==void 0)return hR(n,e)}function Cc(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if(typeof t[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function cR(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function Bp(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function hR(t,e){if(typeof t=="string")return t;const n=Cc(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function fR(t,e){const n=Cc(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function SU(t,e){return typeof t=="number"?t:fR(t,e)}const A2={RENDER_ORDER:"renderOrder"};class dR extends tg{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(A2.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new JM(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(A2.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?aR:e;const n=CU(e);this.styleFunction_=e===null?void 0:lU(n),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function CU(t){if(t===void 0)return aR;if(!t)return null;if(typeof t=="function"||t instanceof an)return t;if(!Array.isArray(t))return M2([t]);if(t.length===0)return[];const e=t.length,n=t[0];if(n instanceof an){const r=new Array(e);for(let s=0;s<e;++s){const o=t[s];if(!(o instanceof an))throw new Error("Expected a list of style instances");r[s]=o}return r}if("style"in n){const r=new Array(e);for(let s=0;s<e;++s){const o=t[s];if(!("style"in o))throw new Error("Expected a list of rules with a style property");r[s]=o}return hU(r)}return M2(t)}class ru extends mi{constructor(e,n,i,r){super(e),this.inversePixelTransform=n,this.frameState=i,this.context=r}}class TU extends _c{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){le()}calculateMatrices2D(e){const n=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;hi(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),f1(r,i)}forEachFeatureAtCoordinate(e,n,i,r,s,o,a,l){let u;const c=n.viewState;function h(E,x,S,w){return s.call(o,x,E?S:null,w)}const f=c.projection,g=SM(e.slice(),f),d=[[0,0]];if(f.canWrapX()&&r){const E=f.getExtent(),x=xe(E);d.push([-x,0],[x,0])}const p=n.layerStatesArray,m=p.length,_=[],y=[];for(let E=0;E<d.length;E++)for(let x=m-1;x>=0;--x){const S=p[x],w=S.layer;if(w.hasRenderer()&&L1(S,c)&&a.call(l,w)){const C=w.getRenderer(),M=w.getSource();if(C&&M){const b=M.getWrapX()?g:e,L=h.bind(null,S.managed);y[0]=b[0]+d[E][0],y[1]=b[1]+d[E][1],u=C.forEachFeatureAtCoordinate(y,n,i,L,_)}if(u)return u}}if(_.length===0)return;const v=1/_.length;return _.forEach((E,x)=>E.distanceSq+=x*v),_.sort((E,x)=>E.distanceSq-x.distanceSq),_.some(E=>u=E.callback(E.feature,E.layer,E.geometry)),u}hasFeatureAtCoordinate(e,n,i,r,s,o){return this.forEachFeatureAtCoordinate(e,n,i,r,is,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(e){le()}scheduleExpireIconCache(e){$n.canExpireCache()&&e.postRenderFunctions.push(bU)}}function bU(t,e){$n.expire()}class MU extends TU{constructor(e){super(e),this.fontChangeListenerKey_=Ee(To,Ra.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Qd+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const i=this.getMap();if(i.hasListener(e)){const r=new ru(e,void 0,n);i.dispatchEvent(r)}}disposeInternal(){Fe(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(pt.PRECOMPOSE,e);const n=e.layerStatesArray.sort((a,l)=>a.zIndex-l.zIndex);n.some(a=>a.layer instanceof dR&&a.layer.getDeclutter())&&(e.declutter={});const r=e.viewState;this.children_.length=0;const s=[];let o=null;for(let a=0,l=n.length;a<l;++a){const u=n[a];e.layerIndex=a;const c=u.layer,h=c.getSourceState();if(!L1(u,r)||h!="ready"&&h!="undefined"){c.unrender();continue}const f=c.render(e,o);f&&(f!==o&&(this.children_.push(f),o=f),s.push(u))}this.declutter(e,s),UG(this.element_,this.children_),this.dispatchRenderEvent(pt.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let i=n.length-1;i>=0;--i){const r=n[i],s=r.layer;s.getDeclutter()&&s.renderDeclutter(e,r)}n.forEach(i=>i.layer.renderDeferred(e))}}}function gR(t){if(t instanceof tg){t.setMapInternal(null);return}t instanceof nl&&t.getLayers().forEach(gR)}function mR(t,e){if(t instanceof tg){t.setMapInternal(e);return}if(t instanceof nl){const n=t.getLayers().getArray();for(let i=0,r=n.length;i<r;++i)mR(n[i],e)}}let z1=class extends pi{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=RU(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:c7,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Gt(),this.pixelToCoordinateTransform_=Gt(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||BG(),this.interactions=n.interactions||c9({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new d7(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Ot.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Ot.VIEW,this.handleViewChanged_),this.addChangeListener(Ot.SIZE,this.handleSizeChanged_),this.addChangeListener(Ot.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const i=this;e.view&&!(e.view instanceof Gn)&&e.view.then(function(r){i.setView(new Gn(r))}),this.controls.addEventListener(mt.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(mt.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(mt.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(mt.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(mt.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(mt.REMOVE,r=>{const s=r.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){mR(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const s=i.hitTolerance!==void 0?i.hitTolerance:0,o=i.layerFilter!==void 0?i.layerFilter:is,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,s,a,n,null,o,null)}getFeaturesAtPixel(e,n){const i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},n),i}getAllLayers(){const e=[];function n(i){i.forEach(function(r){r instanceof nl?n(r.getLayers()):e.push(r)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const r=n.layerFilter!==void 0?n.layerFilter:is,s=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,o,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),r=this.getSize(),s=i.width/r[0],o=i.height/r[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-i.left)/s,(a.clientY-i.top)/o]}getTarget(){return this.get(Ot.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Yf(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?st(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Ot.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof ii){n.setLayers(e);return}const i=n.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const r=e[n];if(!r.visible)continue;const s=r.layer.getRenderer();if(s&&!s.ready)return!0;const o=r.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const n=ei(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?st(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Ot.SIZE)}getView(){return this.get(Ot.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,i,r){return g7(this.frameState_,e,n,i,r)}handleBrowserEvent(e,n){n=n||e.type;const i=new qi(n,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,i=n.type;if(i===bp.POINTERDOWN||i===ae.WHEEL||i===ae.KEYDOWN){const r=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=n.target,a=s instanceof ShadowRoot?s.host===o?s.host.ownerDocument:s:s===r?r.documentElement:s;if(this.overlayContainerStopEvent_.contains(o)||!a.contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const r=this.getInteractions().getArray().slice();for(let s=r.length-1;s>=0;s--){const o=r[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,s=r;if(e){const o=e.viewHints;if(o[kt.ANIMATING]||o[kt.INTERACTING]){const a=Date.now()-e.time>8;r=a?0:8,s=a?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(pt.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(pt.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new So(Zi.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new So(Zi.LOADSTART,this,e))));const i=this.postRenderFunctions_;if(e)for(let r=0,s=i.length;r<s;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Fe(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(ae.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(ae.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new MU(this)),this.mapBrowserEventHandler_=new h7(this,this.moveTolerance_);for(const s in Re)this.mapBrowserEventHandler_.addEventListener(Re[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(ae.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(ae.WHEEL,this.boundHandleBrowserEvent_,pM?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const s=n.getRootNode();i=s instanceof ShadowRoot?s.host:n}this.targetChangeHandlerKeys_=[Ee(i,ae.KEYDOWN,this.handleBrowserEvent,this),Ee(i,ae.KEYPRESS,this.handleBrowserEvent,this)];const r=n.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Fe(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Fe(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Ee(e,Ra.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Ee(e,ae.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Fe),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Or("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Ee(e,Ra.PROPERTYCHANGE,this.render,this),Ee(e,ae.CHANGE,this.render,this),Ee(e,"addlayer",this.handleLayerAdd_,this),Ee(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const e=this.frameState_.layerStatesArray;for(let n=0,i=e.length;n<i;++n){const r=e[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){gR(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),i=this.getView(),r=this.frameState_;let s=null;if(n!==void 0&&v2(n)&&i&&i.isDef()){const o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Pp(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:oe(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;s.nextExtent=Pp(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!Ja(this.previousExtent_)&&!ku(s.extent,this.previousExtent_))&&(this.dispatchEvent(new So(Zi.MOVESTART,this,r)),this.previousExtent_=Za(this.previousExtent_)),this.previousExtent_&&!s.viewHints[kt.ANIMATING]&&!s.viewHints[kt.INTERACTING]&&!ku(s.extent,this.previousExtent_)&&(this.dispatchEvent(new So(Zi.MOVEEND,this,s)),_M(s.extent,this.previousExtent_))),this.dispatchEvent(new So(Zi.POSTRENDER,this,s)),this.renderComplete_=(this.hasListener(Zi.LOADSTART)||this.hasListener(Zi.LOADEND)||this.hasListener(pt.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new Or("removelayer",n)),this.set(Ot.LAYERGROUP,e)}setSize(e){this.set(Ot.SIZE,e)}setTarget(e){this.set(Ot.TARGET,e)}setView(e){if(!e||e instanceof Gn){this.set(Ot.VIEW,e);return}this.set(Ot.VIEW,new Gn);const n=this;e.then(function(i){n.setView(new Gn(i))})}updateSize(){const e=this.getTargetElement();let n;if(e){const r=getComputedStyle(e),s=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),o=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(n=[Math.max(0,s),Math.max(0,o)],!v2(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&RM("No map visible because the map container's width or height are 0."))}const i=this.getSize();n&&(!i||!ys(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function RU(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new nl({layers:t.layers});n[Ot.LAYERGROUP]=i,n[Ot.TARGET]=t.target,n[Ot.VIEW]=t.view instanceof Gn?t.view:new Gn;let r;t.controls!==void 0&&(Array.isArray(t.controls)?r=new ii(t.controls.slice()):(Pe(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=t.controls));let s;t.interactions!==void 0&&(Array.isArray(t.interactions)?s=new ii(t.interactions.slice()):(Pe(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=t.interactions));let o;return t.overlays!==void 0?Array.isArray(t.overlays)?o=new ii(t.overlays.slice()):(Pe(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),o=t.overlays):o=new ii,{controls:r,interactions:s,keyboardEventTarget:e,overlays:o,values:n}}function rl(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function pR(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}function Vp(t,e,n,i,r,s,o){o=o??rl();const a=1/(t-e),l=1/(n-i),u=1/(r-s);return o[0]=-2*a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*l,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*u,o[11]=0,o[12]=(t+e)*a,o[13]=(i+n)*l,o[14]=(s+r)*u,o[15]=1,o}function O2(t,e,n,i,r){return r=r??rl(),r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e,r[3]=t[3]*e,r[4]=t[4]*n,r[5]=t[5]*n,r[6]=t[6]*n,r[7]=t[7]*n,r[8]=t[8]*i,r[9]=t[9]*i,r[10]=t[10]*i,r[11]=t[11]*i,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function PU(t,e,n,i,r){r=r??rl();let s,o,a,l,u,c,h,f,g,d,p,m;return t===r?(r[12]=t[0]*e+t[4]*n+t[8]*i+t[12],r[13]=t[1]*e+t[5]*n+t[9]*i+t[13],r[14]=t[2]*e+t[6]*n+t[10]*i+t[14],r[15]=t[3]*e+t[7]*n+t[11]*i+t[15]):(s=t[0],o=t[1],a=t[2],l=t[3],u=t[4],c=t[5],h=t[6],f=t[7],g=t[8],d=t[9],p=t[10],m=t[11],r[0]=s,r[1]=o,r[2]=a,r[3]=l,r[4]=u,r[5]=c,r[6]=h,r[7]=f,r[8]=g,r[9]=d,r[10]=p,r[11]=m,r[12]=s*e+u*n+g*i+t[12],r[13]=o*e+c*n+d*i+t[13],r[14]=a*e+h*n+p*i+t[14],r[15]=l*e+f*n+m*i+t[15]),r}function IU(t,e,n,i){return i=i??rl(),i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=t,i[13]=e,i[14]=n,i[15]=1,i}const B1=34962,V1=34963,W1=35044,AU=5121,OU=5123,LU=5125,_R=5126,L2=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function kU(t,e){e=Object.assign({preserveDrawingBuffer:!0,antialias:!l7},e);const n=L2.length;for(let i=0;i<n;++i)try{const r=t.getContext(L2[i],e);if(r)return r}catch{}return null}const FU={STATIC_DRAW:W1};class yR{constructor(e,n){this.array_=null,this.type_=e,Pe(e===B1||e===V1,"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`"),this.usage_=n!==void 0?n:FU.STATIC_DRAW}ofSize(e){return this.array_=new(gh(this.type_))(e),this}fromArray(e){return this.array_=gh(this.type_).from(e),this}fromArrayBuffer(e){return this.array_=new(gh(this.type_))(e),this}getType(){return this.type_}getArray(){return this.array_}setArray(e){const n=gh(this.type_);if(!(e instanceof n))throw new Error(`Expected ${n}`);this.array_=e}getUsage(){return this.usage_}getSize(){return this.array_?this.array_.length:0}}function gh(t){switch(t){case B1:return Float32Array;case V1:return Uint32Array;default:return Float32Array}}const mh={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},DU=`
  precision mediump float;

  attribute vec2 a_position;
  varying vec2 v_texCoord;
  varying vec2 v_screenCoord;

  uniform vec2 u_screenSize;

  void main() {
    v_texCoord = a_position * 0.5 + 0.5;
    v_screenCoord = v_texCoord * u_screenSize;
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,NU=`
  precision mediump float;

  uniform sampler2D u_image;
  uniform float u_opacity;

  varying vec2 v_texCoord;

  void main() {
    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;
  }
`;class k2{constructor(e){this.gl_=e.webGlContext;const n=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=n.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=n.createFramebuffer(),this.depthBuffer_=n.createRenderbuffer();const i=n.createShader(n.VERTEX_SHADER);n.shaderSource(i,e.vertexShader||DU),n.compileShader(i);const r=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(r,e.fragmentShader||NU),n.compileShader(r),this.renderTargetProgram_=n.createProgram(),n.attachShader(this.renderTargetProgram_,i),n.attachShader(this.renderTargetProgram_,r),n.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=n.createBuffer();const s=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];n.bindBuffer(n.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),n.bufferData(n.ARRAY_BUFFER,new Float32Array(s),n.STATIC_DRAW),this.renderTargetAttribLocation_=n.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(o=>{this.uniforms_.push({value:e.uniforms[o],location:n.getUniformLocation(this.renderTargetProgram_,o)})})}getRenderTargetTexture(){return this.renderTargetTexture_}getGL(){return this.gl_}init(e){const n=this.getGL(),i=[n.drawingBufferWidth*this.scaleRatio_,n.drawingBufferHeight*this.scaleRatio_];if(n.bindFramebuffer(n.FRAMEBUFFER,this.getFrameBuffer()),n.bindRenderbuffer(n.RENDERBUFFER,this.getDepthBuffer()),n.viewport(0,0,i[0],i[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==i[0]||this.renderTargetTextureSize_[1]!==i[1]){this.renderTargetTextureSize_=i;const r=0,s=n.RGBA,o=0,a=n.RGBA,l=n.UNSIGNED_BYTE,u=null;n.bindTexture(n.TEXTURE_2D,this.renderTargetTexture_),n.texImage2D(n.TEXTURE_2D,r,s,i[0],i[1],o,a,l,u),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.renderTargetTexture_,0),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,i[0],i[1]),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,this.depthBuffer_)}}apply(e,n,i,r){const s=this.getGL(),o=e.size;if(s.bindFramebuffer(s.FRAMEBUFFER,n?n.getFrameBuffer():null),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,this.renderTargetTexture_),!n){const l=oe(s.canvas);if(!e.renderTargets[l]){const u=s.getContextAttributes();u&&u.preserveDrawingBuffer&&(s.clearColor(0,0,0,0),s.clearDepth(1),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT)),e.renderTargets[l]=!0}}s.disable(s.DEPTH_TEST),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.bindBuffer(s.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),s.useProgram(this.renderTargetProgram_),s.enableVertexAttribArray(this.renderTargetAttribLocation_),s.vertexAttribPointer(this.renderTargetAttribLocation_,2,s.FLOAT,!1,0,0),s.uniform2f(this.renderTargetUniformLocation_,o[0],o[1]),s.uniform1i(this.renderTargetTextureLocation_,0);const a=e.layerStatesArray[e.layerIndex].opacity;s.uniform1f(this.renderTargetOpacityLocation_,a),this.applyUniforms(e),i&&i(s,e),s.drawArrays(s.TRIANGLES,0,6),r&&r(s,e)}getFrameBuffer(){return this.frameBuffer_}getDepthBuffer(){return this.depthBuffer_}applyUniforms(e){const n=this.getGL();let i,r=1;this.uniforms_.forEach(function(s){if(i=typeof s.value=="function"?s.value(e):s.value,i instanceof HTMLCanvasElement||i instanceof ImageData)s.texture||(s.texture=n.createTexture()),n.activeTexture(n[`TEXTURE${r}`]),n.bindTexture(n.TEXTURE_2D,s.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),i instanceof ImageData?n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,i.width,i.height,0,n.UNSIGNED_BYTE,new Uint8Array(i.data)):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,i),n.uniform1i(s.location,r++);else if(Array.isArray(i))switch(i.length){case 2:n.uniform2f(s.location,i[0],i[1]);return;case 3:n.uniform3f(s.location,i[0],i[1],i[2]);return;case 4:n.uniform4f(s.location,i[0],i[1],i[2],i[3]);return;default:return}else typeof i=="number"&&n.uniform1f(s.location,i)})}}const Tr={TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution",ROTATION:"u_rotation",VIEWPORT_SIZE_PX:"u_viewportSizePx",PIXEL_RATIO:"u_pixelRatio",HIT_DETECTION:"u_hitDetection"},Gl={UNSIGNED_BYTE:AU,UNSIGNED_SHORT:OU,UNSIGNED_INT:LU,FLOAT:_R},nd={};function F2(t){return"shared/"+t}let D2=0;function GU(){const t="unique/"+D2;return D2+=1,t}function UU(t){let e=nd[t];if(!e){const n=document.createElement("canvas");n.width=1,n.height=1,n.style.position="absolute",n.style.left="0",e={users:0,context:kU(n)},nd[t]=e}return e.users+=1,e.context}function jU(t){const e=nd[t];if(!e||(e.users-=1,e.users>0))return;const n=e.context,i=n.getExtension("WEBGL_lose_context");i&&i.loseContext();const r=n.canvas;r.width=1,r.height=1,delete nd[t]}class $U extends _c{constructor(e){super(),e=e||{},this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this),this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this),this.canvasCacheKey_=e.canvasCacheKey?F2(e.canvasCacheKey):GU(),this.gl_=UU(this.canvasCacheKey_),this.bufferCache_={},this.extensionCache_={},this.currentProgram_=null,this.needsToBeRecreated_=!1;const n=this.gl_.canvas;n.addEventListener(mh.LOST,this.boundHandleWebGLContextLost_),n.addEventListener(mh.RESTORED,this.boundHandleWebGLContextRestored_),this.offsetRotateMatrix_=Gt(),this.offsetScaleMatrix_=Gt(),this.tmpMat4_=rl(),this.uniformLocationsByProgram_={},this.attribLocationsByProgram_={},this.uniforms_=[],e.uniforms&&this.setUniforms(e.uniforms),this.postProcessPasses_=e.postProcesses?e.postProcesses.map(i=>new k2({webGlContext:this.gl_,scaleRatio:i.scaleRatio,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,uniforms:i.uniforms})):[new k2({webGlContext:this.gl_})],this.shaderCompileErrors_=null,this.startTime_=Date.now(),this.maxAttributeCount_=this.gl_.getParameter(this.gl_.MAX_VERTEX_ATTRIBS)}setUniforms(e){this.uniforms_=[],this.addUniforms(e)}addUniforms(e){for(const n in e)this.uniforms_.push({name:n,value:e[n]})}canvasCacheKeyMatches(e){return this.canvasCacheKey_===F2(e)}getExtension(e){if(e in this.extensionCache_)return this.extensionCache_[e];const n=this.gl_.getExtension(e);return this.extensionCache_[e]=n,n}bindBuffer(e){const n=this.gl_,i=oe(e);let r=this.bufferCache_[i];if(!r){const s=n.createBuffer();r={buffer:e,webGlBuffer:s},this.bufferCache_[i]=r}n.bindBuffer(e.getType(),r.webGlBuffer)}flushBufferData(e){const n=this.gl_;this.bindBuffer(e),n.bufferData(e.getType(),e.getArray(),e.getUsage())}deleteBuffer(e){const n=oe(e);delete this.bufferCache_[n]}disposeInternal(){const e=this.gl_.canvas;e.removeEventListener(mh.LOST,this.boundHandleWebGLContextLost_),e.removeEventListener(mh.RESTORED,this.boundHandleWebGLContextRestored_),jU(this.canvasCacheKey_),delete this.gl_}prepareDraw(e,n,i){const r=this.gl_,s=this.getCanvas(),o=e.size,a=e.pixelRatio;(s.width!==o[0]*a||s.height!==o[1]*a)&&(s.width=o[0]*a,s.height=o[1]*a,s.style.width=o[0]+"px",s.style.height=o[1]+"px");for(let l=this.postProcessPasses_.length-1;l>=0;l--)this.postProcessPasses_[l].init(e);r.bindTexture(r.TEXTURE_2D,null),r.clearColor(0,0,0,0),r.depthRange(0,1),r.clearDepth(1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,n?r.ZERO:r.ONE_MINUS_SRC_ALPHA),i?(r.enable(r.DEPTH_TEST),r.depthFunc(r.LEQUAL)):r.disable(r.DEPTH_TEST)}bindFrameBuffer(e,n){const i=this.getGL();i.bindFramebuffer(i.FRAMEBUFFER,e),n&&i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,n,0)}bindInitialFrameBuffer(){const e=this.getGL(),n=this.postProcessPasses_[0].getFrameBuffer();e.bindFramebuffer(e.FRAMEBUFFER,n);const i=this.postProcessPasses_[0].getRenderTargetTexture();e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0)}bindTexture(e,n,i){const r=this.gl_;r.activeTexture(r.TEXTURE0+n),r.bindTexture(r.TEXTURE_2D,e),r.uniform1i(this.getUniformLocation(i),n)}bindAttribute(e,n,i){const r=this.getGL();this.bindBuffer(e);const s=this.getAttributeLocation(n);r.enableVertexAttribArray(s),r.vertexAttribPointer(s,i,r.FLOAT,!1,0,0)}prepareDrawToRenderTarget(e,n,i,r){const s=this.gl_,o=n.getSize();s.bindFramebuffer(s.FRAMEBUFFER,n.getFramebuffer()),s.bindRenderbuffer(s.RENDERBUFFER,n.getDepthbuffer()),s.viewport(0,0,o[0],o[1]),s.bindTexture(s.TEXTURE_2D,n.getTexture()),s.clearColor(0,0,0,0),s.depthRange(0,1),s.clearDepth(1),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.enable(s.BLEND),s.blendFunc(s.ONE,i?s.ZERO:s.ONE_MINUS_SRC_ALPHA),r?(s.enable(s.DEPTH_TEST),s.depthFunc(s.LEQUAL)):s.disable(s.DEPTH_TEST)}drawElements(e,n){const i=this.gl_;this.getExtension("OES_element_index_uint");const r=i.UNSIGNED_INT,s=4,o=n-e,a=e*s;i.drawElements(i.TRIANGLES,o,r,a)}finalizeDraw(e,n,i){for(let r=0,s=this.postProcessPasses_.length;r<s;r++)r===s-1?this.postProcessPasses_[r].apply(e,null,n,i):this.postProcessPasses_[r].apply(e,this.postProcessPasses_[r+1])}getCanvas(){return this.gl_.canvas}getGL(){return this.gl_}applyFrameState(e){const n=e.size,i=e.viewState.rotation,r=e.pixelRatio;this.setUniformFloatValue(Tr.TIME,(Date.now()-this.startTime_)*.001),this.setUniformFloatValue(Tr.ZOOM,e.viewState.zoom),this.setUniformFloatValue(Tr.RESOLUTION,e.viewState.resolution),this.setUniformFloatValue(Tr.PIXEL_RATIO,r),this.setUniformFloatVec2(Tr.VIEWPORT_SIZE_PX,[n[0],n[1]]),this.setUniformFloatValue(Tr.ROTATION,i)}applyHitDetectionUniform(e){const n=this.getUniformLocation(Tr.HIT_DETECTION);this.getGL().uniform1i(n,e?1:0),e&&this.setUniformFloatValue(Tr.PIXEL_RATIO,.5)}applyUniforms(e){const n=this.gl_;let i,r=0;this.uniforms_.forEach(s=>{if(i=typeof s.value=="function"?s.value(e):s.value,i instanceof HTMLCanvasElement||i instanceof HTMLImageElement||i instanceof ImageData||i instanceof WebGLTexture){i instanceof WebGLTexture&&!s.texture?(s.prevValue=void 0,s.texture=i):s.texture||(s.prevValue=void 0,s.texture=n.createTexture()),this.bindTexture(s.texture,r,s.name),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);const o=!(i instanceof HTMLImageElement)||i.complete;!(i instanceof WebGLTexture)&&o&&s.prevValue!==i&&(s.prevValue=i,n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,i)),r++}else if(Array.isArray(i)&&i.length===6)this.setUniformMatrixValue(s.name,pR(this.tmpMat4_,i));else if(Array.isArray(i)&&i.length<=4)switch(i.length){case 2:n.uniform2f(this.getUniformLocation(s.name),i[0],i[1]);return;case 3:n.uniform3f(this.getUniformLocation(s.name),i[0],i[1],i[2]);return;case 4:n.uniform4f(this.getUniformLocation(s.name),i[0],i[1],i[2],i[3]);return;default:return}else typeof i=="number"&&n.uniform1f(this.getUniformLocation(s.name),i)})}useProgram(e,n){this.disableAllAttributes_(),this.gl_.useProgram(e),this.currentProgram_=e,n&&(this.applyFrameState(n),this.applyUniforms(n))}compileShader(e,n){const i=this.gl_,r=i.createShader(n);return i.shaderSource(r,e),i.compileShader(r),r}getProgram(e,n){const i=this.gl_,r=this.compileShader(e,i.FRAGMENT_SHADER),s=this.compileShader(n,i.VERTEX_SHADER),o=i.createProgram();if(i.attachShader(o,r),i.attachShader(o,s),i.linkProgram(o),!i.getShaderParameter(r,i.COMPILE_STATUS)){const a=`Fragment shader compilation failed: ${i.getShaderInfoLog(r)}`;throw new Error(a)}if(i.deleteShader(r),!i.getShaderParameter(s,i.COMPILE_STATUS)){const a=`Vertex shader compilation failed: ${i.getShaderInfoLog(s)}`;throw new Error(a)}if(i.deleteShader(s),!i.getProgramParameter(o,i.LINK_STATUS)){const a=`GL program linking failed: ${i.getProgramInfoLog(o)}`;throw new Error(a)}return o}getUniformLocation(e){const n=oe(this.currentProgram_);return this.uniformLocationsByProgram_[n]===void 0&&(this.uniformLocationsByProgram_[n]={}),this.uniformLocationsByProgram_[n][e]===void 0&&(this.uniformLocationsByProgram_[n][e]=this.gl_.getUniformLocation(this.currentProgram_,e)),this.uniformLocationsByProgram_[n][e]}getAttributeLocation(e){const n=oe(this.currentProgram_);return this.attribLocationsByProgram_[n]===void 0&&(this.attribLocationsByProgram_[n]={}),this.attribLocationsByProgram_[n][e]===void 0&&(this.attribLocationsByProgram_[n][e]=this.gl_.getAttribLocation(this.currentProgram_,e)),this.attribLocationsByProgram_[n][e]}makeProjectionTransform(e,n){const i=e.size,r=e.viewState.rotation,s=e.viewState.resolution,o=e.viewState.center;return hi(n,0,0,2/(s*i[0]),2/(s*i[1]),-r,-o[0],-o[1]),n}setUniformFloatValue(e,n){this.gl_.uniform1f(this.getUniformLocation(e),n)}setUniformFloatVec2(e,n){this.gl_.uniform2fv(this.getUniformLocation(e),n)}setUniformFloatVec4(e,n){this.gl_.uniform4fv(this.getUniformLocation(e),n)}setUniformMatrixValue(e,n){this.gl_.uniformMatrix4fv(this.getUniformLocation(e),!1,n)}disableAllAttributes_(){for(let e=0;e<this.maxAttributeCount_;e++)this.gl_.disableVertexAttribArray(e)}enableAttributeArray_(e,n,i,r,s){const o=this.getAttributeLocation(e);o<0||(this.gl_.enableVertexAttribArray(o),this.gl_.vertexAttribPointer(o,n,i,!1,r,s))}enableAttributes(e){const n=zU(e);let i=0;for(let r=0;r<e.length;r++){const s=e[r];this.enableAttributeArray_(s.name,s.size,s.type||_R,n,i),i+=s.size*vR(s.type)}}handleWebGLContextLost(e){ro(this.bufferCache_),this.currentProgram_=null,e.preventDefault()}handleWebGLContextRestored(){this.needsToBeRecreated_=!0}needsToBeRecreated(){return this.needsToBeRecreated_}createTexture(e,n,i,r){const s=this.gl_;i=i||s.createTexture();const o=r?s.NEAREST:s.LINEAR;s.bindTexture(s.TEXTURE_2D,i),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,o),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,o),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE);const a=0,l=s.RGBA,u=0,c=s.RGBA,h=s.UNSIGNED_BYTE;return n instanceof Uint8Array?s.texImage2D(s.TEXTURE_2D,a,l,e[0],e[1],u,c,h,n):n?s.texImage2D(s.TEXTURE_2D,a,l,c,h,n):s.texImage2D(s.TEXTURE_2D,a,l,e[0],e[1],u,c,h,null),i}}function zU(t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];e+=i.size*vR(i.type)}return e}function vR(t){switch(t){case Gl.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case Gl.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case Gl.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case Gl.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}class X1 extends yc{constructor(e,n,i){super(),i=i||{},this.tileCoord=e,this.state=n,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(ae.CHANGE)}release(){this.setState(Y.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Y.EMPTY){if(this.state!==Y.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){le()}getAlpha(e,n){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=n,this.transitionStarts_[e]=i;else if(i===-1)return 1;const r=n-i+1e3/60;return r>=this.transition_?1:TM(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function La(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}function Wp(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t instanceof DataView?t:null}const BU=new Error("disposed");let mo=null;function VU(t){mo||(mo=Ze(t.width,t.height,void 0,{willReadFrequently:!0}));const e=mo.canvas,n=t.width;e.width!==n&&(e.width=n);const i=t.height;return e.height!==i&&(e.height=i),mo.clearRect(0,0,n,i),mo.drawImage(t,0,0),mo.getImageData(0,0,n,i).data}const WU=[256,256];class Xu extends X1{constructor(e){const n=Y.IDLE;super(e.tileCoord,n,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=La(this.data_);return e?[e.width,e.height]:WU}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==Y.IDLE&&this.state!==Y.ERROR)return;this.state=Y.LOADING,this.changed();const e=this;this.loader_().then(function(n){e.data_=n,e.state=Y.LOADED,e.changed()}).catch(function(n){e.error_=n,e.state=Y.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(BU),this.controller_=null),super.disposeInternal()}}class og extends X1{constructor(e,n,i,r,s,o){super(e,n,o),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Y.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Y.ERROR,this.unlistenImage_(),this.image_=XU(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Y.LOADED:this.state=Y.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Y.ERROR&&(this.state=Y.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Y.IDLE&&(this.state=Y.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=q9(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function XU(){const t=Ze(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}let D0;const ha=[];function N2(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function N0(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function HU(){if(D0===void 0){const t=Ze(6,6,ha);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",N2(t,4,5,4,0),N2(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;D0=N0(e,0)||N0(e,4)||N0(e,8),eg(t),ha.push(t.canvas)}return D0}function G2(t,e,n,i){const r=kM(n,e,t);let s=s2(e,i,n);const o=e.getMetersPerUnit();o!==void 0&&(s*=o);const a=t.getMetersPerUnit();a!==void 0&&(s/=a);const l=t.getExtent();if(!l||rs(l,r)){const u=s2(t,s,r)/s;isFinite(u)&&u>0&&(s/=u)}return s}function ER(t,e,n,i){const r=fr(n);let s=G2(t,e,r,i);return(!isFinite(s)||s<=0)&&e1(n,function(o){return s=G2(t,e,o,i),isFinite(s)&&s>0}),s}function KU(t,e,n,i,r,s,o,a,l,u,c,h,f,g){const d=Ze(Math.round(n*t),Math.round(n*e),ha);if(h||(d.imageSmoothingEnabled=!1),l.length===0)return d.canvas;d.scale(n,n);function p(x){return Math.round(x*n)/n}d.globalCompositeOperation="lighter";const m=Cn();l.forEach(function(x,S,w){Qy(m,x.extent)});let _;const y=n/i,v=(h?1:1+Math.pow(2,-24))/y;_=Ze(Math.round(xe(m)*y),Math.round(_t(m)*y),ha),h||(_.imageSmoothingEnabled=!1),l.forEach(function(x,S,w){if(x.image.width>0&&x.image.height>0){if(x.clipExtent){_.save();const O=(x.clipExtent[0]-m[0])*y,N=-(x.clipExtent[3]-m[3])*y,$=xe(x.clipExtent)*y,U=_t(x.clipExtent)*y;_.rect(h?O:Math.round(O),h?N:Math.round(N),h?$:Math.round(O+$)-Math.round(O),h?U:Math.round(N+U)-Math.round(N)),_.clip()}const C=(x.extent[0]-m[0])*y,M=-(x.extent[3]-m[3])*y,b=xe(x.extent)*y,L=_t(x.extent)*y;_.drawImage(x.image,u,u,x.image.width-2*u,x.image.height-2*u,h?C:Math.round(C),h?M:Math.round(M),h?b:Math.round(C+b)-Math.round(C),h?L:Math.round(M+L)-Math.round(M)),x.clipExtent&&_.restore()}});const E=dr(o);return a.getTriangles().forEach(function(x,S,w){const C=x.source,M=x.target;let b=C[0][0],L=C[0][1],O=C[1][0],N=C[1][1],$=C[2][0],U=C[2][1];const j=p((M[0][0]-E[0])/s),B=p(-(M[0][1]-E[1])/s),P=p((M[1][0]-E[0])/s),F=p(-(M[1][1]-E[1])/s),D=p((M[2][0]-E[0])/s),G=p(-(M[2][1]-E[1])/s),R=b,X=L;b=0,L=0,O-=R,N-=X,$-=R,U-=X;const K=[[O,N,0,0,P-j],[$,U,0,0,D-j],[0,0,O,N,F-B],[0,0,$,U,G-B]],H=p7(K);if(!H)return;if(d.save(),d.beginPath(),HU()||!h){d.moveTo(P,F);const te=4,ve=j-P,Ge=B-F;for(let ze=0;ze<te;ze++)d.lineTo(P+p((ze+1)*ve/te),F+p(ze*Ge/(te-1))),ze!=te-1&&d.lineTo(P+p((ze+1)*ve/te),F+p((ze+1)*Ge/(te-1)));d.lineTo(D,G)}else d.moveTo(P,F),d.lineTo(j,B),d.lineTo(D,G);d.clip(),d.transform(H[0],H[2],H[1],H[3],j,B),d.translate(m[0]-R,m[3]-X);let J;if(_)J=_.canvas,d.scale(v,-v);else{const te=l[0],ve=te.extent;J=te.image,d.scale(xe(ve)/J.width,-_t(ve)/J.height)}d.drawImage(J,0,0),d.restore()}),_&&(eg(_),ha.push(_.canvas)),c&&(d.save(),d.globalCompositeOperation="source-over",d.strokeStyle="black",d.lineWidth=1,a.getTriangles().forEach(function(x,S,w){const C=x.target,M=(C[0][0]-E[0])/s,b=-(C[0][1]-E[1])/s,L=(C[1][0]-E[0])/s,O=-(C[1][1]-E[1])/s,N=(C[2][0]-E[0])/s,$=-(C[2][1]-E[1])/s;d.beginPath(),d.moveTo(L,O),d.lineTo(M,b),d.lineTo(N,$),d.closePath(),d.stroke()}),d.restore()),d.canvas}const YU=10,U2=.25;class xR{constructor(e,n,i,r,s,o,a){this.sourceProj_=e,this.targetProj_=n;let l={};const u=a?Kf(v=>st(a,kM(v,this.targetProj_,this.sourceProj_))):Du(this.targetProj_,this.sourceProj_);this.transformInv_=function(v){const E=v[0]+"/"+v[1];return l[E]||(l[E]=u(v)),l[E]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&xe(r)>=xe(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?xe(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?xe(this.targetProj_.getExtent()):null;const c=dr(i),h=Xd(i),f=Wd(i),g=Vd(i),d=this.transformInv_(c),p=this.transformInv_(h),m=this.transformInv_(f),_=this.transformInv_(g),y=YU+(o?Math.max(0,Math.ceil(Math.log2(Fu(i)/(o*o*256*256)))):0);if(this.addQuad_(c,h,f,g,d,p,m,_,y),this.wrapsXInSource_){let v=1/0;this.triangles_.forEach(function(E,x,S){v=Math.min(v,E.source[0][0],E.source[1][0],E.source[2][0])}),this.triangles_.forEach(E=>{if(Math.max(E.source[0][0],E.source[1][0],E.source[2][0])-v>this.sourceWorldWidth_/2){const x=[[E.source[0][0],E.source[0][1]],[E.source[1][0],E.source[1][1]],[E.source[2][0],E.source[2][1]]];x[0][0]-v>this.sourceWorldWidth_/2&&(x[0][0]-=this.sourceWorldWidth_),x[1][0]-v>this.sourceWorldWidth_/2&&(x[1][0]-=this.sourceWorldWidth_),x[2][0]-v>this.sourceWorldWidth_/2&&(x[2][0]-=this.sourceWorldWidth_);const S=Math.min(x[0][0],x[1][0],x[2][0]);Math.max(x[0][0],x[1][0],x[2][0])-S<this.sourceWorldWidth_/2&&(E.source=x)}})}l={}}addTriangle_(e,n,i,r,s,o){this.triangles_.push({source:[r,s,o],target:[e,n,i]})}addQuad_(e,n,i,r,s,o,a,l,u){const c=Bf([s,o,a,l]),h=this.sourceWorldWidth_?xe(c)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&h>.5&&h<1;let d=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const m=Bf([e,n,i,r]);d=xe(m)/this.targetWorldWidth_>U2||d}!g&&this.sourceProj_.isGlobal()&&h&&(d=h>U2||d)}if(!d&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!Vt(c,this.maxSourceExtent_))return;let p=0;if(!d&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(u>0)d=!0;else if(p=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),p!=1&&p!=2&&p!=4&&p!=8)return}if(u>0){if(!d){const m=[(e[0]+i[0])/2,(e[1]+i[1])/2],_=this.transformInv_(m);let y;g?y=(la(s[0],f)+la(a[0],f))/2-la(_[0],f):y=(s[0]+a[0])/2-_[0];const v=(s[1]+a[1])/2-_[1];d=y*y+v*v>this.errorThresholdSquared_}if(d){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const m=[(n[0]+i[0])/2,(n[1]+i[1])/2],_=this.transformInv_(m),y=[(r[0]+e[0])/2,(r[1]+e[1])/2],v=this.transformInv_(y);this.addQuad_(e,n,m,y,s,o,_,v,u-1),this.addQuad_(y,m,i,r,v,_,a,l,u-1)}else{const m=[(e[0]+n[0])/2,(e[1]+n[1])/2],_=this.transformInv_(m),y=[(i[0]+r[0])/2,(i[1]+r[1])/2],v=this.transformInv_(y);this.addQuad_(e,m,y,r,s,_,v,l,u-1),this.addQuad_(m,n,i,y,_,o,a,v,u-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}p&11||this.addTriangle_(e,i,r,s,a,l),p&14||this.addTriangle_(e,i,n,s,a,o),p&&(p&13||this.addTriangle_(n,r,e,o,l,s),p&7||this.addTriangle_(n,r,i,o,l,a))}calculateSourceExtent(){const e=Cn();return this.triangles_.forEach(function(n,i,r){const s=n.source;nu(e,s[0]),nu(e,s[1]),nu(e,s[2])}),e}getTriangles(){return this.triangles_}}const wR=.5;class H1 extends X1{constructor(e,n,i,r,s,o,a,l,u,c,h,f){super(s,Y.IDLE,f),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const g=r.getTileCoordExtent(this.wrappedTileCoord_),d=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const m=d?Xt(g,d):g;if(Fu(m)===0){this.state=Y.EMPTY;return}const _=e.getExtent();_&&(p?p=Xt(p,_):p=_);const y=r.getResolution(this.wrappedTileCoord_[0]),v=ER(e,i,m,y);if(!isFinite(v)||v<=0){this.state=Y.EMPTY;return}const E=c!==void 0?c:wR;if(this.triangulation_=new xR(e,i,m,p,v*E,y),this.triangulation_.getTriangles().length===0){this.state=Y.EMPTY;return}this.sourceZ_=n.getZForResolution(v);let x=this.triangulation_.calculateSourceExtent();if(p&&(e.canWrapX()?(x[1]=Oe(x[1],p[1],p[3]),x[3]=Oe(x[3],p[1],p[3])):x=Xt(x,p)),!Fu(x))this.state=Y.EMPTY;else{let S=0,w=0;e.canWrapX()&&(S=xe(_),w=Math.floor((x[0]-_[0])/S)),n1(x.slice(),e,!0).forEach(M=>{const b=n.getTileRangeForExtentAndZ(M,this.sourceZ_);for(let L=b.minX;L<=b.maxX;L++)for(let O=b.minY;O<=b.maxY;O++){const N=u(this.sourceZ_,L,O,a);if(N){const $=w*S;this.sourceTiles_.push({tile:N,offset:$})}}++w}),this.sourceTiles_.length===0&&(this.state=Y.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{var r;const i=n.tile;if(i&&i.getState()==Y.LOADED){const s=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);s[0]+=n.offset,s[2]+=n.offset;const o=(r=this.clipExtent_)==null?void 0:r.slice();o&&(o[0]+=n.offset,o[2]+=n.offset),e.push({extent:s,clipExtent:o,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=Y.ERROR;else{const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],o=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=KU(r,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Y.LOADED}this.changed()}load(){if(this.state==Y.IDLE){this.state=Y.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i==Y.IDLE||i==Y.LOADING){e++;const r=Ee(n,ae.CHANGE,s=>{const o=n.getState();(o==Y.LOADED||o==Y.ERROR||o==Y.EMPTY)&&(Fe(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,r){n.getState()==Y.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Fe),this.sourcesListenerKeys_=null}release(){this.canvas_&&(eg(this.canvas_.getContext("2d")),ha.push(this.canvas_),this.canvas_=null),super.release()}}class qU extends yc{constructor(e){super(),this.tile,this.handleTileChange_=this.handleTileChange_.bind(this),this.gutter=e.gutter||0,this.helper=e.helper,this.loaded=!1,this.ready=!1}setTile(e){if(e!==this.tile)if(this.tile&&this.tile.removeEventListener(ae.CHANGE,this.handleTileChange_),this.tile=e,this.loaded=e.getState()===Y.LOADED,this.loaded)this.uploadTile();else{if(e instanceof og){const n=e.getImage();n instanceof Image&&!n.crossOrigin&&(n.crossOrigin="anonymous")}e.addEventListener(ae.CHANGE,this.handleTileChange_)}}uploadTile(){le()}setReady(){this.ready=!0,this.dispatchEvent(ae.CHANGE)}handleTileChange_(){this.tile.getState()===Y.LOADED&&(this.loaded=!0,this.uploadTile())}setHelper(e){this.helper=e,this.helper&&this.loaded&&this.uploadTile()}disposeInternal(){this.setHelper(null),this.tile.removeEventListener(ae.CHANGE,this.handleTileChange_)}}function SR(t,e,n){const i=n?t.LINEAR:t.NEAREST;t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i)}function ZU(t,e,n,i){SR(t,e,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)}function j2(t,e,n,i,r,s){const o=t.getGL();let a,l;n instanceof Float32Array?(a=o.FLOAT,t.getExtension("OES_texture_float"),l=t.getExtension("OES_texture_float_linear")!==null):(a=o.UNSIGNED_BYTE,l=!0),SR(o,e,s&&l);const u=n.byteLength/i[1];let c=1;u%8===0?c=8:u%4===0?c=4:u%2===0&&(c=2);let h;switch(r){case 1:{h=o.LUMINANCE;break}case 2:{h=o.LUMINANCE_ALPHA;break}case 3:{h=o.RGB;break}case 4:{h=o.RGBA;break}default:throw new Error(`Unsupported number of bands: ${r}`)}const f=o.getParameter(o.UNPACK_ALIGNMENT);o.pixelStorei(o.UNPACK_ALIGNMENT,c),o.texImage2D(o.TEXTURE_2D,0,h,i[0],i[1],0,h,a,n),o.pixelStorei(o.UNPACK_ALIGNMENT,f)}let bo=null;function JU(){bo=Ze(1,1,void 0,{willReadFrequently:!0})}class QU extends qU{constructor(e){super(e),this.textures=[],this.renderSize_=nt(e.grid.getTileSize(e.tile.tileCoord[0])),this.bandCount=NaN;const n=new yR(B1,W1);n.fromArray([0,1,1,1,1,0,0,0]),this.helper.flushBufferData(n),this.coords=n,this.setTile(e.tile)}setHelper(e){var i;const n=(i=this.helper)==null?void 0:i.getGL();if(n){this.helper.deleteBuffer(this.coords);for(let r=0;r<this.textures.length;++r)n.deleteTexture(this.textures[r])}super.setHelper(e),e&&e.flushBufferData(this.coords)}uploadTile(){const e=this.helper,n=e.getGL(),i=this.tile;this.textures.length=0;let r;i instanceof og||i instanceof H1?r=i.getImage():r=i.getData();const s=La(r);if(s){const y=n.createTexture();this.textures.push(y),this.bandCount=4,ZU(n,y,s,i.interpolate),this.setReady();return}r=Wp(r);const o=i.getSize(),a=[o[0]+2*this.gutter,o[1]+2*this.gutter],l=r instanceof Float32Array,u=a[0]*a[1],c=l?Float32Array:Uint8Array,h=c.BYTES_PER_ELEMENT,f=r.byteLength/a[1];this.bandCount=Math.floor(f/h/a[0]);const g=Math.ceil(this.bandCount/4);if(g===1){const y=n.createTexture();this.textures.push(y),j2(e,y,r,a,this.bandCount,i.interpolate),this.setReady();return}const d=new Array(g);for(let y=0;y<g;++y){const v=n.createTexture();this.textures.push(v);const E=y<g-1?4:(this.bandCount-1)%4+1;d[y]=new c(u*E)}let p=0,m=0;const _=a[0]*this.bandCount;for(let y=0;y<a[1];++y){for(let v=0;v<_;++v){const E=r[m+v],x=Math.floor(p/this.bandCount),S=v%this.bandCount,w=Math.floor(S/4),C=d[w],M=C.length/u,b=S%4;C[x*M+b]=E,++p}m+=f/h}for(let y=0;y<g;++y){const v=this.textures[y],E=d[y],x=E.length/u;j2(e,v,E,a,x,i.interpolate)}this.setReady()}getImagePixelData_(e,n,i){const r=this.gutter,s=this.renderSize_[0],o=this.renderSize_[1];bo||JU(),bo.clearRect(0,0,1,1);const a=e.width,l=e.height,u=a-2*r,c=l-2*r,h=r+Math.floor(u*(n/s)),f=r+Math.floor(c*(i/o));let g;try{bo.drawImage(e,h,f,1,1,0,0,1,1),g=bo.getImageData(0,0,1,1).data}catch{return bo=null,null}return g}getArrayPixelData_(e,n,i,r){const s=this.gutter,o=this.renderSize_[0],a=this.renderSize_[1],l=n[0],u=n[1],c=l+2*s,h=u+2*s,f=s+Math.floor(l*(i/o)),g=s+Math.floor(u*(r/a));if(e instanceof DataView){const p=e.byteLength/(c*h),m=p*(g*c+f),_=e.buffer.slice(m,m+p);return new DataView(_)}const d=this.bandCount*(g*c+f);return e.slice(d,d+this.bandCount)}getPixelData(e,n){if(!this.loaded)return null;if(this.tile instanceof Xu){const i=this.tile.getData(),r=Wp(i);if(r){const s=this.tile.getSize();return this.getArrayPixelData_(r,s,e,n)}return this.getImagePixelData_(La(i),e,n)}return this.getImagePixelData_(this.tile.getImage(),e,n)}}class ag{constructor(e,n,i,r){this.minX=e,this.maxX=n,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function po(t,e,n,i,r){return r!==void 0?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new ag(t,e,n,i)}class CR{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof _c&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const i=this.entries_[e];return Pe(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const n=this.entries_[e];return Pe(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.key_;return e}getValues(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var n;return(n=this.entries_[e])==null?void 0:n.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){Pe(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}function ka(t,e,n,i){return i!==void 0?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function TR(t,e,n){return t+"/"+e+"/"+n}function Mo(t){return TR(t[0],t[1],t[2])}function ej(t){return tj(t[0],t[1],t[2])}function tj(t,e,n){return(e<<t)+n}function nj(t,e){const n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return s?s.containsXY(i,r):!0}const ij=5;class bR extends vc{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=ij}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return le()}getData(e){return null}prepareFrame(e){return le()}renderFrame(e,n){return le()}forEachFeatureAtCoordinate(e,n,i,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===pe.LOADED||n.getState()===pe.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=pe.LOADED&&n!=pe.ERROR&&e.addEventListener(ae.CHANGE,this.boundHandleImageChange_),n==pe.IDLE&&(e.load(),n=e.getState()),n==pe.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class K1 extends bR{constructor(e,n){super(e),n=n||{},this.inversePixelTransform_=Gt(),this.postProcesses_=n.postProcesses,this.uniforms_=n.uniforms,this.helper,this.onMapChanged_=()=>{this.clearCache(),this.removeHelper()},e.addChangeListener(Ce.MAP,this.onMapChanged_),this.dispatchPreComposeEvent=this.dispatchPreComposeEvent.bind(this),this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(e,n){const i=this.getLayer();if(i.hasListener(pt.PRECOMPOSE)){const r=new ru(pt.PRECOMPOSE,void 0,n,e);i.dispatchEvent(r)}}dispatchPostComposeEvent(e,n){const i=this.getLayer();if(i.hasListener(pt.POSTCOMPOSE)){const r=new ru(pt.POSTCOMPOSE,void 0,n,e);i.dispatchEvent(r)}}reset(e){this.uniforms_=e.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&(this.helper.dispose(),delete this.helper)}prepareFrame(e){if(this.getLayer().getRenderSource()){let n=!0,i=-1,r;for(let o=0,a=e.layerStatesArray.length;o<a;o++){const l=e.layerStatesArray[o].layer,u=l.getRenderer();if(!(u instanceof K1)){n=!0;continue}const c=l.getClassName();if((n||c!==r)&&(i+=1,n=!1),r=c,u===this)break}const s="map/"+e.mapId+"/group/"+i;(!this.helper||!this.helper.canvasCacheKeyMatches(s)||this.helper.needsToBeRecreated())&&(this.removeHelper(),this.helper=new $U({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:s}),r&&(this.helper.getCanvas().className=r),this.afterHelperCreated())}return this.prepareFrameInternal(e)}afterHelperCreated(){}prepareFrameInternal(e){return!0}clearCache(){}disposeInternal(){var e;this.clearCache(),this.removeHelper(),(e=this.getLayer())==null||e.removeChangeListener(Ce.MAP,this.onMapChanged_),super.disposeInternal()}dispatchRenderEvent_(e,n,i){const r=this.getLayer();if(r.hasListener(e)){hi(this.inversePixelTransform_,0,0,i.pixelRatio,-i.pixelRatio,0,0,-i.size[1]);const s=new ru(e,this.inversePixelTransform_,i,n);r.dispatchEvent(s)}}preRender(e,n){this.dispatchRenderEvent_(pt.PRERENDER,e,n)}postRender(e,n){this.dispatchRenderEvent_(pt.POSTRENDER,e,n)}}const rj={TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",RESOLUTION:"u_resolution",ZOOM:"u_zoom",GLOBAL_ALPHA:"u_globalAlpha",PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix"};function $2(t){return 1/(t+2)}function sj(){return{tileIds:new Set,representationsByZ:{}}}function z2(t,e){return t.tileIds.has(oe(e))}function B2(t,e,n){const i=t.representationsByZ;n in i||(i[n]=new Set),i[n].add(e),t.tileIds.add(oe(e.tile))}function G0(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=Xt(e,Ai(n.extent,t.viewState.projection)));const i=n.layer.getRenderSource();if(!i.getWrapX()){const r=i.getTileGridForProjection(t.viewState.projection).getExtent();r&&(e=Xt(e,r))}return e}function Xp(t,e){return`${oe(t)},${t.getKey()},${t.getRevision()},${Mo(e)}`}class oj extends K1{constructor(e,n){super(e,{uniforms:n.uniforms,postProcesses:n.postProcesses}),this.renderComplete=!1,this.tileTransform_=Gt(),this.tempMat4=rl(),this.tempTileRange_=new ag(0,0,0,0),this.tempTileCoord_=ka(0,0,0),this.tempSize_=[0,0];const i=n.cacheSize!==void 0?n.cacheSize:512;this.tileRepresentationCache=new CR(i),this.frameState=null,this.renderedProjection_=void 0}reset(e){super.reset({uniforms:e.uniforms})}prepareFrameInternal(e){this.renderedProjection_?e.viewState.projection!==this.renderedProjection_&&(this.clearCache(),this.renderedProjection_=e.viewState.projection):this.renderedProjection_=e.viewState.projection;const i=this.getLayer().getRenderSource();return!i||Ja(G0(e,e.extent))?!1:i.getState()==="ready"}createTileRepresentation(e){return le()}enqueueTiles(e,n,i,r,s){const o=e.viewState,a=this.getLayer(),l=a.getRenderSource(),u=l.getTileGridForProjection(o.projection),c=l.getGutterForProjection(o.projection),h=oe(l);h in e.wantedTiles||(e.wantedTiles[h]={});const f=e.wantedTiles[h],g=this.tileRepresentationCache,d=a.getMapInternal(),p=Math.max(i-s,u.getMinZoom(),u.getZForResolution(Math.min(a.getMaxResolution(),d?d.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):u.getResolution(0)),l.zDirection)),m=o.rotation,_=m?t1(o.center,o.resolution,m,e.size):void 0;for(let y=i;y>=p;--y){const v=u.getTileRangeForExtentAndZ(n,y,this.tempTileRange_),E=u.getResolution(y);for(let x=v.minX;x<=v.maxX;++x)for(let S=v.minY;S<=v.maxY;++S){if(m&&!u.tileCoordIntersectsViewport([y,x,S],_))continue;const w=ka(y,x,S,this.tempTileCoord_),C=Xp(l,w);let M,b;if(g.containsKey(C)&&(M=g.get(C),b=M.tile),(!M||M.tile.key!==l.getKey())&&(b=l.getTile(y,x,S,e.pixelRatio,o.projection),!b)||z2(r,b))continue;M?M.setTile(b):(M=this.createTileRepresentation({tile:b,grid:u,helper:this.helper,gutter:c}),g.set(C,M)),B2(r,M,y);const L=b.getKey();f[L]=!0,b.getState()===Y.IDLE&&(e.tileQueue.isKeyQueued(L)||e.tileQueue.enqueue([b,h,u.getTileCoordCenter(w),E]))}}}beforeTilesRender(e,n){this.helper.prepareDraw(this.frameState,!n,!0)}beforeTilesMaskRender(e){return!1}renderTile(e,n,i,r,s,o,a,l,u,c,h){}renderTileMask(e,n,i,r){}drawTile_(e,n,i,r,s,o,a){if(!n.ready)return;const u=n.tile.tileCoord,c=Mo(u),h=c in o?o[c]:1,f=a.getResolution(i),g=nt(a.getTileSize(i),this.tempSize_),d=a.getOrigin(i),p=a.getTileCoordExtent(u),m=h<1?-1:$2(i);h<1&&(e.animate=!0);const _=e.viewState,y=_.center[0],v=_.center[1],E=g[0]+2*r,x=g[1]+2*r,S=E/x,w=(y-d[0])/(g[0]*f),C=(d[1]-v)/(g[1]*f),M=_.resolution/f,b=u[1],L=u[2];iG(this.tileTransform_),a2(this.tileTransform_,2/(e.size[0]*M/E),-2/(e.size[1]*M/E)),sG(this.tileTransform_,_.rotation),a2(this.tileTransform_,1,1/S),oG(this.tileTransform_,(g[0]*(b-w)-r)/E,(g[1]*(L-C)-r)/x),this.renderTile(n,this.tileTransform_,e,s,f,g,d,p,m,r,h)}renderFrame(e){this.frameState=e,this.renderComplete=!0;const n=this.helper.getGL();this.preRender(n,e);const i=e.viewState,r=this.getLayer(),s=r.getRenderSource(),o=s.getTileGridForProjection(i.projection),a=s.getGutterForProjection(i.projection),l=G0(e,e.extent),u=o.getZForResolution(i.resolution,s.zDirection),c=sj(),h=r.getPreload();if(e.nextExtent){const v=o.getZForResolution(i.nextResolution,s.zDirection),E=G0(e,e.nextExtent);this.enqueueTiles(e,E,v,c,h)}this.enqueueTiles(e,l,u,c,0),h>0&&setTimeout(()=>{this.enqueueTiles(e,l,u-1,c,h-1)},0);const f={};let g=!1;const d=c.representationsByZ;if(u in d){const v=oe(this),E=e.time;for(const x of d[u]){const S=x.tile;if(S.getState()===Y.EMPTY)continue;const w=S.tileCoord;if(x.ready){const b=S.getAlpha(v,E);if(b===1){S.endTransition(v);continue}g=!0;const L=Mo(w);f[L]=b}if(this.renderComplete=!1,this.findAltTiles_(o,w,u+1,c))continue;const M=o.getMinZoom();for(let b=u-1;b>=M&&!this.findAltTiles_(o,w,b,c);--b);}}const p=Object.keys(d).map(Number).sort(hM);if(this.beforeTilesMaskRender(e))for(let v=0,E=p.length;v<E;++v){const x=p[v];for(const S of d[x]){const w=S.tile.tileCoord;if(Mo(w)in f)continue;const M=o.getTileCoordExtent(w);this.renderTileMask(S,x,M,$2(x))}}this.beforeTilesRender(e,g);for(let v=0,E=p.length;v<E;++v){const x=p[v];for(const S of d[x]){const w=S.tile.tileCoord;Mo(w)in f||this.drawTile_(e,S,x,a,l,f,o)}}if(u in d)for(const v of d[u]){const E=v.tile.tileCoord;Mo(E)in f&&this.drawTile_(e,v,u,a,l,f,o)}this.beforeFinalize(e),this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);const _=this.helper.getCanvas(),y=this.tileRepresentationCache;for(;y.canExpireCache();)y.pop().dispose();return this.postRender(n,e),_}beforeFinalize(e){}findAltTiles_(e,n,i,r){const s=e.getTileRangeForTileCoordAndZ(n,i,this.tempTileRange_);if(!s)return!1;let o=!0;const a=this.tileRepresentationCache,l=this.getLayer().getRenderSource();for(let u=s.minX;u<=s.maxX;++u)for(let c=s.minY;c<=s.maxY;++c){const h=Xp(l,[i,u,c]);let f=!1;if(a.containsKey(h)){const g=a.get(h);g.ready&&!z2(r,g.tile)&&(B2(r,g,i),f=!0)}f||(o=!1)}return o}clearCache(){super.clearCache();const e=this.tileRepresentationCache;e.forEach(n=>n.dispose()),e.clear()}afterHelperCreated(){super.afterHelperCreated(),this.tileRepresentationCache.forEach(e=>e.setHelper(this.helper))}disposeInternal(){super.disposeInternal(),delete this.frameState}}const ce={...rj,TILE_TEXTURE_ARRAY:"u_tileTextures",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY"},Qh={TEXTURE_COORD:"a_textureCoord"},aj=[{name:Qh.TEXTURE_COORD,size:2,type:Gl.FLOAT}];class lj extends oj{constructor(e,n){super(e,n),this.program_,this.vertexShader_=n.vertexShader,this.fragmentShader_=n.fragmentShader,this.indices_=new yR(V1,W1),this.indices_.fromArray([0,1,3,1,2,3]),this.paletteTextures_=n.paletteTextures||[]}reset(e){if(super.reset(e),this.helper){const n=this.helper.getGL();for(const i of this.paletteTextures_)i.delete(n)}if(this.vertexShader_=e.vertexShader,this.fragmentShader_=e.fragmentShader,this.paletteTextures_=e.paletteTextures||[],this.helper){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);const n=this.helper.getGL();for(const i of this.paletteTextures_)i.getTexture(n)}}afterHelperCreated(){super.afterHelperCreated();const e=this.helper.getGL();for(const n of this.paletteTextures_)n.getTexture(e);this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)}removeHelper(){if(this.helper){const e=this.helper.getGL();for(const n of this.paletteTextures_)n.delete(e)}super.removeHelper()}createTileRepresentation(e){return new QU(e)}beforeTilesRender(e,n){super.beforeTilesRender(e,n),this.helper.useProgram(this.program_,e)}renderTile(e,n,i,r,s,o,a,l,u,c,h){const f=this.helper.getGL();this.helper.bindBuffer(e.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(aj);let g=0;for(;g<e.textures.length;){const S=`${ce.TILE_TEXTURE_ARRAY}[${g}]`;this.helper.bindTexture(e.textures[g],g,S),++g}for(let S=0;S<this.paletteTextures_.length;++S){const w=this.paletteTextures_[S],C=w.getTexture(f);this.helper.bindTexture(C,g,w.name),++g}const d=i.viewState,p=o[0]+2*c,m=o[1]+2*c,y=e.tile.tileCoord,v=y[1],E=y[2];this.helper.setUniformMatrixValue(ce.TILE_TRANSFORM,pR(this.tempMat4,n)),this.helper.setUniformFloatValue(ce.TRANSITION_ALPHA,h),this.helper.setUniformFloatValue(ce.DEPTH,u);let x=r;c>0&&(x=l,Xt(x,r,x)),this.helper.setUniformFloatVec4(ce.RENDER_EXTENT,x),this.helper.setUniformFloatValue(ce.RESOLUTION,d.resolution),this.helper.setUniformFloatValue(ce.ZOOM,d.zoom),this.helper.setUniformFloatValue(ce.TEXTURE_PIXEL_WIDTH,p),this.helper.setUniformFloatValue(ce.TEXTURE_PIXEL_HEIGHT,m),this.helper.setUniformFloatValue(ce.TEXTURE_RESOLUTION,s),this.helper.setUniformFloatValue(ce.TEXTURE_ORIGIN_X,a[0]+v*o[0]*s-c*s),this.helper.setUniformFloatValue(ce.TEXTURE_ORIGIN_Y,a[1]-E*o[1]*s+c*s),this.helper.drawElements(0,this.indices_.getSize())}getData(e){if(!this.helper.getGL())return null;const i=this.frameState;if(!i)return null;const r=this.getLayer(),s=st(i.pixelToCoordinateTransform,e.slice()),o=i.viewState,a=r.getExtent();if(a&&!rs(Ai(a,o.projection),s))return null;const l=r.getSources(Bf([s]),o.resolution);let u,c,h;for(u=l.length-1;u>=0;--u)if(c=l[u],c.getState()==="ready"){if(h=c.getTileGridForProjection(o.projection),c.getWrapX())break;const g=h.getExtent();if(!g||rs(g,s))break}if(u<0)return null;const f=this.tileRepresentationCache;for(let g=h.getZForResolution(o.resolution);g>=h.getMinZoom();--g){const d=h.getTileCoordForCoordAndZ(s,g),p=Xp(c,d);if(!f.containsKey(p))continue;const m=f.get(p);if(m.tile.getState()===Y.EMPTY)return null;if(!m.loaded)continue;const y=h.getOrigin(g),v=nt(h.getTileSize(g)),E=h.getResolution(g),x=(s[0]-y[0])/E-d[1]*v[0],S=(y[1]-s[1])/E-d[2]*v[1];return m.getPixelData(x,S)}return null}disposeInternal(){const e=this.helper;if(e){const n=e.getGL();for(const i of this.paletteTextures_)i.delete(n);this.paletteTextures_.length=0,n.deleteProgram(this.program_),delete this.program_,e.deleteBuffer(this.indices_)}super.disposeInternal(),delete this.indices_}}class uj{constructor(e,n){this.name=e,this.data=n,this.texture_=null}getTexture(e){if(!this.texture_){const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.data.length/4,1,0,e.RGBA,e.UNSIGNED_BYTE,this.data),this.texture_=n}return this.texture_}delete(e){this.texture_&&e.deleteTexture(this.texture_),this.texture_=null}}function cj(t,e){return`operator_${t}_${Object.keys(e.functions).length}`}function Hu(t){const e=t.toString();return e.includes(".")?e:e+".0"}function Y1(t){if(t.length<2||t.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${t.length}(${t.map(Hu).join(", ")})`}function hj(t){const e=ss(t),n=e.length>3?e[3]:1;return Y1([e[0]/255,e[1]/255,e[2]/255,n])}function fj(t){const e=nt(t);return Y1(e)}const U0={};let dj=0;function MR(t){return t in U0||(U0[t]=dj++),U0[t]}function gj(t){return Hu(MR(t))}function RR(t){return"u_var_"+t}function mj(){return{variables:{},properties:{},functions:{},bandCount:0,featureId:!1,geometryType:!1}}const j0="getBandValue",PR="u_paletteTextures",pj="featureId",_j="geometryType",yj=-9999999;function vj(t,e,n,i){const r=yt(t,e,n);return q1(r,e,i)}function Se(t){return(e,n,i)=>{const r=n.args.length,s=new Array(r);for(let o=0;o<r;++o)s[o]=q1(n.args[o],i,e);return t(s,e)}}const Ej={[I.Get]:(t,e)=>{const i=e.args[0].value;return i in t.properties||(t.properties[i]={name:i,type:e.type}),"a_prop_"+i},[I.Id]:t=>(t.featureId=!0,"a_"+pj),[I.GeometryType]:t=>(t.geometryType=!0,"a_"+_j),[I.LineMetric]:()=>"currentLineMetric",[I.Var]:(t,e)=>{const i=e.args[0].value;return i in t.variables||(t.variables[i]={name:i,type:e.type}),RR(i)},[I.Has]:(t,e)=>{const i=e.args[0].value;return i in t.properties||(t.properties[i]={name:i,type:e.type}),`(a_prop_${i} != ${Hu(yj)})`},[I.Resolution]:()=>"u_resolution",[I.Zoom]:()=>"u_zoom",[I.Time]:()=>"u_time",[I.Any]:Se(t=>`(${t.join(" || ")})`),[I.All]:Se(t=>`(${t.join(" && ")})`),[I.Not]:Se(([t])=>`(!${t})`),[I.Equal]:Se(([t,e])=>`(${t} == ${e})`),[I.NotEqual]:Se(([t,e])=>`(${t} != ${e})`),[I.GreaterThan]:Se(([t,e])=>`(${t} > ${e})`),[I.GreaterThanOrEqualTo]:Se(([t,e])=>`(${t} >= ${e})`),[I.LessThan]:Se(([t,e])=>`(${t} < ${e})`),[I.LessThanOrEqualTo]:Se(([t,e])=>`(${t} <= ${e})`),[I.Multiply]:Se(t=>`(${t.join(" * ")})`),[I.Divide]:Se(([t,e])=>`(${t} / ${e})`),[I.Add]:Se(t=>`(${t.join(" + ")})`),[I.Subtract]:Se(([t,e])=>`(${t} - ${e})`),[I.Clamp]:Se(([t,e,n])=>`clamp(${t}, ${e}, ${n})`),[I.Mod]:Se(([t,e])=>`mod(${t}, ${e})`),[I.Pow]:Se(([t,e])=>`pow(${t}, ${e})`),[I.Abs]:Se(([t])=>`abs(${t})`),[I.Floor]:Se(([t])=>`floor(${t})`),[I.Ceil]:Se(([t])=>`ceil(${t})`),[I.Round]:Se(([t])=>`floor(${t} + 0.5)`),[I.Sin]:Se(([t])=>`sin(${t})`),[I.Cos]:Se(([t])=>`cos(${t})`),[I.Atan]:Se(([t,e])=>e!==void 0?`atan(${t}, ${e})`:`atan(${t})`),[I.Sqrt]:Se(([t])=>`sqrt(${t})`),[I.Match]:Se(t=>{const e=t[0],n=t[t.length-1];let i=null;for(let r=t.length-3;r>=1;r-=2){const s=t[r],o=t[r+1];i=`(${e} == ${s} ? ${o} : ${i||n})`}return i}),[I.Between]:Se(([t,e,n])=>`(${t} >= ${e} && ${t} <= ${n})`),[I.Interpolate]:Se(([t,e,...n])=>{let i="";for(let r=0;r<n.length-2;r+=2){const s=n[r],o=i||n[r+1],a=n[r+2],l=n[r+3];let u;t===Hu(1)?u=`(${e} - ${s}) / (${a} - ${s})`:u=`(pow(${t}, (${e} - ${s})) - 1.0) / (pow(${t}, (${a} - ${s})) - 1.0)`,i=`mix(${o}, ${l}, clamp(${u}, 0.0, 1.0))`}return i}),[I.Case]:Se(t=>{const e=t[t.length-1];let n=null;for(let i=t.length-3;i>=0;i-=2){const r=t[i],s=t[i+1];n=`(${r} ? ${s} : ${n||e})`}return n}),[I.In]:Se(([t,...e],n)=>{const i=cj("in",n),r=[];for(let s=0;s<e.length;s+=1)r.push(`  if (inputValue == ${e[s]}) { return true; }`);return n.functions[i]=`bool ${i}(float inputValue) {
${r.join(`
`)}
  return false;
}`,`${i}(${t})`}),[I.Array]:Se(t=>`vec${t.length}(${t.join(", ")})`),[I.Color]:Se(t=>{if(t.length===1)return`vec4(vec3(${t[0]} / 255.0), 1.0)`;if(t.length===2)return`vec4(vec3(${t[0]} / 255.0), ${t[1]})`;const e=t.slice(0,3).map(i=>`${i} / 255.0`);if(t.length===3)return`vec4(${e.join(", ")}, 1.0)`;const n=t[3];return`vec4(${e.join(", ")}, ${n})`}),[I.Band]:Se(([t,e,n],i)=>{if(!(j0 in i.functions)){let r="";const s=i.bandCount||1;for(let o=0;o<s;o++){const a=Math.floor(o/4);let l=o%4;o===s-1&&l===1&&(l=3);const u=`${ce.TILE_TEXTURE_ARRAY}[${a}]`;r+=`  if (band == ${o+1}.0) {
    return texture2D(${u}, v_textureCoord + vec2(dx, dy))[${l}];
  }
`}i.functions[j0]=`float getBandValue(float band, float xOffset, float yOffset) {
  float dx = xOffset / ${ce.TEXTURE_PIXEL_WIDTH};
  float dy = yOffset / ${ce.TEXTURE_PIXEL_HEIGHT};
${r}
}`}return`${j0}(${t}, ${e??"0.0"}, ${n??"0.0"})`}),[I.Palette]:(t,e)=>{const[n,...i]=e.args,r=i.length,s=new Uint8Array(r*4);for(let u=0;u<i.length;u++){const c=i[u].value,h=ss(c),f=u*4;s[f]=h[0],s[f+1]=h[1],s[f+2]=h[2],s[f+3]=h[3]*255}t.paletteTextures||(t.paletteTextures=[]);const o=`${PR}[${t.paletteTextures.length}]`,a=new uj(o,s);t.paletteTextures.push(a);const l=q1(n,he,t);return`texture2D(${o}, vec2((${l} + 0.5) / ${r}.0, 0.5))`}};function q1(t,e,n){if(t instanceof eR){const i=Ej[t.operator];if(i===void 0)throw new Error(`No compiler defined for this operator: ${JSON.stringify(t.operator)}`);return i(n,t,e)}if((t.type&he)>0)return Hu(t.value);if((t.type&Dt)>0)return t.value.toString();if((t.type&Bt)>0)return gj(t.value.toString());if((t.type&yn)>0)return hj(t.value);if((t.type&os)>0)return Y1(t.value);if((t.type&Ho)>0)return fj(t.value);throw new Error(`Unexpected expression ${t.value} (expected type ${Ko(e)})`)}function _o(t,e,n){const i=G1();return vj(e,n,i,t)}const ph={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class IR extends tg{constructor(e){e=e||{};const n=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(ph.PRELOAD)}setPreload(e){this.set(ph.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(ph.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(ph.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}function V2(t,e){const n=`
    attribute vec2 ${Qh.TEXTURE_COORD};
    uniform mat4 ${ce.TILE_TRANSFORM};
    uniform float ${ce.TEXTURE_PIXEL_WIDTH};
    uniform float ${ce.TEXTURE_PIXEL_HEIGHT};
    uniform float ${ce.TEXTURE_RESOLUTION};
    uniform float ${ce.TEXTURE_ORIGIN_X};
    uniform float ${ce.TEXTURE_ORIGIN_Y};
    uniform float ${ce.DEPTH};

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;

    void main() {
      v_textureCoord = ${Qh.TEXTURE_COORD};
      v_mapCoord = vec2(
        ${ce.TEXTURE_ORIGIN_X} + ${ce.TEXTURE_RESOLUTION} * ${ce.TEXTURE_PIXEL_WIDTH} * v_textureCoord[0],
        ${ce.TEXTURE_ORIGIN_Y} - ${ce.TEXTURE_RESOLUTION} * ${ce.TEXTURE_PIXEL_HEIGHT} * v_textureCoord[1]
      );
      gl_Position = ${ce.TILE_TRANSFORM} * vec4(${Qh.TEXTURE_COORD}, ${ce.DEPTH}, 1.0);
    }
  `,i={...mj(),bandCount:e},r=[];if(t.color!==void 0){const h=_o(i,t.color,yn);r.push(`color = ${h};`)}if(t.contrast!==void 0){const h=_o(i,t.contrast,he);r.push(`color.rgb = clamp((${h} + 1.0) * color.rgb - (${h} / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}if(t.exposure!==void 0){const h=_o(i,t.exposure,he);r.push(`color.rgb = clamp((${h} + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}if(t.saturation!==void 0){const h=_o(i,t.saturation,he);r.push(`
      float saturation = ${h} + 1.0;
      float sr = (1.0 - saturation) * 0.2126;
      float sg = (1.0 - saturation) * 0.7152;
      float sb = (1.0 - saturation) * 0.0722;
      mat3 saturationMatrix = mat3(
        sr + saturation, sr, sr,
        sg, sg + saturation, sg,
        sb, sb, sb + saturation
      );
      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));
    `)}if(t.gamma!==void 0){const h=_o(i,t.gamma,he);r.push(`color.rgb = pow(color.rgb, vec3(1.0 / ${h}));`)}if(t.brightness!==void 0){const h=_o(i,t.brightness,he);r.push(`color.rgb = clamp(color.rgb + ${h}, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}const s={},o=Object.keys(i.variables).length;if(o>1&&!t.variables)throw new Error(`Missing variables in style (expected ${i.variables})`);for(let h=0;h<o;++h){const f=i.variables[Object.keys(i.variables)[h]];if(!(f.name in t.variables))throw new Error(`Missing '${f.name}' in style variables`);const g=RR(f.name);s[g]=function(){let d=t.variables[f.name];return typeof d=="string"&&(d=MR(d)),d!==void 0?d:-9999999}}const a=Object.keys(s).map(function(h){return`uniform float ${h};`}),l=Math.ceil(e/4);a.push(`uniform sampler2D ${ce.TILE_TEXTURE_ARRAY}[${l}];`),i.paletteTextures&&a.push(`uniform sampler2D ${PR}[${i.paletteTextures.length}];`);const u=Object.keys(i.functions).map(function(h){return i.functions[h]}),c=`
    #ifdef GL_FRAGMENT_PRECISION_HIGH
    precision highp float;
    #else
    precision mediump float;
    #endif

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;
    uniform vec4 ${ce.RENDER_EXTENT};
    uniform float ${ce.TRANSITION_ALPHA};
    uniform float ${ce.TEXTURE_PIXEL_WIDTH};
    uniform float ${ce.TEXTURE_PIXEL_HEIGHT};
    uniform float ${ce.RESOLUTION};
    uniform float ${ce.ZOOM};

    ${a.join(`
`)}

    ${u.join(`
`)}

    void main() {
      if (
        v_mapCoord[0] < ${ce.RENDER_EXTENT}[0] ||
        v_mapCoord[1] < ${ce.RENDER_EXTENT}[1] ||
        v_mapCoord[0] > ${ce.RENDER_EXTENT}[2] ||
        v_mapCoord[1] > ${ce.RENDER_EXTENT}[3]
      ) {
        discard;
      }

      vec4 color = texture2D(${ce.TILE_TEXTURE_ARRAY}[0],  v_textureCoord);

      ${r.join(`
`)}

      gl_FragColor = color;
      gl_FragColor.rgb *= gl_FragColor.a;
      gl_FragColor *= ${ce.TRANSITION_ALPHA};
    }`;return{vertexShader:n,fragmentShader:c,uniforms:s,paletteTextures:i.paletteTextures}}class AR extends IR{constructor(e){e=e?Object.assign({},e):{};const n=e.style||{};delete e.style,super(e),this.sources_=e.sources,this.renderedSource_=null,this.renderedResolution_=NaN,this.style_=n,this.styleVariables_=this.style_.variables||{},this.handleSourceUpdate_(),this.addChangeListener(Ce.SOURCE,this.handleSourceUpdate_)}getSources(e,n){const i=this.getSource();return this.sources_?typeof this.sources_=="function"?this.sources_(e,n):this.sources_:i?[i]:[]}getRenderSource(){return this.renderedSource_||this.getSource()}getSourceState(){const e=this.getRenderSource();return e?e.getState():"undefined"}handleSourceUpdate_(){this.hasRenderer()&&this.getRenderer().clearCache();const e=this.getSource();if(e)if(e.getState()==="loading"){const n=()=>{e.getState()==="ready"&&(e.removeEventListener("change",n),this.setStyle(this.style_))};e.addEventListener("change",n)}else this.setStyle(this.style_)}getSourceBandCount_(){const e=Number.MAX_SAFE_INTEGER,n=this.getSources([-e,-e,e,e],e);return n&&n.length&&"bandCount"in n[0]?n[0].bandCount:4}createRenderer(){const e=V2(this.style_,this.getSourceBandCount_());return new lj(this,{vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,cacheSize:this.getCacheSize(),paletteTextures:e.paletteTextures})}renderSources(e,n){const i=this.getRenderer();let r;for(let s=0,o=n.length;s<o;++s)this.renderedSource_=n[s],i.prepareFrame(e)&&(r=i.renderFrame(e));return r}render(e,n){this.rendered=!0;const i=e.viewState,r=this.getSources(e.extent,i.resolution);let s=!0;for(let a=0,l=r.length;a<l;++a){const u=r[a],c=u.getState();if(c=="loading"){const h=()=>{u.getState()=="ready"&&(u.removeEventListener("change",h),this.changed())};u.addEventListener("change",h)}s=s&&c=="ready"}const o=this.renderSources(e,r);if(this.getRenderer().renderComplete&&s)return this.renderedResolution_=i.resolution,o;if(this.renderedResolution_>.5*i.resolution){const a=this.getSources(e.extent,this.renderedResolution_).filter(l=>!r.includes(l));if(a.length>0)return this.renderSources(e,a)}return o}setStyle(e){if(this.styleVariables_=e.variables||{},this.style_=e,this.hasRenderer()){const n=V2(this.style_,this.getSourceBandCount_());this.getRenderer().reset({vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,uniforms:n.uniforms,paletteTextures:n.paletteTextures}),this.changed()}}updateStyleVariables(e){Object.assign(this.styleVariables_,e),this.changed()}}AR.prototype.dispose;class OR{drawCustom(e,n,i,r,s){}drawGeometry(e){}setStyle(e){}drawCircle(e,n,i){}drawFeature(e,n,i){}drawGeometryCollection(e,n,i){}drawLineString(e,n,i){}drawMultiLineString(e,n,i){}drawMultiPoint(e,n,i){}drawMultiPolygon(e,n,i){}drawPoint(e,n,i){}drawPolygon(e,n,i){}drawText(e,n,i){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}const re={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},_h=[re.FILL],$r=[re.STROKE],Ds=[re.BEGIN_PATH],W2=[re.CLOSE_PATH];class Tc extends OR{constructor(e,n,i,r){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(i){return i*n})}appendFlatPointCoordinates(e,n){const i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,s=this.coordinates;let o=s.length;for(let a=0,l=e.length;a<l;a+=n)r[0]=e[a],r[1]=e[a+1],rs(i,r)&&(s[o++]=r[0],s[o++]=r[1]);return o}appendFlatLineCoordinates(e,n,i,r,s,o){const a=this.coordinates;let l=a.length;const u=this.getBufferedMaxExtent();o&&(n+=r);let c=e[n],h=e[n+1];const f=this.tmpCoordinate_;let g=!0,d,p,m;for(d=n+r;d<i;d+=r)f[0]=e[d],f[1]=e[d+1],m=Rp(u,f),m!==p?(g&&(a[l++]=c,a[l++]=h,g=!1),a[l++]=f[0],a[l++]=f[1]):m===ft.INTERSECTING?(a[l++]=f[0],a[l++]=f[1],g=!1):g=!0,c=f[0],h=f[1],p=m;return(s&&g||d===n+r)&&(a[l++]=c,a[l++]=h),l}drawCustomCoordinates_(e,n,i,r,s){for(let o=0,a=i.length;o<a;++o){const l=i[o],u=this.appendFlatLineCoordinates(e,n,l,r,!1,!1);s.push(u),n=l}return n}drawCustom(e,n,i,r,s){this.beginGeometry(e,n,s);const o=e.getType(),a=e.getStride(),l=this.coordinates.length;let u,c,h,f,g;switch(o){case"MultiPolygon":u=e.getOrientedFlatCoordinates(),f=[];const d=e.getEndss();g=0;for(let p=0,m=d.length;p<m;++p){const _=[];g=this.drawCustomCoordinates_(u,g,d[p],a,_),f.push(_)}this.instructions.push([re.CUSTOM,l,f,e,i,Lp,s]),this.hitDetectionInstructions.push([re.CUSTOM,l,f,e,r||i,Lp,s]);break;case"Polygon":case"MultiLineString":h=[],u=o=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),g=this.drawCustomCoordinates_(u,0,e.getEnds(),a,h),this.instructions.push([re.CUSTOM,l,h,e,i,Gu,s]),this.hitDetectionInstructions.push([re.CUSTOM,l,h,e,r||i,Gu,s]);break;case"LineString":case"Circle":u=e.getFlatCoordinates(),c=this.appendFlatLineCoordinates(u,0,u.length,a,!1,!1),this.instructions.push([re.CUSTOM,l,c,e,i,jr,s]),this.hitDetectionInstructions.push([re.CUSTOM,l,c,e,r||i,jr,s]);break;case"MultiPoint":u=e.getFlatCoordinates(),c=this.appendFlatPointCoordinates(u,a),c>l&&(this.instructions.push([re.CUSTOM,l,c,e,i,jr,s]),this.hitDetectionInstructions.push([re.CUSTOM,l,c,e,r||i,jr,s]));break;case"Point":u=e.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),c=this.coordinates.length,this.instructions.push([re.CUSTOM,l,c,e,i,void 0,s]),this.hitDetectionInstructions.push([re.CUSTOM,l,c,e,r||i,void 0,s]);break}this.endGeometry(n)}beginGeometry(e,n,i){this.beginGeometryInstruction1_=[re.BEGIN_GEOMETRY,n,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[re.BEGIN_GEOMETRY,n,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const i=e.length;let r,s,o=-1;for(n=0;n<i;++n)r=e[n],s=r[0],s==re.END_GEOMETRY?o=n:s==re.BEGIN_GEOMETRY&&(r[2]=n,i7(this.hitDetectionInstructions,o,n),o=-1)}fillStyleToState(e,n={}){if(e){const i=e.getColor();n.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,n.fillStyle=Oi(i||nn)}else n.fillStyle=void 0;return n}strokeStyleToState(e,n={}){if(e){const i=e.getColor();n.strokeStyle=Oi(i||$u);const r=e.getLineCap();n.lineCap=r!==void 0?r:Aa;const s=e.getLineDash();n.lineDash=s?s.slice():sr;const o=e.getLineDashOffset();n.lineDashOffset=o||or;const a=e.getLineJoin();n.lineJoin=a!==void 0?a:Oa;const l=e.getWidth();n.lineWidth=l!==void 0?l:Bu;const u=e.getMiterLimit();n.miterLimit=u!==void 0?u:ju,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(e,n){const i=this.state;this.fillStyleToState(e,i),this.strokeStyleToState(n,i)}createFill(e){const n=e.fillStyle,i=[re.SET_FILL_STYLE,n];return typeof n!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[re.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(this.instructions.push(n.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,n){const i=e.strokeStyle,r=e.lineCap,s=e.lineDash,o=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,u=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||s!=e.currentLineDash&&!ys(e.currentLineDash,s)||e.currentLineDashOffset!=o||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=u)&&(n.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=s,e.currentLineDashOffset=o,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=u)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[re.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=_M(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;qy(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class xj extends Tc{constructor(e,n,i,r){super(e,n,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n,i){if(!this.image_||this.maxExtent&&!rs(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,n,i);const r=e.getFlatCoordinates(),s=e.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(r,s);this.instructions.push([re.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([re.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n,i){if(!this.image_)return;this.beginGeometry(e,n,i);const r=e.getFlatCoordinates(),s=[];for(let l=0,u=r.length;l<u;l+=e.getStride())(!this.maxExtent||rs(this.maxExtent,r.slice(l,l+2)))&&s.push(r[l],r[l+1]);const o=this.coordinates.length,a=this.appendFlatPointCoordinates(s,2);this.instructions.push([re.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([re.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const i=e.getAnchor(),r=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class wj extends Tc{constructor(e,n,i,r){super(e,n,i,r)}drawFlatCoordinates_(e,n,i,r){const s=this.coordinates.length,o=this.appendFlatLineCoordinates(e,n,i,r,!1,!1),a=[re.MOVE_TO_LINE_TO,s,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(e,n,i){const r=this.state,s=r.strokeStyle,o=r.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n,i),this.hitDetectionInstructions.push([re.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,sr,or],Ds);const a=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push($r),this.endGeometry(n)}drawMultiLineString(e,n,i){const r=this.state,s=r.strokeStyle,o=r.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n,i),this.hitDetectionInstructions.push([re.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,sr,or],Ds);const a=e.getEnds(),l=e.getFlatCoordinates(),u=e.getStride();let c=0;for(let h=0,f=a.length;h<f;++h)c=this.drawFlatCoordinates_(l,c,a[h],u);this.hitDetectionInstructions.push($r),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push($r),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push($r),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Ds)}}class X2 extends Tc{constructor(e,n,i,r){super(e,n,i,r)}drawFlatCoordinatess_(e,n,i,r){const s=this.state,o=s.fillStyle!==void 0,a=s.strokeStyle!==void 0,l=i.length;this.instructions.push(Ds),this.hitDetectionInstructions.push(Ds);for(let u=0;u<l;++u){const c=i[u],h=this.coordinates.length,f=this.appendFlatLineCoordinates(e,n,c,r,!0,!a),g=[re.MOVE_TO_LINE_TO,h,f];this.instructions.push(g),this.hitDetectionInstructions.push(g),a&&(this.instructions.push(W2),this.hitDetectionInstructions.push(W2)),n=c}return o&&(this.instructions.push(_h),this.hitDetectionInstructions.push(_h)),a&&(this.instructions.push($r),this.hitDetectionInstructions.push($r)),n}drawCircle(e,n,i){const r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([re.SET_FILL_STYLE,nn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([re.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,sr,or]);const a=e.getFlatCoordinates(),l=e.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);const c=[re.CIRCLE,u];this.instructions.push(Ds,c),this.hitDetectionInstructions.push(Ds,c),r.fillStyle!==void 0&&(this.instructions.push(_h),this.hitDetectionInstructions.push(_h)),r.strokeStyle!==void 0&&(this.instructions.push($r),this.hitDetectionInstructions.push($r)),this.endGeometry(n)}drawPolygon(e,n,i){const r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([re.SET_FILL_STYLE,nn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([re.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,sr,or]);const a=e.getEnds(),l=e.getOrientedFlatCoordinates(),u=e.getStride();this.drawFlatCoordinatess_(l,0,a,u),this.endGeometry(n)}drawMultiPolygon(e,n,i){const r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([re.SET_FILL_STYLE,nn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([re.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,sr,or]);const a=e.getEndss(),l=e.getOrientedFlatCoordinates(),u=e.getStride();let c=0;for(let h=0,f=a.length;h<f;++h)c=this.drawFlatCoordinatess_(l,c,a[h],u);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let i=0,r=n.length;i<r;++i)n[i]=Ms(n[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;this.updateFillStyle(e,this.createFill),this.updateStrokeStyle(e,this.applyStroke)}}function Sj(t,e,n,i,r){const s=[];let o=n,a=0,l=e.slice(n,2);for(;a<t&&o+r<i;){const[u,c]=l.slice(-2),h=e[o+r],f=e[o+r+1],g=Math.sqrt((h-u)*(h-u)+(f-c)*(f-c));if(a+=g,a>=t){const d=(t-a+g)/g,p=pn(u,h,d),m=pn(c,f,d);l.push(p,m),s.push(l),l=[p,m],a==t&&(o+=r),a=0}else if(a<t)l.push(e[o+r],e[o+r+1]),o+=r;else{const d=g-a,p=pn(u,h,d/g),m=pn(c,f,d/g);l.push(p,m),s.push(l),l=[p,m],a=0,o+=r}}return a>0&&s.push(l),s}function Cj(t,e,n,i,r){let s=n,o=n,a=0,l=0,u=n,c,h,f,g,d,p,m,_,y,v;for(h=n;h<i;h+=r){const E=e[h],x=e[h+1];d!==void 0&&(y=E-d,v=x-p,g=Math.sqrt(y*y+v*v),m!==void 0&&(l+=f,c=Math.acos((m*y+_*v)/(f*g)),c>t&&(l>a&&(a=l,s=u,o=h),l=0,u=h-r)),f=g,m=y,_=v),d=E,p=x}return l+=g,l>a?[u,h]:[s,o]}const id={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class Tj extends Tc{constructor(e,n,i,r){super(e,n,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[nn]={fillStyle:nn},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n,i){const r=this.textFillState_,s=this.textStrokeState_,o=this.textState_;if(this.text_===""||!o||!r&&!s)return;const a=this.coordinates;let l=a.length;const u=e.getType();let c=null,h=e.getStride();if(o.placement==="line"&&(u=="LineString"||u=="MultiLineString"||u=="Polygon"||u=="MultiPolygon")){if(!Vt(this.maxExtent,e.getExtent()))return;let f;if(c=e.getFlatCoordinates(),u=="LineString")f=[c.length];else if(u=="MultiLineString")f=e.getEnds();else if(u=="Polygon")f=e.getEnds().slice(0,1);else if(u=="MultiPolygon"){const m=e.getEndss();f=[];for(let _=0,y=m.length;_<y;++_)f.push(m[_][0])}this.beginGeometry(e,n,i);const g=o.repeat,d=g?void 0:o.textAlign;let p=0;for(let m=0,_=f.length;m<_;++m){let y;g?y=Sj(g*this.resolution,c,p,f[m],h):y=[c.slice(p,f[m])];for(let v=0,E=y.length;v<E;++v){const x=y[v];let S=0,w=x.length;if(d==null){const M=Cj(o.maxAngle,x,0,x.length,2);S=M[0],w=M[1]}for(let M=S;M<w;M+=h)a.push(x[M],x[M+1]);const C=a.length;p=f[m],this.drawChars_(l,C),l=C}}this.endGeometry(n)}else{let f=o.overflow?null:[];switch(u){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),h=2;break;case"Polygon":c=e.getFlatInteriorPoint(),o.overflow||f.push(c[2]/this.resolution),h=3;break;case"MultiPolygon":const E=e.getFlatInteriorPoints();c=[];for(let x=0,S=E.length;x<S;x+=3)o.overflow||f.push(E[x+2]/this.resolution),c.push(E[x],E[x+1]);if(c.length===0)return;h=2;break}const g=this.appendFlatPointCoordinates(c,h);if(g===l)return;if(f&&(g-l)/2!==c.length/h){let E=l/2;f=f.filter((x,S)=>{const w=a[(E+S)*2]===c[S*h]&&a[(E+S)*2+1]===c[S*h+1];return w||--E,w})}this.saveTextStates_();const d=o.backgroundFill?this.createFill(this.fillStyleToState(o.backgroundFill)):null,p=o.backgroundStroke?this.createStroke(this.strokeStyleToState(o.backgroundStroke)):null;this.beginGeometry(e,n,i);let m=o.padding;if(m!=Fs&&(o.scale[0]<0||o.scale[1]<0)){let E=o.padding[0],x=o.padding[1],S=o.padding[2],w=o.padding[3];o.scale[0]<0&&(x=-x,w=-w),o.scale[1]<0&&(E=-E,S=-S),m=[E,x,S,w]}const _=this.pixelRatio;this.instructions.push([re.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,m==Fs?Fs:m.map(function(E){return E*_}),d,p,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);const y=1/_,v=d?d.slice(0):null;v&&(v[1]=nn),this.hitDetectionInstructions.push([re.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[y,y],NaN,this.declutterMode_,this.declutterImageWithText_,m,v,p,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?nn:this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:n.font,textAlign:n.textAlign||zu,justify:n.justify,textBaseline:n.textBaseline||Qf,scale:n.scale});const o=this.fillKey_;i&&(o in this.fillStates||(this.fillStates[o]={fillStyle:i.fillStyle}))}drawChars_(e,n){const i=this.textStrokeState_,r=this.textState_,s=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,u=id[r.textBaseline],c=this.textOffsetY_*l,h=this.text_,f=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([re.DRAW_CHARS,e,n,u,r.overflow,a,r.maxAngle,l,c,s,f*l,h,o,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([re.DRAW_CHARS,e,n,u,r.overflow,a&&nn,r.maxAngle,l,c,s,f*l,h,o,1/l,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,n){let i,r,s;if(!e)this.text_="";else{const o=e.getFill();o?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=Oi(o.getColor()||nn)):(r=null,this.textFillState_=r);const a=e.getStroke();if(!a)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const p=a.getLineDash(),m=a.getLineDashOffset(),_=a.getWidth(),y=a.getMiterLimit();s.lineCap=a.getLineCap()||Aa,s.lineDash=p?p.slice():sr,s.lineDashOffset=m===void 0?or:m,s.lineJoin=a.getLineJoin()||Oa,s.lineWidth=_===void 0?Bu:_,s.miterLimit=y===void 0?ju:y,s.strokeStyle=Oi(a.getColor()||$u)}i=this.textState_;const l=e.getFont()||rR;iU(l);const u=e.getScaleArray();i.overflow=e.getOverflow(),i.font=l,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||Qf,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Fs,i.scale=u===void 0?[1,1]:u;const c=e.getOffsetX(),h=e.getOffsetY(),f=e.getRotateWithView(),g=e.getKeepUpright(),d=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=c===void 0?0:c,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=f===void 0?!1:f,this.textKeepUpright_=g===void 0?!0:g,this.textRotation_=d===void 0?0:d,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:oe(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+oe(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}const bj={Circle:X2,Default:Tc,Image:xj,LineString:wj,Polygon:X2,Text:Tj};class Mj{constructor(e,n,i,r){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const i=this.buildersByZIndex_[n];for(const r in i){const s=i[r].finish();e[n][r]=s}}return e}getBuilder(e,n){const i=e!==void 0?e.toString():"0";let r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let s=r[n];if(s===void 0){const o=bj[n];s=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[n]=s}return s}}function Z1(t,e,n,i){let r=t[e],s=t[e+1],o=0;for(let a=e+i;a<n;a+=i){const l=t[a],u=t[a+1];o+=Math.sqrt((l-r)*(l-r)+(u-s)*(u-s)),r=l,s=u}return o}function Rj(t,e,n,i,r,s,o,a,l,u,c,h,f=!0){let g=t[e],d=t[e+1],p=0,m=0,_=0,y=0;function v(){p=g,m=d,e+=i,g=t[e],d=t[e+1],y+=_,_=Math.sqrt((g-p)*(g-p)+(d-m)*(d-m))}do v();while(e<n-i&&y+_<s);let E=_===0?0:(s-y)/_;const x=pn(p,g,E),S=pn(m,d,E),w=e-i,C=y,M=s+a*l(u,r,c);for(;e<n-i&&y+_<M;)v();E=_===0?0:(M-y)/_;const b=pn(p,g,E),L=pn(m,d,E);let O=!1;if(f)if(h){const B=[x,S,b,L];d1(B,0,4,2,h,B,B),O=B[0]>B[2]}else O=x>b;const N=Math.PI,$=[],U=w+i===e;e=w,_=0,y=C,g=t[e],d=t[e+1];let j;if(U){v(),j=Math.atan2(d-m,g-p),O&&(j+=j>0?-N:N);const B=(b+x)/2,P=(L+S)/2;return $[0]=[B,P,(M-s)/2,j,r],$}r=r.replace(/\n/g," ");for(let B=0,P=r.length;B<P;){v();let F=Math.atan2(d-m,g-p);if(O&&(F+=F>0?-N:N),j!==void 0){let H=F-j;if(H+=H>N?-2*N:H<-N?2*N:0,Math.abs(H)>o)return null}j=F;const D=B;let G=0;for(;B<P;++B){const H=O?P-B-1:B,J=a*l(u,r[H],c);if(e+i<n&&y+_<s+G+J/2)break;G+=J}if(B===D)continue;const R=O?r.substring(P-D,P-B):r.substring(D,B);E=_===0?0:(s+G/2-y)/_;const X=pn(p,g,E),K=pn(m,d,E);$.push([X,K,G/2,F,R]),s+=G}return $}class LR{constructor(){jv(this,"pushMethodArgs_",(...e)=>(this.push_(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Jf(),{get:(e,n)=>{if(typeof Jf()[n]=="function")return this.push_(n),this.pushMethodArgs_},set:(e,n,i)=>(this.push_(n,i),!0)})}push_(...e){const n=this.instructions_,i=this.zIndex+this.offset_;n[i]||(n[i]=[]),n[i].push(...e)}pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let i=0,r=n.length;i<r;++i){const s=n[i];if(typeof s=="function"){s(e);continue}const o=n[++i];if(typeof e[s]=="function")e[s](...o);else{if(typeof o=="function"){e[s]=o(e);continue}e[s]=o}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const yo=Cn(),br=[],Hi=[],Ki=[],Mr=[];function H2(t){return t[3].declutterBox}const K2=new RegExp("[-----]");function $0(t,e){return e==="start"?e=K2.test(t)?"right":"left":e==="end"&&(e=K2.test(t)?"left":"right"),id[e]}function Pj(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}function Ij(t,e,n){return n%2===0&&(t+=e),t}class Aj{constructor(e,n,i,r,s){this.overlaps=i,this.pixelRatio=n,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Gt(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=s?new LR:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,n,i,r){const s=e+n+i+r;if(this.labels_[s])return this.labels_[s];const o=r?this.strokeStates[r]:null,a=i?this.fillStates[i]:null,l=this.textStates[n],u=this.pixelRatio,c=[l.scale[0]*u,l.scale[1]*u],h=l.justify?id[l.justify]:$0(Array.isArray(e)?e[0]:e,l.textAlign||zu),f=r&&o.lineWidth?o.lineWidth:0,g=Array.isArray(e)?e:String(e).split(`
`).reduce(Pj,[]),{width:d,height:p,widths:m,heights:_,lineWidths:y}=sU(l,g),v=d+f,E=[],x=(v+2)*c[0],S=(p+f)*c[1],w={width:x<0?Math.floor(x):Math.ceil(x),height:S<0?Math.floor(S):Math.ceil(S),contextInstructions:E};(c[0]!=1||c[1]!=1)&&E.push("scale",c),r&&(E.push("strokeStyle",o.strokeStyle),E.push("lineWidth",f),E.push("lineCap",o.lineCap),E.push("lineJoin",o.lineJoin),E.push("miterLimit",o.miterLimit),E.push("setLineDash",[o.lineDash]),E.push("lineDashOffset",o.lineDashOffset)),i&&E.push("fillStyle",a.fillStyle),E.push("textBaseline","middle"),E.push("textAlign","center");const C=.5-h;let M=h*v+C*f;const b=[],L=[];let O=0,N=0,$=0,U=0,j;for(let B=0,P=g.length;B<P;B+=2){const F=g[B];if(F===`
`){N+=O,O=0,M=h*v+C*f,++U;continue}const D=g[B+1]||l.font;D!==j&&(r&&b.push("font",D),i&&L.push("font",D),j=D),O=Math.max(O,_[$]);const G=[F,M+C*m[$]+h*(m[$]-y[U]),.5*(f+O)+N];M+=m[$],r&&b.push("strokeText",G),i&&L.push("fillText",G),++$}return Array.prototype.push.apply(E,b),Array.prototype.push.apply(E,L),this.labels_[s]=w,w}replayTextBackground_(e,n,i,r,s,o,a){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,s),e.lineTo.apply(e,n),o&&(this.alignAndScaleFill_=o[2],e.fillStyle=o[1],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,n,i,r,s,o,a,l,u,c,h,f,g,d,p,m){a*=f[0],l*=f[1];let _=i-a,y=r-l;const v=s+u>e?e-u:s,E=o+c>n?n-c:o,x=d[3]+v*f[0]+d[1],S=d[0]+E*f[1]+d[2],w=_-d[3],C=y-d[0];(p||h!==0)&&(br[0]=w,Mr[0]=w,br[1]=C,Hi[1]=C,Hi[0]=w+x,Ki[0]=Hi[0],Ki[1]=C+S,Mr[1]=Ki[1]);let M;return h!==0?(M=hi(Gt(),i,r,1,1,h,-i,-r),st(M,br),st(M,Hi),st(M,Ki),st(M,Mr),ji(Math.min(br[0],Hi[0],Ki[0],Mr[0]),Math.min(br[1],Hi[1],Ki[1],Mr[1]),Math.max(br[0],Hi[0],Ki[0],Mr[0]),Math.max(br[1],Hi[1],Ki[1],Mr[1]),yo)):ji(Math.min(w,w+x),Math.min(C,C+S),Math.max(w,w+x),Math.max(C,C+S),yo),g&&(_=Math.round(_),y=Math.round(y)),{drawImageX:_,drawImageY:y,drawImageW:v,drawImageH:E,originX:u,originY:c,declutterBox:{minX:yo[0],minY:yo[1],maxX:yo[2],maxY:yo[3],value:m},canvasTransform:M,scale:f}}replayImageOrLabel_(e,n,i,r,s,o,a){const l=!!(o||a),u=r.declutterBox,c=a?a[2]*r.scale[0]/2:0;return u.minX-c<=n[0]&&u.maxX+c>=0&&u.minY-c<=n[1]&&u.maxY+c>=0&&(l&&this.replayTextBackground_(e,br,Hi,Ki,Mr,o,a),oU(e,r.canvasTransform,s,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){const n=this.alignAndScaleFill_;if(n){const i=st(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),n!==1&&e.scale(n,n),e.rotate(this.viewRotation_)}e.fill(),n&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],n[1]&&(e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6]))}drawLabelWithPointPlacement_(e,n,i,r){const s=this.textStates[n],o=this.createLabel(e,n,r,i),a=this.strokeStates[i],l=this.pixelRatio,u=$0(Array.isArray(e)?e[0]:e,s.textAlign||zu),c=id[s.textBaseline||Qf],h=a&&a.lineWidth?a.lineWidth:0,f=o.width/l-2*s.scale[0],g=u*f+2*(.5-u)*h,d=c*o.height/l+2*(.5-c)*h;return{label:o,anchorX:g,anchorY:d}}execute_(e,n,i,r,s,o,a,l){const u=this.zIndexContext_;let c;this.pixelCoordinates_&&ys(i,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=Jr(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),rG(this.renderedTransform_,i));let h=0;const f=r.length;let g=0,d,p,m,_,y,v,E,x,S,w,C,M,b,L=0,O=0;const N=this.coordinateCache_,$=this.viewRotation_,U=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,j={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:$},B=this.instructions!=r||this.overlaps?0:200;let P,F,D,G;for(;h<f;){const R=r[h];switch(R[0]){case re.BEGIN_GEOMETRY:P=R[1],G=R[3],P.getGeometry()?a!==void 0&&!Vt(a,G.getExtent())?h=R[2]+1:++h:h=R[2],u&&(u.zIndex=R[4]);break;case re.BEGIN_PATH:L>B&&(this.fill_(e),L=0),O>B&&(e.stroke(),O=0),!L&&!O&&(e.beginPath(),y=NaN,v=NaN),++h;break;case re.CIRCLE:g=R[1];const K=c[g],H=c[g+1],J=c[g+2],te=c[g+3],ve=J-K,Ge=te-H,ze=Math.sqrt(ve*ve+Ge*Ge);e.moveTo(K+ze,H),e.arc(K,H,ze,0,2*Math.PI,!0),++h;break;case re.CLOSE_PATH:e.closePath(),++h;break;case re.CUSTOM:g=R[1],d=R[2];const Hn=R[3],Kn=R[4],Yn=R[5];j.geometry=Hn,j.feature=P,h in N||(N[h]=[]);const Zt=N[h];Yn?Yn(c,g,d,2,Zt):(Zt[0]=c[g],Zt[1]=c[g+1],Zt.length=2),u&&(u.zIndex=R[6]),Kn(Zt,j),++h;break;case re.DRAW_IMAGE:g=R[1],d=R[2],S=R[3],p=R[4],m=R[5];let rt=R[6];const Jt=R[7],xr=R[8],Pn=R[9],In=R[10];let Qe=R[11];const wr=R[12];let _i=R[13];_=R[14]||"declutter";const ht=R[15];if(!S&&R.length>=20){w=R[19],C=R[20],M=R[21],b=R[22];const An=this.drawLabelWithPointPlacement_(w,C,M,b);S=An.label,R[3]=S;const Es=R[23];p=(An.anchorX-Es)*this.pixelRatio,R[4]=p;const On=R[24];m=(An.anchorY-On)*this.pixelRatio,R[5]=m,rt=S.height,R[6]=rt,_i=S.width,R[13]=_i}let Ig;R.length>25&&(Ig=R[25]);let Ag,Oc,Lc;R.length>17?(Ag=R[16],Oc=R[17],Lc=R[18]):(Ag=Fs,Oc=null,Lc=null),In&&U?Qe+=$:!In&&!U&&(Qe-=$);let eI=0;for(;g<d;g+=2){if(Ig&&Ig[eI++]<_i/this.pixelRatio)continue;const An=this.calculateImageOrLabelDimensions_(S.width,S.height,c[g],c[g+1],_i,rt,p,m,xr,Pn,Qe,wr,s,Ag,!!Oc||!!Lc,P),Es=[e,n,S,An,Jt,Oc,Lc];if(l){let On,yi,Ln;if(ht){const Ke=d-g;if(!ht[Ke]){ht[Ke]={args:Es,declutterMode:_};continue}const jt=ht[Ke];On=jt.args,yi=jt.declutterMode,delete ht[Ke],Ln=H2(On)}let Vi,Wi;if(On&&(yi!=="declutter"||!l.collides(Ln))&&(Vi=!0),(_!=="declutter"||!l.collides(An.declutterBox))&&(Wi=!0),yi==="declutter"&&_==="declutter"){const Ke=Vi&&Wi;Vi=Ke,Wi=Ke}Vi&&(yi!=="none"&&l.insert(Ln),this.replayImageOrLabel_.apply(this,On)),Wi&&(_!=="none"&&l.insert(An.declutterBox),this.replayImageOrLabel_.apply(this,Es))}else this.replayImageOrLabel_.apply(this,Es)}++h;break;case re.DRAW_CHARS:const Lv=R[1],kv=R[2],Og=R[3],tI=R[4];b=R[5];const nI=R[6],Fv=R[7],Dv=R[8];M=R[9];const Lg=R[10];w=R[11],Array.isArray(w)&&(w=w.reduce(Ij,"")),C=R[12];const Nv=[R[13],R[13]];_=R[14]||"declutter";const iI=R[15],kg=this.textStates[C],al=kg.font,ll=[kg.scale[0]*Fv,kg.scale[1]*Fv];let ul;al in this.widths_?ul=this.widths_[al]:(ul={},this.widths_[al]=ul);const Gv=Z1(c,Lv,kv,2),Uv=Math.abs(ll[0])*C2(al,w,ul);if(tI||Uv<=Gv){const An=this.textStates[C].textAlign,Es=(Gv-Uv)*$0(w,An),On=Rj(c,Lv,kv,2,w,Es,nI,Math.abs(ll[0]),C2,al,ul,U?0:this.viewRotation_,iI);e:if(On){const yi=[];let Ln,Vi,Wi,Ke,jt;if(M)for(Ln=0,Vi=On.length;Ln<Vi;++Ln){jt=On[Ln],Wi=jt[4],Ke=this.createLabel(Wi,C,"",M),p=jt[2]+(ll[0]<0?-Lg:Lg),m=Og*Ke.height+(.5-Og)*2*Lg*ll[1]/ll[0]-Dv;const Xi=this.calculateImageOrLabelDimensions_(Ke.width,Ke.height,jt[0],jt[1],Ke.width,Ke.height,p,m,0,0,jt[3],Nv,!1,Fs,!1,P);if(l&&_==="declutter"&&l.collides(Xi.declutterBox))break e;yi.push([e,n,Ke,Xi,1,null,null])}if(b)for(Ln=0,Vi=On.length;Ln<Vi;++Ln){jt=On[Ln],Wi=jt[4],Ke=this.createLabel(Wi,C,b,""),p=jt[2],m=Og*Ke.height-Dv;const Xi=this.calculateImageOrLabelDimensions_(Ke.width,Ke.height,jt[0],jt[1],Ke.width,Ke.height,p,m,0,0,jt[3],Nv,!1,Fs,!1,P);if(l&&_==="declutter"&&l.collides(Xi.declutterBox))break e;yi.push([e,n,Ke,Xi,1,null,null])}l&&_!=="none"&&l.load(yi.map(H2));for(let Xi=0,rI=yi.length;Xi<rI;++Xi)this.replayImageOrLabel_.apply(this,yi[Xi])}}++h;break;case re.END_GEOMETRY:if(o!==void 0){P=R[1];const An=o(P,G,_);if(An)return An}++h;break;case re.FILL:B?L++:this.fill_(e),++h;break;case re.MOVE_TO_LINE_TO:for(g=R[1],d=R[2],F=c[g],D=c[g+1],e.moveTo(F,D),y=F+.5|0,v=D+.5|0,g+=2;g<d;g+=2)F=c[g],D=c[g+1],E=F+.5|0,x=D+.5|0,(g==d-2||E!==y||x!==v)&&(e.lineTo(F,D),y=E,v=x);++h;break;case re.SET_FILL_STYLE:this.alignAndScaleFill_=R[2],L&&(this.fill_(e),L=0,O&&(e.stroke(),O=0)),e.fillStyle=R[1],++h;break;case re.SET_STROKE_STYLE:O&&(e.stroke(),O=0),this.setStrokeStyle_(e,R),++h;break;case re.STROKE:B?O++:e.stroke(),++h;break;default:++h;break}}L&&this.fill_(e),O&&e.stroke()}execute(e,n,i,r,s,o){this.viewRotation_=r,this.execute_(e,n,i,this.instructions,s,void 0,void 0,o)}executeHitDetection(e,n,i,r,s){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],n,this.hitDetectionInstructions,!0,r,s)}}const Rs=["Polygon","Circle","LineString","Image","Text","Default"],kR=["Image","Text"],Oj=Rs.filter(t=>!kR.includes(t));class Lj{constructor(e,n,i,r,s,o,a){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Gt(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(s,a)}clip(e,n){const i=this.getClipCoords(n);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,n){for(const i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);const s=e[i];for(const o in s){const a=s[o];r[o]=new Aj(this.resolution_,this.pixelRatio_,this.overlaps_,a,n)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const i=this.executorsByZIndex_[n];for(let r=0,s=e.length;r<s;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,n,i,r,s,o){r=Math.round(r);const a=r*2+1,l=hi(this.hitDetectionTransform_,r+.5,r+.5,1/n,-1/n,-i,-e[0],-e[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=Ze(a,a));const c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):u||c.clearRect(0,0,a,a);let h;this.renderBuffer_!==void 0&&(h=Cn(),nu(h,e),qy(h,n*(this.renderBuffer_+r),h));const f=kj(r);let g;function d(x,S,w){const C=c.getImageData(0,0,a,a).data;for(let M=0,b=f.length;M<b;M++)if(C[f[M]]>0){if(!o||w==="none"||g!=="Image"&&g!=="Text"||o.includes(x)){const L=(f[M]-3)/4,O=r-L%a,N=r-(L/a|0),$=s(x,S,O*O+N*N);if($)return $}c.clearRect(0,0,a,a);break}}const p=Object.keys(this.executorsByZIndex_).map(Number);p.sort(ir);let m,_,y,v,E;for(m=p.length-1;m>=0;--m){const x=p[m].toString();for(y=this.executorsByZIndex_[x],_=Rs.length-1;_>=0;--_)if(g=Rs[_],v=y[g],v!==void 0&&(E=v.executeHitDetection(c,l,i,d,h),E))return E}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const i=n[0],r=n[1],s=n[2],o=n[3],a=[i,r,i,o,s,o,s,r];return Jr(a,0,8,2,e,a),a}isEmpty(){return qs(this.executorsByZIndex_)}execute(e,n,i,r,s,o,a){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(a?hM:ir),o=o||Rs;const u=Rs.length;for(let c=0,h=l.length;c<h;++c){const f=l[c].toString(),g=this.executorsByZIndex_[f];for(let d=0,p=o.length;d<p;++d){const m=o[d],_=g[m];if(_!==void 0){const y=a===null?void 0:_.getZIndexContext(),v=y?y.getContext():e,E=this.maxExtent_&&m!=="Image"&&m!=="Text";if(E&&(v.save(),this.clip(v,i)),!y||m==="Text"||m==="Image"?_.execute(v,n,i,r,s,a):y.pushFunction(x=>_.execute(x,n,i,r,s,a)),E&&v.restore(),y){y.offset();const x=l[c]*u+Rs.indexOf(m);this.deferredZIndexContexts_[x]||(this.deferredZIndexContexts_[x]=[]),this.deferredZIndexContexts_[x].push(y)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,n=Object.keys(e).map(Number).sort(ir);for(let i=0,r=n.length;i<r;++i)e[n[i]].forEach(s=>{s.draw(this.renderedContext_),s.clear()}),e[n[i]].length=0}}const z0={};function kj(t){if(z0[t]!==void 0)return z0[t];const e=t*2+1,n=t*t,i=new Array(n+1);for(let s=0;s<=t;++s)for(let o=0;o<=t;++o){const a=s*s+o*o;if(a>n)break;let l=i[a];l||(l=[],i[a]=l),l.push(((t+s)*e+(t+o))*4+3),s>0&&l.push(((t-s)*e+(t+o))*4+3),o>0&&(l.push(((t+s)*e+(t-o))*4+3),s>0&&l.push(((t-s)*e+(t-o))*4+3))}const r=[];for(let s=0,o=i.length;s<o;++s)i[s]&&r.push(...i[s]);return z0[t]=r,r}class Fj extends OR{constructor(e,n,i,r,s,o,a){super(),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.transformRotation_=r?Ec(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=o,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Gt()}drawImages_(e,n,i,r){if(!this.image_)return;const s=Jr(e,n,i,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,l=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=l*this.imageOpacity_);let u=this.imageRotation_;this.transformRotation_===0&&(u-=this.viewRotation_),this.imageRotateWithView_&&(u+=this.viewRotation_);for(let c=0,h=s.length;c<h;c+=2){const f=s[c]-this.imageAnchorX_,g=s[c+1]-this.imageAnchorY_;if(u!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const d=f+this.imageAnchorX_,p=g+this.imageAnchorY_;hi(a,d,p,1,1,u,-d,-p),o.save(),o.transform.apply(o,a),o.translate(d,p),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,g,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=l)}drawText_(e,n,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=Jr(e,n,i,r,this.transform_,this.pixelCoordinates_),o=this.context_;let a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);n<i;n+=r){const l=s[n]+this.textOffsetX_,u=s[n+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.save(),o.translate(l-this.textOffsetX_,u-this.textOffsetY_),o.rotate(a),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,l,u),this.textFillState_&&o.fillText(this.text_,l,u))}}moveToLineTo_(e,n,i,r,s){const o=this.context_,a=Jr(e,n,i,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);let l=a.length;s&&(l-=2);for(let u=2;u<l;u+=2)o.lineTo(a[u],a[u+1]);return s&&o.closePath(),i}drawRings_(e,n,i,r){for(let s=0,o=i.length;s<o;++s)n=this.moveToLineTo_(e,n,i[s],r,!0);return n}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Vt(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=gG(e,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],r=n[3]-n[1],s=Math.sqrt(i*i+r*r),o=this.context_;o.beginPath(),o.arc(n[0],n[1],s,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const i=n.getGeometryFunction()(e);i&&(this.setStyle(n),this.drawGeometry(i))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let i=0,r=n.length;i<r;++i)this.drawGeometry(n[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Vt(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(Vt(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,r=e.getFlatCoordinates();let s=0;const o=e.getEnds(),a=e.getStride();i.beginPath();for(let l=0,u=o.length;l<u;++l)s=this.moveToLineTo_(r,s,o[l],a,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Vt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Vt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getOrientedFlatCoordinates();let r=0;const s=e.getEndss(),o=e.getStride();n.beginPath();for(let a=0,l=s.length;a<l;++a){const u=s[a];r=this.drawRings_(i,r,u,o)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,n.lineCap=e.lineCap),ys(i.lineDash,e.lineDash)||n.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:zu;i?(i.font!=e.font&&(i.font=e.font,n.font=e.font),i.textAlign!=r&&(i.textAlign=r,n.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=r,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:Oi(i||nn)}}if(!n)this.strokeState_=null;else{const i=n.getColor(),r=n.getLineCap(),s=n.getLineDash(),o=n.getLineDashOffset(),a=n.getLineJoin(),l=n.getWidth(),u=n.getMiterLimit(),c=s||sr;this.strokeState_={lineCap:r!==void 0?r:Aa,lineDash:this.pixelRatio_===1?c:c.map(h=>h*this.pixelRatio_),lineDashOffset:(o||or)*this.pixelRatio_,lineJoin:a!==void 0?a:Oa,lineWidth:(l!==void 0?l:Bu)*this.pixelRatio_,miterLimit:u!==void 0?u:ju,strokeStyle:Oi(i||$u)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=n[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/i,o[1]*this.pixelRatio_/i],this.imageWidth_=n[0]*i}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const g=n.getColor();this.textFillState_={fillStyle:Oi(g||nn)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const g=i.getColor(),d=i.getLineCap(),p=i.getLineDash(),m=i.getLineDashOffset(),_=i.getLineJoin(),y=i.getWidth(),v=i.getMiterLimit();this.textStrokeState_={lineCap:d!==void 0?d:Aa,lineDash:p||sr,lineDashOffset:m||or,lineJoin:_!==void 0?_:Oa,lineWidth:y!==void 0?y:Bu,miterLimit:v!==void 0?v:ju,strokeStyle:Oi(g||$u)}}const r=e.getFont(),s=e.getOffsetX(),o=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),u=e.getScaleArray(),c=e.getText(),h=e.getTextAlign(),f=e.getTextBaseline();this.textState_={font:r!==void 0?r:rR,textAlign:h!==void 0?h:zu,textBaseline:f!==void 0?f:Qf},this.text_=c!==void 0?Array.isArray(c)?c.reduce((g,d,p)=>g+=p%2?" ":d,""):c:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*u[0],this.pixelRatio_*u[1]]}}}const Pi=.5;function Dj(t,e,n,i,r,s,o,a,l){const u=r,c=t[0]*Pi,h=t[1]*Pi,f=Ze(c,h);f.imageSmoothingEnabled=!1;const g=f.canvas,d=new Fj(f,Pi,r,null,o,a,null),p=n.length,m=Math.floor((256*256*256-1)/p),_={};for(let v=1;v<=p;++v){const E=n[v-1],x=E.getStyleFunction()||i;if(!x)continue;let S=x(E,s);if(!S)continue;Array.isArray(S)||(S=[S]);const C=(v*m).toString(16).padStart(7,"#00000");for(let M=0,b=S.length;M<b;++M){const L=S[M],O=L.getGeometryFunction()(E);if(!O||!Vt(u,O.getExtent()))continue;const N=L.clone(),$=N.getFill();$&&$.setColor(C);const U=N.getStroke();U&&(U.setColor(C),U.setLineDash(null)),N.setText(void 0);const j=L.getImage();if(j){const D=j.getImageSize();if(!D)continue;const G=Ze(D[0],D[1],void 0,{alpha:!1}),R=G.canvas;G.fillStyle=C,G.fillRect(0,0,R.width,R.height),N.setImage(new Sc({img:R,anchor:j.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:j.getOrigin(),opacity:1,size:j.getSize(),scale:j.getScale(),rotation:j.getRotation(),rotateWithView:j.getRotateWithView()}))}const B=N.getZIndex()||0;let P=_[B];P||(P={},_[B]=P,P.Polygon=[],P.Circle=[],P.LineString=[],P.Point=[]);const F=O.getType();if(F==="GeometryCollection"){const D=O.getGeometriesArrayRecursive();for(let G=0,R=D.length;G<R;++G){const X=D[G];P[X.getType().replace("Multi","")].push(X,N)}}else P[F.replace("Multi","")].push(O,N)}}const y=Object.keys(_).map(Number).sort(ir);for(let v=0,E=y.length;v<E;++v){const x=_[y[v]];for(const S in x){const w=x[S];for(let C=0,M=w.length;C<M;C+=2){d.setStyle(w[C+1]);for(let b=0,L=e.length;b<L;++b)d.setTransform(e[b]),d.drawGeometry(w[C])}}}return f.getImageData(0,0,g.width,g.height)}function Nj(t,e,n){const i=[];if(n){const r=Math.floor(Math.round(t[0])*Pi),s=Math.floor(Math.round(t[1])*Pi),o=(Oe(r,0,n.width-1)+Oe(s,0,n.height-1)*n.width)*4,a=n.data[o],l=n.data[o+1],c=n.data[o+2]+256*(l+256*a),h=Math.floor((256*256*256-1)/e.length);c&&c%h===0&&i.push(e[c/h-1])}return i}const Gj=.5,FR={Point:Xj,LineString:Bj,Polygon:Kj,MultiPoint:Hj,MultiLineString:Vj,MultiPolygon:Wj,GeometryCollection:zj,Circle:jj};function Uj(t,e){return parseInt(oe(t),10)-parseInt(oe(e),10)}function Y2(t,e){const n=DR(t,e);return n*n}function DR(t,e){return Gj*t/e}function jj(t,e,n,i,r){const s=n.getFill(),o=n.getStroke();if(s||o){const l=t.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(s,o),l.drawCircle(e,i,r)}const a=n.getText();if(a&&a.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i)}}function q2(t,e,n,i,r,s,o,a){const l=[],u=n.getImage();if(u){let f=!0;const g=u.getImageState();g==pe.LOADED||g==pe.ERROR?f=!1:g==pe.IDLE&&u.load(),f&&l.push(u.ready())}const c=n.getFill();c&&c.loading()&&l.push(c.ready());const h=l.length>0;return h&&Promise.all(l).then(()=>r(null)),$j(t,e,n,i,s,o,a),h}function $j(t,e,n,i,r,s,o){const a=n.getGeometryFunction()(e);if(!a)return;const l=a.simplifyTransformed(i,r);if(n.getRenderer())NR(t,l,n,e,o);else{const c=FR[l.getType()];c(t,l,n,e,o,s)}}function NR(t,e,n,i,r){if(e.getType()=="GeometryCollection"){const o=e.getGeometries();for(let a=0,l=o.length;a<l;++a)NR(t,o[a],n,i,r);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer(),r)}function zj(t,e,n,i,r,s){const o=e.getGeometriesArray();let a,l;for(a=0,l=o.length;a<l;++a){const u=FR[o[a].getType()];u(t,o[a],n,i,r,s)}}function Bj(t,e,n,i,r){const s=n.getStroke();if(s){const a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawLineString(e,i,r)}const o=n.getText();if(o&&o.getText()){const a=t.getBuilder(n.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,i,r)}}function Vj(t,e,n,i,r){const s=n.getStroke();if(s){const a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawMultiLineString(e,i,r)}const o=n.getText();if(o&&o.getText()){const a=t.getBuilder(n.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,i,r)}}function Wj(t,e,n,i,r){const s=n.getFill(),o=n.getStroke();if(o||s){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(s,o),l.drawMultiPolygon(e,i,r)}const a=n.getText();if(a&&a.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,r)}}function Xj(t,e,n,i,r,s){const o=n.getImage(),a=n.getText(),l=a&&a.getText(),u=s&&o&&l?{}:void 0;if(o){if(o.getImageState()!=pe.LOADED)return;const c=t.getBuilder(n.getZIndex(),"Image");c.setImageStyle(o,u),c.drawPoint(e,i,r)}if(l){const c=t.getBuilder(n.getZIndex(),"Text");c.setTextStyle(a,u),c.drawText(e,i,r)}}function Hj(t,e,n,i,r,s){const o=n.getImage(),a=o&&o.getOpacity()!==0,l=n.getText(),u=l&&l.getText(),c=s&&a&&u?{}:void 0;if(a){if(o.getImageState()!=pe.LOADED)return;const h=t.getBuilder(n.getZIndex(),"Image");h.setImageStyle(o,c),h.drawMultiPoint(e,i,r)}if(u){const h=t.getBuilder(n.getZIndex(),"Text");h.setTextStyle(l,c),h.drawText(e,i,r)}}function Kj(t,e,n,i,r){const s=n.getFill(),o=n.getStroke();if(s||o){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(s,o),l.drawPolygon(e,i,r)}const a=n.getText();if(a&&a.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,r)}}const Z2=[];let Ro=null;function Yj(){Ro=Ze(1,1,void 0,{willReadFrequently:!0})}class GR extends bR{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Gt(),this.pixelTransform=Gt(),this.inversePixelTransform=Gt(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,n,i){Ro||Yj(),Ro.clearRect(0,0,1,1);let r;try{Ro.drawImage(e,n,i,1,1,0,0,1,1),r=Ro.getImageData(0,0,1,1).data}catch{return Ro=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,n,i){const r=this.getLayer().getClassName();let s,o;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&ys(ss(e.style.backgroundColor),ss(i)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&cG(o.canvas.style.transform,n)?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let a=s.style;a.position="absolute",a.width="100%",a.height="100%",o=Ze();const l=o.canvas;s.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,n,i){const r=dr(i),s=Xd(i),o=Wd(i),a=Vd(i);st(n.coordinateToPixelTransform,r),st(n.coordinateToPixelTransform,s),st(n.coordinateToPixelTransform,o),st(n.coordinateToPixelTransform,a);const l=this.inversePixelTransform;st(l,r),st(l,s),st(l,o),st(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,n){const i=e.extent,r=e.viewState.resolution,s=e.viewState.rotation,o=e.pixelRatio,a=Math.round(xe(i)/r*o),l=Math.round(_t(i)/r*o);hi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,s,-a/2,-l/2),f1(this.inversePixelTransform,this.pixelTransform);const u=uG(this.pixelTransform);if(this.useContainer(n,u,this.getBackground(e)),!this.containerReused){const c=this.context.canvas;c.width!=a||c.height!=l?(c.width=a,c.height=l):this.context.clearRect(0,0,a,l),u!==c.style.transform&&(c.style.transform=u)}}dispatchRenderEvent_(e,n,i){const r=this.getLayer();if(r.hasListener(e)){const s=new ru(e,this.inversePixelTransform,i,n);r.dispatchEvent(s)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(pt.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(pt.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new LR),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(pt.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(pt.POSTRENDER,this.context,e))}getRenderTransform(e,n,i,r,s,o,a){const l=s/2,u=o/2,c=r/n,h=-c,f=-e[0]+a,g=-e[1];return hi(this.tempTransform,l,u,c,h,-i,f,g)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class qj extends GR{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Cn(),this.wrappedRenderedExtent_=Cn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,n,i){const r=n.extent,s=n.viewState,o=s.center,a=s.resolution,l=s.projection,u=s.rotation,c=l.getExtent(),h=this.getLayer().getSource(),f=this.getLayer().getDeclutter(),g=n.pixelRatio,d=n.viewHints,p=!(d[kt.ANIMATING]||d[kt.INTERACTING]),m=this.context,_=Math.round(xe(r)/a*g),y=Math.round(_t(r)/a*g),v=h.getWrapX()&&l.canWrapX(),E=v?xe(c):null,x=v?Math.ceil((r[2]-c[2])/E)+1:1;let S=v?Math.floor((r[0]-c[0])/E):0;do{let w=this.getRenderTransform(o,a,0,g,_,y,S*E);n.declutter&&(w=w.slice(0)),e.execute(m,[m.canvas.width,m.canvas.height],w,u,p,i===void 0?Rs:i?kR:Oj,i?f&&n.declutter[f]:void 0)}while(++S<x)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Ze(this.context.canvas.width,this.context.canvas.height,Z2))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,eg(this.context),Z2.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,n){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const r=e.viewState;this.prepareContainer(e,n);const s=this.context,o=this.replayGroup_;let a=o&&!o.isEmpty();if(!a&&!(this.getLayer().hasListener(pt.PRERENDER)||this.getLayer().hasListener(pt.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(s,e),r.projection,this.clipped_=!1,a&&i.extent&&this.clipping){const l=Ai(i.extent);a=Vt(l,e.extent),this.clipped_=a&&!Wo(l,e.extent),this.clipped_&&this.clipUnrotated(s,e,l)}return a&&this.renderWorlds(o,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&s.restore(),this.postRender(s,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),r=this.renderedCenter_,s=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,u=this.getLayer(),c=[],h=i[0]*Pi,f=i[1]*Pi;c.push(this.getRenderTransform(r,s,o,Pi,h,f,0).slice());const g=u.getSource(),d=a.getExtent();if(g.getWrapX()&&a.canWrapX()&&!Wo(d,l)){let p=l[0];const m=xe(d);let _=0,y;for(;p<d[0];)--_,y=m*_,c.push(this.getRenderTransform(r,s,o,Pi,h,f,y).slice()),p+=m;for(_=0,p=l[2];p>d[2];)++_,y=m*_,c.push(this.getRenderTransform(r,s,o,Pi,h,f,y).slice()),p-=m}this.hitDetectionImageData_=Dj(i,c,this.renderedFeatures_,u.getStyleFunction(),l,s,o,Y2(s,this.renderedPixelRatio_))}n(Nj(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,i,r,s){var f,g;if(!this.replayGroup_)return;const o=n.viewState.resolution,a=n.viewState.rotation,l=this.getLayer(),u={},c=function(d,p,m){const _=oe(d),y=u[_];if(y){if(y!==!0&&m<y.distanceSq){if(m===0)return u[_]=!0,s.splice(s.lastIndexOf(y),1),r(d,l,p);y.geometry=p,y.distanceSq=m}}else{if(m===0)return u[_]=!0,r(d,l,p);s.push(u[_]={feature:d,layer:l,geometry:p,distanceSq:m,callback:r})}},h=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,o,a,i,c,h?(g=(f=n.declutter)==null?void 0:f[h])==null?void 0:g.all().map(d=>d.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),i=n.getSource();if(!i)return!1;const r=e.viewHints[kt.ANIMATING],s=e.viewHints[kt.INTERACTING],o=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(this.ready&&!o&&r||!a&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,u=e.viewState,c=u.projection,h=u.resolution,f=e.pixelRatio,g=n.getRevision(),d=n.getRenderBuffer();let p=n.getRenderOrder();p===void 0&&(p=Uj);const m=u.center.slice(),_=qy(l,d*h),y=_.slice(),v=[_.slice()],E=c.getExtent();if(i.getWrapX()&&c.canWrapX()&&!Wo(E,e.extent)){const $=xe(E),U=Math.max(xe(_)/2,$);_[0]=E[0]-U,_[2]=E[2]+U,SM(m,c);const j=EM(v[0],c);j[0]<E[0]&&j[2]<E[2]?v.push([j[0]+$,j[1],j[2]+$,j[3]]):j[0]>E[0]&&j[2]>E[2]&&v.push([j[0]-$,j[1],j[2]-$,j[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==g&&this.renderedRenderOrder_==p&&this.renderedFrameDeclutter_===!!e.declutter&&Wo(this.wrappedRenderedExtent_,_))return ys(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=m,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const x=new Mj(DR(h,f),_,h,f);let S;for(let $=0,U=v.length;$<U;++$)i.loadFeatures(v[$],h,c);const w=Y2(h,f);let C=!0;const M=($,U)=>{let j;const B=$.getStyleFunction()||n.getStyleFunction();if(B&&(j=B($,h)),j){const P=this.renderFeature($,w,j,x,S,this.getLayer().getDeclutter(),U);C=C&&!P}},b=c1(_),L=i.getFeaturesInExtent(b);p&&L.sort(p);for(let $=0,U=L.length;$<U;++$)M(L[$],$);this.renderedFeatures_=L,this.ready=C;const O=x.finish(),N=new Lj(_,h,f,i.getOverlaps(),O,n.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=h,this.renderedRevision_=g,this.renderedRenderOrder_=p,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=y,this.wrappedRenderedExtent_=_,this.renderedCenter_=m,this.renderedProjection_=c,this.renderedPixelRatio_=f,this.replayGroup_=N,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,i,r,s,o,a){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let u=0,c=i.length;u<c;++u)l=q2(r,e,i[u],n,this.boundHandleStyleImageChange_,s,o,a)||l;else l=q2(r,e,i,n,this.boundHandleStyleImageChange_,s,o,a);return l}}class bc extends dR{constructor(e){super(e)}createRenderer(){return new qj(this)}}let Zj=!1;function Jj(t,e,n,i,r,s,o){const a=new XMLHttpRequest;a.open("GET",typeof t=="function"?t(n,i,r):t,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=Zj,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){const u=e.getType();try{let c;u=="text"||u=="json"?c=a.responseText:u=="xml"?c=a.responseXML||a.responseText:u=="arraybuffer"&&(c=a.response),c?s(e.readFeatures(c,{extent:n,featureProjection:r}),e.readProjection(c)):o()}catch{o()}}else o()},a.onerror=o,a.send()}function J2(t,e){return function(n,i,r,s,o){Jj(t,e,n,i,r,(a,l)=>{this.addFeatures(a),s!==void 0&&s(a)},()=>{this.changed(),o!==void 0&&o()})}}function Qj(t,e){return[[-1/0,-1/0,1/0,1/0]]}class Un extends pi{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new Un(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Fe(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Ee(e,ae.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?e$(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function e$(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(Pe(typeof t.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e}}function UR(t,e,n,i){const r=[];let s=Cn();for(let o=0,a=n.length;o<a;++o){const l=n[o];s=Jy(t,e,l[0],i),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return r}function rd(t,e,n,i,r,s,o){let a,l;const u=(n-e)/i;if(u===1)a=e;else if(u===2)a=e,l=r;else if(u!==0){let c=t[e],h=t[e+1],f=0;const g=[0];for(let m=e+i;m<n;m+=i){const _=t[m],y=t[m+1];f+=Math.sqrt((_-c)*(_-c)+(y-h)*(y-h)),g.push(f),c=_,h=y}const d=r*f,p=n7(g,d);p<0?(l=(d-g[-p-2])/(g[-p-1]-g[-p-2]),a=e+(-p-2)*i):a=e+p*i}o=o>1?o:2,s=s||new Array(o);for(let c=0;c<o;++c)s[c]=a===void 0?NaN:l===void 0?t[a+c]:pn(t[a+c],t[a+i+c],l);return s}function Hp(t,e,n,i,r,s){if(n==e)return null;let o;if(r<t[e+i-1])return s?(o=t.slice(e,e+i),o[i-1]=r,o):null;if(t[n-1]<r)return s?(o=t.slice(n-i,n),o[i-1]=r,o):null;if(r==t[e+i-1])return t.slice(e,e+i);let a=e/i,l=n/i;for(;a<l;){const f=a+l>>1;r<t[(f+1)*i-1]?l=f:a=f+1}const u=t[a*i-1];if(r==u)return t.slice((a-1)*i,(a-1)*i+i);const c=t[(a+1)*i-1],h=(r-u)/(c-u);o=[];for(let f=0;f<i-1;++f)o.push(pn(t[(a-1)*i+f],t[a*i+f],h));return o.push(r),o}function t$(t,e,n,i,r,s,o){if(o)return Hp(t,e,n[n.length-1],i,r,s);let a;if(r<t[i-1])return s?(a=t.slice(0,i),a[i-1]=r,a):null;if(t[t.length-1]<r)return s?(a=t.slice(t.length-i),a[i-1]=r,a):null;for(let l=0,u=n.length;l<u;++l){const c=n[l];if(e!=c){if(r<t[e+i-1])return null;if(r<=t[c-1])return Hp(t,e,c,i,r,!1);e=c}}return null}class lg extends vs{constructor(e,n,i){super(),i!==void 0&&n===void 0?this.setFlatCoordinates(i,e):(n=n||0,this.setCenterAndRadius(e,n,i))}clone(){const e=new lg(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){const s=this.flatCoordinates,o=e-s[0],a=n-s[1],l=o*o+a*a;if(l<r){if(l===0)for(let u=0;u<this.stride;++u)i[u]=s[u];else{const u=this.getRadius()/Math.sqrt(l);i[0]=s[0]+u*o,i[1]=s[1]+u*a;for(let c=2;c<this.stride;++c)i[c]=s[c]}return i.length=this.stride,l}return r}containsXY(e,n){const i=this.flatCoordinates,r=e-i[0],s=n-i[1];return r*r+s*s<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const n=this.flatCoordinates,i=n[this.stride]-n[0];return ji(n[0]-i,n[1]-i,n[0]+i,n[1]+i,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],n=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+n*n}getType(){return"Circle"}intersectsExtent(e){const n=this.getExtent();if(Vt(e,n)){const i=this.getCenter();return e[0]<=i[0]&&e[2]>=i[0]||e[1]<=i[1]&&e[3]>=i[1]?!0:e1(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const n=this.stride,i=this.flatCoordinates[n]-this.flatCoordinates[0],r=e.slice();r[n]=r[0]+i;for(let s=1;s<n;++s)r[n+s]=e[s];this.setFlatCoordinates(this.layout,r),this.changed()}setCenterAndRadius(e,n,i){this.setLayout(i,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const r=this.flatCoordinates;let s=GM(r,0,e,this.stride);r[s++]=r[0]+n;for(let o=1,a=this.stride;o<a;++o)r[s++]=r[o];r.length=s,this.changed()}getCoordinates(){return null}setCoordinates(e,n){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,n){const i=this.getCenter(),r=this.getStride();this.setCenter(d1(i,0,i.length,r,e,n,i)),this.changed()}}lg.prototype.transform;class Ku extends FM{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Fe),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)this.changeEventsKeys_.push(Ee(e[n],ae.CHANGE,this.changed,this))}clone(){const e=new Ku(B0(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,n,i,r){if(r<so(this.getExtent(),e,n))return r;const s=this.geometries_;for(let o=0,a=s.length;o<a;++o)r=s[o].closestPointXY(e,n,i,r);return r}containsXY(e,n){const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)if(i[r].containsXY(e,n))return!0;return!1}computeExtent(e){Za(e);const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)Qy(e,n[i].getExtent());return e}getGeometries(){return B0(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].getType()===this.getType()?e=e.concat(n[i].getGeometriesArrayRecursive()):e.push(n[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],i=this.geometries_;let r=!1;for(let s=0,o=i.length;s<o;++s){const a=i[s],l=a.getSimplifiedGeometry(e);n.push(l),l!==a&&(r=!0)}return r?new Ku(n):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)if(n[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,n){const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)i[r].rotate(e,n);this.changed()}scale(e,n,i){i||(i=fr(this.getExtent()));const r=this.geometries_;for(let s=0,o=r.length;s<o;++s)r[s].scale(e,n,i);this.changed()}setGeometries(e){this.setGeometriesArray(B0(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].applyTransform(e);this.changed()}translate(e,n){const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)i[r].translate(e,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function B0(t){return t.map(e=>e.clone())}class Ni extends vs{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendCoordinate(e){Bn(this.flatCoordinates,e),this.changed()}clone(){const e=new Ni(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){return r<so(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(g1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),p1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,i,r))}forEachSegment(e){return zM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,Hp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return jr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return rd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return Z1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=Zd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Ni(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return Jd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=qd(this.flatCoordinates,0,e,this.stride),this.changed()}}class Fa extends vs{constructor(e,n,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&i)this.setFlatCoordinates(n,e),this.ends_=i;else{const r=e,s=[],o=[];for(let l=0,u=r.length;l<u;++l){const c=r[l];Bn(s,c.getFlatCoordinates()),o.push(s.length)}const a=r.length===0?this.getLayout():r[0].getLayout();this.setFlatCoordinates(a,s),this.ends_=o}}appendLineString(e){Bn(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Fa(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,r){return r<so(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(m1(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_1(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,i,r))}getCoordinateAtM(e,n,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,i=i!==void 0?i:!1,t$(this.flatCoordinates,0,this.ends_,this.stride,e,n,i))}getCoordinates(){return Gu(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Ni(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,i=this.layout,r=[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=n[o],u=new Ni(e.slice(s,l),i);r.push(u),s=l}return r}getLength(){const e=this.ends_;let n=0,i=0;for(let r=0,s=e.length;r<s;++r)i+=Z1(this.flatCoordinates,n,e[r],this.stride),n=e[r];return i}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let i=0;const r=this.ends_,s=this.stride;for(let o=0,a=r.length;o<a;++o){const l=r[o],u=rd(n,i,l,s,.5);Bn(e,u),i=l}return e}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=jM(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,i),new Fa(n,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return wG(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=wc(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}class Mc extends vs{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){Bn(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new Mc(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){if(r<so(this.getExtent(),e,n))return r;const s=this.flatCoordinates,o=this.stride;for(let a=0,l=s.length;a<l;a+=o){const u=rr(e,n,s[a],s[a+1]);if(u<r){r=u;for(let c=0;c<o;++c)i[c]=s[a+c];i.length=o}}return r}getCoordinates(){return jr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates.length/this.stride;return e<0||n<=e?null:new Di(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,i=this.stride,r=[];for(let s=0,o=e.length;s<o;s+=i){const a=new Di(e.slice(s,s+i),n);r.push(a)}return r}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,i=this.stride;for(let r=0,s=n.length;r<s;r+=i){const o=n[r],a=n[r+1];if(Zy(e,o,a))return!0}return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=qd(this.flatCoordinates,0,e,this.stride),this.changed()}}class Da extends vs{constructor(e,n,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){const r=e,s=[],o=[];for(let a=0,l=r.length;a<l;++a){const u=r[a],c=s.length,h=u.getEnds();for(let f=0,g=h.length;f<g;++f)h[f]+=c;Bn(s,u.getFlatCoordinates()),o.push(h)}n=r.length===0?this.getLayout():r[0].getLayout(),e=s,i=o}n!==void 0&&i?(this.setFlatCoordinates(n,e),this.endss_=i):this.setCoordinates(e,n)}appendPolygon(e){let n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;Bn(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let r=0,s=n.length;r<s;++r)n[r]+=i}this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let r=0;r<e;++r)n[r]=this.endss_[r].slice();const i=new Da(this.flatCoordinates.slice(),this.layout,n);return i.applyProperties(this),i}closestPointXY(e,n,i,r){return r<so(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(pG(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_G(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,i,r))}containsXY(e,n){return xG(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return mG(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),kp(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,Lp(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=UR(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=$M(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Mc(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;WM(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=kp(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=vG(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,i),new Da(n,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{const s=this.endss_[e-1];n=s[s.length-1]}const i=this.endss_[e].slice(),r=i[i.length-1];if(n!==0)for(let s=0,o=i.length;s<o;++s)i[s]-=n;return new $i(this.flatCoordinates.slice(n,r),this.layout,i)}getPolygons(){const e=this.layout,n=this.flatCoordinates,i=this.endss_,r=[];let s=0;for(let o=0,a=i.length;o<a;++o){const l=i[o].slice(),u=l[l.length-1];if(s!==0)for(let h=0,f=l.length;h<f;++h)l[h]-=s;const c=new $i(n.slice(s,u),e,l);r.push(c),s=u}return r}getType(){return"MultiPolygon"}intersectsExtent(e){return SG(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=UM(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const r=i[i.length-1];this.flatCoordinates.length=r.length===0?0:r[r.length-1]}this.changed()}}const Q2=Gt();class _n{constructor(e,n,i,r,s,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=s,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?yM(this.flatCoordinates_):Jy(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=fr(this.getExtent());this.flatInteriorPoints_=E1(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=TG(this.flatCoordinates_,this.ends_),n=UR(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=$M(this.flatCoordinates_,0,e,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=rd(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let n=0;const i=this.ends_;for(let r=0,s=i.length;r<s;++r){const o=i[r],a=rd(e,n,o,2,.5);Bn(this.flatMidpoints_,a),n=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=De(e);const n=e.getExtent(),i=e.getWorldExtent();if(n&&i){const r=_t(i)/_t(n);hi(Q2,i[0],i[3],r,-r,0,0,0),Jr(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Q2,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var e;return new _n(this.type_,this.flatCoordinates_.slice(),(e=this.ends_)==null?void 0:e.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=fM((e,n)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const i=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":i.length=Zd(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=jM(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=y1(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r);break}return r&&(this.simplifiedGeometry_=new _n(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}_n.prototype.getFlatCoordinates=_n.prototype.getOrientedFlatCoordinates;class ew{constructor(e){this.rbush_=new JM(e),this.items_={}}insert(e,n){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(i),this.items_[oe(n)]=i}load(e,n){const i=new Array(n.length);for(let r=0,s=n.length;r<s;r++){const o=e[r],a=n[r],l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};i[r]=l,this.items_[oe(a)]=l}this.rbush_.load(i)}remove(e){const n=oe(e),i=this.items_[n];return delete this.items_[n],this.rbush_.remove(i)!==null}update(e,n){const i=this.items_[oe(n)],r=[i.minX,i.minY,i.maxX,i.maxY];ku(r,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let i;for(let r=0,s=e.length;r<s;r++)if(i=n(e[r]),i)return i;return i}isEmpty(){return qs(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return ji(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}class jR extends pi{constructor(e){super(),this.projection=De(e.projection),this.attributions_=tw(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,r){n.viewResolver=i,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=tw(e),this.changed()}setState(e){this.state_=e,this.changed()}}function tw(t){return t?typeof t=="function"?t:(Array.isArray(t)||(t=[t]),e=>t):null}const kn={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class Rr extends mi{constructor(e,n,i){super(e),this.feature=n,this.features=i}}class fa extends jR{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Lu,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Pe(this.format_,"`format` must be set when `url` is set"),this.loader_=J2(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:Qj;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new ew:null,this.loadedExtentsRtree_=new ew,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!n&&i===void 0&&(i=new ii(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=oe(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const i=e.getGeometry();if(i){const r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new Rr(kn.ADDFEATURE,e))}setupChangeEvents_(e,n){n instanceof _n||(this.featureChangeKeys_[e]=[Ee(n,ae.CHANGE,this.handleFeatureChange_,this),Ee(n,Ra.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,n){let i=!0;if(n.getId()!==void 0){const r=String(n.getId());if(!(r in this.idIndex_))this.idIndex_[r]=n;else if(n instanceof _n){const s=this.idIndex_[r];s instanceof _n?Array.isArray(s)?s.push(n):this.idIndex_[r]=[s,n]:i=!1}else i=!1}return i&&(Pe(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=n),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],i=[],r=[];for(let s=0,o=e.length;s<o;s++){const a=e[s],l=oe(a);this.addToIndex_(l,a)&&i.push(a)}for(let s=0,o=i.length;s<o;s++){const a=i[s],l=oe(a);this.setupChangeEvents_(l,a);const u=a.getGeometry();if(u){const c=u.getExtent();n.push(c),r.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(n,r),this.hasListener(kn.ADDFEATURE))for(let s=0,o=i.length;s<o;s++)this.dispatchEvent(new Rr(kn.ADDFEATURE,i[s]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(kn.ADDFEATURE,function(i){n||(n=!0,e.push(i.feature),n=!1)}),this.addEventListener(kn.REMOVEFEATURE,function(i){n||(n=!0,e.remove(i.feature),n=!1)}),e.addEventListener(mt.ADD,i=>{n||(n=!0,this.addFeature(i.element),n=!1)}),e.addEventListener(mt.REMOVE,i=>{n||(n=!0,this.removeFeature(i.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Fe);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new Rr(kn.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){const s=r.getGeometry();if(s instanceof _n||s.intersectsCoordinate(e))return n(r)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(i){const r=i.getGeometry();if(r instanceof _n||r.intersectsExtent(e)){const s=n(i);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),qs(this.nullGeometryFeatures_)||Bn(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){n.push(i)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const r=n1(e,n);return[].concat(...r.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,n){const i=e[0],r=e[1];let s=null;const o=[NaN,NaN];let a=1/0;const l=[-1/0,-1/0,1/0,1/0];return n=n||is,this.featuresRtree_.forEachInExtent(l,function(u){if(n(u)){const c=u.getGeometry(),h=a;if(a=c instanceof _n?0:c.closestPointXY(i,r,o,a),a<h){s=u;const f=Math.sqrt(a);l[0]=i-f,l[1]=r-f,l[2]=i+f,l[3]=r+f}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,i=oe(n),r=n.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);else{const o=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,n)):this.featuresRtree_&&this.featuresRtree_.update(o,n)}const s=n.getId();if(s!==void 0){const o=s.toString();this.idIndex_[o]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[o]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new Rr(kn.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:oe(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&qs(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,i){const r=this.loadedExtentsRtree_,s=this.strategy_(e,n,i);for(let o=0,a=s.length;o<a;++o){const l=s[o];r.forEachInExtent(l,function(c){return Wo(c.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Rr(kn.FEATURESLOADSTART)),this.loader_.call(this,l,n,i,c=>{--this.loadingExtentsCount_,this.dispatchEvent(new Rr(kn.FEATURESLOADEND,void 0,c))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Rr(kn.FEATURESLOADERROR))}),r.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_,i=n.forEachInExtent(e,function(r){if(ku(r.extent,e))return r});i&&n.remove(i)}removeFeatures(e){let n=!1;for(let i=0,r=e.length;i<r;++i)n=this.removeFeatureInternal(e[i])||n;n&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=oe(e);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e);const i=this.featureChangeKeys_[n];i==null||i.forEach(Fe),delete this.featureChangeKeys_[n];const r=e.getId();if(r!==void 0){const s=r.toString(),o=this.idIndex_[s];o===e?delete this.idIndex_[s]:Array.isArray(o)&&(o.splice(o.indexOf(e),1),o.length===1&&(this.idIndex_[s]=o[0]))}return delete this.uidIndex_[n],this.hasListener(kn.REMOVEFEATURE)&&this.dispatchEvent(new Rr(kn.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n];break}}setLoader(e){this.loader_=e}setUrl(e){Pe(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(J2(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}}const vo=[0,0,0],Pr=5;class J1{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Pe(r7(this.resolutions_,(r,s)=>s-r),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let r=0,s=this.resolutions_.length-1;r<s;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Pe(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=dr(i)),Pe(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Pe(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:b1,Pe(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,s)=>{const o=new ag(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const a=this.getTileRangeForExtentAndZ(i,s);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,n,i){const r=this.getTileRangeForExtentAndZ(e,n);for(let s=r.minX,o=r.maxX;s<=o;++s)for(let a=r.minY,l=r.maxY;a<=l;++a)i([n,s,a])}forEachTileCoordParentTileRange(e,n,i,r){let s,o,a,l=null,u=e[0]-1;for(this.zoomFactor_===2?(o=e[1],a=e[2]):l=this.getTileCoordExtent(e,r);u>=this.minZoom;){if(o!==void 0&&a!==void 0?(o=Math.floor(o/2),a=Math.floor(a/2),s=po(o,o,a,a,i)):s=this.getTileRangeForExtentAndZ(l,u,i),n(u,s))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,o=e[2]*2;return po(s,s+1,o,o+1,n)}const r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,i){if(n>this.maxZoom||n<this.minZoom)return null;const r=e[0],s=e[1],o=e[2];if(n===r)return po(s,o,s,o,i);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-r),u=Math.floor(s*l),c=Math.floor(o*l);if(n<r)return po(u,u,c,c,i);const h=Math.floor(l*(s+1))-1,f=Math.floor(l*(o+1))-1;return po(u,h,c,f,i)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,i)}getTileRangeForExtentAndZ(e,n,i){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,vo);const r=vo[1],s=vo[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,vo);const o=vo[1],a=vo[2];return po(r,o,s,a,i)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=nt(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*r[0]*i,n[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,n){const i=this.getOrigin(e[0]),r=this.getResolution(e[0]),s=nt(this.getTileSize(e[0]),this.tmpSize_),o=i[0]+e[1]*s[0]*r,a=i[1]-(e[2]+1)*s[1]*r,l=o+s[0]*r,u=a+s[1]*r;return ji(o,a,l,u,n)}getTileCoordForCoordAndResolution(e,n,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,i)}getTileCoordForXYAndResolution_(e,n,i,r,s){const o=this.getZForResolution(i),a=i/this.getResolution(o),l=this.getOrigin(o),u=nt(this.getTileSize(o),this.tmpSize_);let c=a*(e-l[0])/i/u[0],h=a*(l[1]-n)/i/u[1];return r?(c=sh(c,Pr)-1,h=sh(h,Pr)-1):(c=rh(c,Pr),h=rh(h,Pr)),ka(o,c,h,s)}getTileCoordForXYAndZ_(e,n,i,r,s){const o=this.getOrigin(i),a=this.getResolution(i),l=nt(this.getTileSize(i),this.tmpSize_);let u=(e-o[0])/a/l[0],c=(o[1]-n)/a/l[1];return r?(u=sh(u,Pr)-1,c=sh(c,Pr)-1):(u=rh(u,Pr),c=rh(c,Pr)),ka(i,u,c,s)}getTileCoordForCoordAndZ(e,n,i){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const i=Yy(this.resolutions_,e,n||0);return Oe(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return BM(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,i=new Array(n);for(let r=this.minZoom;r<n;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}}const n$=`
  attribute vec4 a_position;
  attribute vec4 a_texcoord;

  uniform mat4 u_matrix;
  uniform mat4 u_textureMatrix;

  varying vec2 v_texcoord;

  void main() {
    gl_Position = u_matrix * a_position;
    vec2 texcoord = (u_textureMatrix * a_texcoord).xy;
    v_texcoord = texcoord;
  }
`,i$=`
  precision mediump float;

  varying vec2 v_texcoord;

  uniform sampler2D u_texture;

  void main() {
    if (
      v_texcoord.x < 0.0 ||
      v_texcoord.y < 0.0 ||
      v_texcoord.x > 1.0 ||
      v_texcoord.y > 1.0
    ) {
      discard;
    }
    gl_FragColor = texture2D(u_texture, v_texcoord);
  }
`;class r${constructor(e){this.gl_=e,this.program_=Kp(e,i$,n$),this.positionLocation=e.getAttribLocation(this.program_,"a_position"),this.texcoordLocation=e.getAttribLocation(this.program_,"a_texcoord"),this.matrixLocation=e.getUniformLocation(this.program_,"u_matrix"),this.textureMatrixLocation=e.getUniformLocation(this.program_,"u_textureMatrix"),this.textureLocation=e.getUniformLocation(this.program_,"u_texture"),this.positionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.positionBuffer),this.positions=[0,0,0,1,1,0,1,0,0,1,1,1],e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.positions),e.STATIC_DRAW),this.texcoordBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.texcoordBuffer),this.texcoords=[0,0,0,1,1,0,1,0,0,1,1,1],e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.texcoords),e.STATIC_DRAW)}drawImage(e,n,i,r,s,o,a,l,u,c,h,f,g){const d=this.gl_;l===void 0&&(l=r),u===void 0&&(u=s),o===void 0&&(o=n),a===void 0&&(a=i),c===void 0&&(c=o),h===void 0&&(h=a),f===void 0&&(f=d.canvas.width),g===void 0&&(g=d.canvas.height),d.bindTexture(d.TEXTURE_2D,e),d.useProgram(this.program_),d.bindBuffer(d.ARRAY_BUFFER,this.positionBuffer),d.enableVertexAttribArray(this.positionLocation),d.vertexAttribPointer(this.positionLocation,2,d.FLOAT,!1,0,0),d.bindBuffer(d.ARRAY_BUFFER,this.texcoordBuffer),d.enableVertexAttribArray(this.texcoordLocation),d.vertexAttribPointer(this.texcoordLocation,2,d.FLOAT,!1,0,0);let p=Vp(0,f,0,g,-1,1);p=PU(p,l,u,0),p=O2(p,c,h,1),d.uniformMatrix4fv(this.matrixLocation,!1,p);let m=IU(r/n,s/i,0);m=O2(m,o/n,a/i,1),d.uniformMatrix4fv(this.textureMatrixLocation,!1,m),d.uniform1i(this.textureLocation,0),d.drawArrays(d.TRIANGLES,0,this.positions.length/2)}}function nw(t,e,n){const i=t.createShader(e);if(i===null)throw new Error("Shader compilation failed");if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS)){const r=t.getShaderInfoLog(i);throw r===null?new Error("Shader info log creation failed"):new Error(r)}return i}function Kp(t,e,n){const i=t.createProgram(),r=nw(t,t.VERTEX_SHADER,n),s=nw(t,t.FRAGMENT_SHADER,e);if(i===null)throw new Error("Program creation failed");if(t.attachShader(i,r),t.attachShader(i,s),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw t.getProgramInfoLog(i)===null?new Error("Program info log creation failed"):new Error;return i}const s$=`
  attribute vec4 a_position;

  uniform mat4 u_matrix;

  void main() {
     gl_Position = u_matrix * a_position;
  }
`,o$=`
  precision mediump float;

  uniform vec4 u_val;
  void main() {
     gl_FragColor = u_val;
  }
`,a$=`
  attribute vec4 a_position;
  attribute vec2 a_texcoord;

  varying vec2 v_texcoord;

  uniform mat4 u_matrix;

  void main() {
     gl_Position = u_matrix * a_position;
     v_texcoord = a_texcoord;
  }
`,l$=`
  precision mediump float;

  varying vec2 v_texcoord;

  uniform sampler2D u_texture;

  void main() {
    if (v_texcoord.x < 0.0 || v_texcoord.x > 1.0 || v_texcoord.y < 0.0 || v_texcoord.y > 1.0) {
      discard;
    }
    gl_FragColor = texture2D(u_texture, v_texcoord);
  }
`;function u$(t,e,n,i){let r;return n&&n.length?r=n.shift():Bd?r=new OffscreenCanvas(t||300,e||300):r=document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("webgl",i)}function c$(t){const e=t.canvas;e.width=1,e.height=1,t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)}const iw=[];function h$(t,e,n,i,r,s,o,a,l,u,c,h,f,g){const d=Math.round(i*e),p=Math.round(i*n);t.canvas.width=d,t.canvas.height=p;let m,_;if(_=t.createTexture(),t.bindTexture(t.TEXTURE_2D,_),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),f?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,d,p,0,t.RGBA,c,null),m=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,m),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,_,0),m===null)throw new Error("Could not create framebuffer");if(_===null)throw new Error("Could not create texture");if(l.length===0)return{width:d,height:p,framebuffer:m,texture:_};const y=Cn();l.forEach(function(b,L,O){Qy(y,b.extent)});let v,E,x;const S=1/r;{if(v=t.createTexture(),_===null)throw new Error("Could not create texture");E=Math.round(xe(y)*S),x=Math.round(_t(y)*S);const b=t.getParameter(t.MAX_TEXTURE_SIZE),L=Math.max(E,x),O=L>b?b/L:1,N=Math.round(E*O),$=Math.round(x*O);t.bindTexture(t.TEXTURE_2D,v),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),f?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,N,$,0,t.RGBA,c,null);const U=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,U),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,v,0);const j=new r$(t);l.forEach(function(B,P,F){const D=(B.extent[0]-y[0])*S*O,G=-(B.extent[3]-y[3])*S*O,R=xe(B.extent)*S*O,X=_t(B.extent)*S*O;if(t.bindFramebuffer(t.FRAMEBUFFER,U),t.viewport(0,0,N,$),B.clipExtent){const K=(B.clipExtent[0]-y[0])*S*O,H=-(B.clipExtent[3]-y[3])*S*O,J=xe(B.clipExtent)*S*O,te=_t(B.clipExtent)*S*O;t.enable(t.SCISSOR_TEST),t.scissor(f?K:Math.round(K),f?H:Math.round(H),f?J:Math.round(K+J)-Math.round(K),f?te:Math.round(H+te)-Math.round(H))}j.drawImage(B.texture,B.width,B.height,u,u,B.width-2*u,B.height-2*u,f?D:Math.round(D),f?G:Math.round(G),f?R:Math.round(D+R)-Math.round(D),f?X:Math.round(G+X)-Math.round(G),N,$),t.disable(t.SCISSOR_TEST)}),t.deleteFramebuffer(U)}const w=dr(o),C=dr(y),M=b=>{const L=(b[0][0]-w[0])/s*i,O=-(b[0][1]-w[1])/s*i,N=(b[1][0]-w[0])/s*i,$=-(b[1][1]-w[1])/s*i,U=(b[2][0]-w[0])/s*i,j=-(b[2][1]-w[1])/s*i;return{u1:N,v1:$,u0:L,v0:O,u2:U,v2:j}};t.bindFramebuffer(t.FRAMEBUFFER,m),t.viewport(0,0,d,p);{const b=[],L=[],O=Kp(t,l$,a$);t.useProgram(O);const N=t.getUniformLocation(O,"u_texture");t.bindTexture(t.TEXTURE_2D,v),t.uniform1i(N,0),a.getTriangles().forEach(function(D,G,R){const X=D.source,K=D.target,{u1:H,v1:J,u0:te,v0:ve,u2:Ge,v2:ze}=M(K),Hn=(X[0][0]-C[0])/r/E,Kn=-(X[0][1]-C[1])/r/x,Yn=(X[1][0]-C[0])/r/E,Zt=-(X[1][1]-C[1])/r/x,rt=(X[2][0]-C[0])/r/E,Jt=-(X[2][1]-C[1])/r/x;b.push(H,J,te,ve,Ge,ze),L.push(Yn,Zt,Hn,Kn,rt,Jt)});const $=Vp(0,d,p,0,-1,1),U=t.getUniformLocation(O,"u_matrix");t.uniformMatrix4fv(U,!1,$);const j=t.getAttribLocation(O,"a_position"),B=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,B),t.bufferData(t.ARRAY_BUFFER,new Float32Array(b),t.STATIC_DRAW),t.vertexAttribPointer(j,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(j);const P=t.getAttribLocation(O,"a_texcoord"),F=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,F),t.bufferData(t.ARRAY_BUFFER,new Float32Array(L),t.STATIC_DRAW),t.vertexAttribPointer(P,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(P),t.drawArrays(t.TRIANGLES,0,b.length/2)}if(h){const b=Kp(t,o$,s$);t.useProgram(b);const L=Vp(0,d,p,0,-1,1),O=t.getUniformLocation(b,"u_matrix");t.uniformMatrix4fv(O,!1,L);const N=Array.isArray(h)?h:[0,0,0,255],$=t.getUniformLocation(b,"u_val");t.uniform4fv($,N);const U=t.getAttribLocation(b,"a_position"),j=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,j),t.vertexAttribPointer(U,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(U);const B=a.getTriangles().reduce(function(P,F){const D=F.target,{u1:G,v1:R,u0:X,v0:K,u2:H,v2:J}=M(D);return P.concat([G,R,X,K,X,K,H,J,H,J,G,R])},[]);t.bufferData(t.ARRAY_BUFFER,new Float32Array(B),t.STATIC_DRAW),t.drawArrays(t.LINES,0,B.length/2)}return{width:d,height:p,framebuffer:m,texture:_}}class f$ extends Xu{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:e.interpolate,transition:e.transition}),this.renderEdges_=e.renderEdges!==void 0?e.renderEdges:!1,this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const n=e.sourceProj,i=n.getExtent(),r=e.sourceTileGrid.getExtent();this.clipExtent_=n.canWrapX()?r?Xt(i,r):i:r;const s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),o=this.targetTileGrid_.getExtent();let a=this.sourceTileGrid_.getExtent();const l=o?Xt(s,o):s;if(Fu(l)===0){this.state=Y.EMPTY;return}i&&(a?a=Xt(a,i):a=i);const u=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),c=e.targetProj,h=ER(n,c,l,u);if(!isFinite(h)||h<=0){this.state=Y.EMPTY;return}const f=e.errorThreshold!==void 0?e.errorThreshold:wR;if(this.triangulation_=new xR(n,c,l,a,h*f,u,e.transformMatrix),this.triangulation_.getTriangles().length===0){this.state=Y.EMPTY;return}this.sourceZ_=this.sourceTileGrid_.getZForResolution(h);let g=this.triangulation_.calculateSourceExtent();if(a&&(n.canWrapX()?(g[1]=Oe(g[1],a[1],a[3]),g[3]=Oe(g[3],a[1],a[3])):g=Xt(g,a)),!Fu(g))this.state=Y.EMPTY;else{let d=0,p=0;n.canWrapX()&&(d=xe(i),p=Math.floor((g[0]-i[0])/d)),n1(g.slice(),n,!0).forEach(_=>{const y=this.sourceTileGrid_.getTileRangeForExtentAndZ(_,this.sourceZ_),v=e.getTileFunction;for(let E=y.minX;E<=y.maxX;E++)for(let x=y.minY;x<=y.maxY;x++){const S=v(this.sourceZ_,E,x,this.pixelRatio_);if(S){const w=p*d;this.sourceTiles_.push({tile:S,offset:w})}}++p}),this.sourceTiles_.length===0&&(this.state=Y.EMPTY)}}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){const e=[];let n=!1;if(this.sourceTiles_.forEach(E=>{var G;const x=E.tile;if(!x||x.getState()!==Y.LOADED)return;const S=x.getSize(),w=this.gutter_;let C;const M=Wp(x.getData());M?C=M:(n=!0,C=VU(La(x.getData())));const b=[S[0]+2*w,S[1]+2*w],L=C instanceof Float32Array,O=b[0]*b[1],N=L?Float32Array:Uint8ClampedArray,$=new N(C.buffer),U=N.BYTES_PER_ELEMENT,j=U*$.length/O,B=$.byteLength/b[1],P=Math.floor(B/U/b[0]),F=this.sourceTileGrid_.getTileCoordExtent(x.tileCoord);F[0]+=E.offset,F[2]+=E.offset;const D=(G=this.clipExtent_)==null?void 0:G.slice();D&&(D[0]+=E.offset,D[2]+=E.offset),e.push({extent:F,clipExtent:D,data:$,dataType:N,bytesPerPixel:j,pixelSize:b,bandCount:P})}),this.sourceTiles_.length=0,e.length===0){this.state=Y.ERROR,this.changed();return}const i=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(i),s=typeof r=="number"?r:r[0],o=typeof r=="number"?r:r[1],a=s*this.pixelRatio_,l=o*this.pixelRatio_,u=this.targetTileGrid_.getResolution(i),c=this.sourceTileGrid_.getResolution(this.sourceZ_),h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),f=e[0].bandCount,g=new e[0].dataType(f*a*l),d=u$(a,l,iw,{premultipliedAlpha:!1,antialias:!1});let p;const m=d.RGBA;let _;e[0].dataType==Float32Array?(_=d.FLOAT,d.getExtension("WEBGL_color_buffer_float"),d.getExtension("OES_texture_float"),d.getExtension("EXT_float_blend"),p=d.getExtension("OES_texture_float_linear")!==null&&this.interpolate):(_=d.UNSIGNED_BYTE,p=this.interpolate);const y=4,v=Math.ceil(f/y);for(let E=v-1;E>=0;--E){const x=[];for(let N=0,$=e.length;N<$;++N){const U=e[N],j=U.pixelSize,B=j[0],P=j[1],F=new U.dataType(y*B*P),D=U.data;let G=E*y;for(let X=0,K=F.length;X<K;X+=y)F[X]=D[G],F[X+1]=D[G+1],F[X+2]=D[G+2],F[X+3]=D[G+3],G+=f;const R=d.createTexture();d.bindTexture(d.TEXTURE_2D,R),p?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR)):(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST)),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texImage2D(d.TEXTURE_2D,0,m,B,P,0,m,_,F),x.push({extent:U.extent,clipExtent:U.clipExtent,texture:R,width:B,height:P})}const{framebuffer:S,width:w,height:C}=h$(d,s,o,this.pixelRatio_,c,u,h,this.triangulation_,x,this.gutter_,_,this.renderEdges_,p),M=w,b=C*y,L=new e[0].dataType(M*b);d.bindFramebuffer(d.FRAMEBUFFER,S),d.readPixels(0,0,w,C,d.RGBA,_,L);let O=E*y;for(let N=0,$=L.length;N<$;N+=y){const U=(M-1-(N/b|0))*b+N%b;g[O]=L[U],g[O+1]=L[U+1],g[O+2]=L[U+2],g[O+3]=L[U+3],O+=f}}if(c$(d),iw.push(d.canvas),n){const E=Ze(s,o),x=new ImageData(g,s);E.putImageData(x,0,0),this.reprojData_=E.canvas}else this.reprojData_=g;this.reprojSize_=[Math.round(a),Math.round(l)],this.state=Y.LOADED,this.changed()}load(){if(this.state!==Y.IDLE&&this.state!==Y.ERROR)return;this.state=Y.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i!==Y.IDLE&&i!==Y.LOADING)return;e++;const r=Ee(n,ae.CHANGE,()=>{const s=n.getState();(s==Y.LOADED||s==Y.ERROR||s==Y.EMPTY)&&(Fe(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n}){n.getState()==Y.IDLE&&n.load()})}unlistenSources_(){this.sourcesListenerKeys_.forEach(Fe),this.sourcesListenerKeys_=null}}function Q1(t){let e=t.getDefaultTileGrid();return e||(e=m$(t),t.setDefaultTileGrid(e)),e}function d$(t,e,n){const i=e[0],r=t.getTileCoordCenter(e),s=ug(n);if(!rs(s,r)){const o=xe(s),a=Math.ceil((s[0]-r[0])/o);return r[0]+=o*a,t.getTileCoordForCoordAndZ(r,i)}return e}function g$(t,e,n,i){i=i!==void 0?i:"top-left";const r=zR(t,e,n);return new J1({extent:t,origin:E7(t,i),resolutions:r,tileSize:n})}function $R(t){const e=t||{},n=e.extent||De("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:zR(n,e.maxZoom,e.tileSize,e.maxResolution)};return new J1(i)}function zR(t,e,n,i){e=e!==void 0?e:IG,n=nt(n!==void 0?n:b1);const r=_t(t),s=xe(t);i=i>0?i:Math.max(s/n[0],r/n[1]);const o=e+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=i/Math.pow(2,l);return a}function m$(t,e,n,i){const r=ug(t);return g$(r,e,n,i)}function ug(t){t=De(t);let e=t.getExtent();if(!e){const n=180*r1.degrees/t.getMetersPerUnit();e=ji(-n,-n,n,n)}return e}class BR extends jR{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&nt(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=e.key||oe(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,i,r,s){return le()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Q1(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,i){const r=this.getTileGridForProjection(i),s=this.getTilePixelRatio(n),o=nt(r.getTileSize(e),this.tmpSize);return s==1?o:b9(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){const i=n!==void 0?n:this.getProjection(),r=n!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=d$(r,e,i)),nj(e,r)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class VR extends mi{constructor(e,n){super(e),this.tile=n}}const da={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class p$ extends BR{constructor(e){const n=e.projection===void 0?"EPSG:3857":e.projection;let i=e.tileGrid;i===void 0&&n&&(i=$R({extent:ug(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize})),super({cacheSize:.1,attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:n,tileGrid:i,state:e.state,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0,this.tileSize_=e.tileSize?nt(e.tileSize):null,this.tileSizes_=null,this.tileLoadingKeys_={},this.loader_=e.loader,this.handleTileChange_=this.handleTileChange_.bind(this),this.bandCount=e.bandCount===void 0?4:e.bandCount,this.tileGridForProjection_={},this.crossOrigin_=e.crossOrigin||"anonymous",this.transformMatrix=null}setTileSizes(e){this.tileSizes_=e}getTileSize(e){if(this.tileSizes_)return this.tileSizes_[e];if(this.tileSize_)return this.tileSize_;const n=this.getTileGrid();return n?nt(n.getTileSize(e)):[256,256]}getGutterForProjection(e){const n=this.getProjection();return(!n||$s(n,e))&&!this.transformMatrix?this.gutter_:0}setLoader(e){this.loader_=e}getReprojTile_(e,n,i,r,s){const o=this.tileGrid||this.getTileGridForProjection(s||r),a=Math.max.apply(null,o.getResolutions().map((g,d)=>{const p=nt(o.getTileSize(d)),m=this.getTileSize(d);return Math.max(m[0]/p[0],m[1]/p[1])})),l=this.getTileGridForProjection(r),u=[e,n,i],c=this.getTileCoordForTileUrlFunction(u,r),h=Object.assign({sourceProj:s||r,sourceTileGrid:o,targetProj:r,targetTileGrid:l,tileCoord:u,wrappedTileCoord:c,pixelRatio:a,gutter:this.gutter_,getTileFunction:(g,d,p,m)=>this.getTile(g,d,p,m),transformMatrix:this.transformMatrix},this.tileOptions),f=new f$(h);return f.key=this.getKey(),f}getTile(e,n,i,r,s){var v;const o=this.getProjection();if(s&&(o&&!$s(o,s)||this.transformMatrix))return this.getReprojTile_(e,n,i,s,o);const a=this.getTileSize(e),l=this.loader_,u=new AbortController,c={signal:u.signal,crossOrigin:this.crossOrigin_},h=this.getTileCoordForTileUrlFunction([e,n,i]);if(!h)return null;const f=h[0],g=h[1],d=h[2],p=(v=this.getTileGrid())==null?void 0:v.getFullTileRange(f);p&&(c.maxY=p.getHeight()-1);function m(){return dM(function(){return l(f,g,d,c)})}const _=Object.assign({tileCoord:[e,n,i],loader:m,size:a,controller:u},this.tileOptions),y=new Xu(_);return y.key=this.getKey(),y.addEventListener(ae.CHANGE,this.handleTileChange_),y}handleTileChange_(e){const n=e.target,i=oe(n),r=n.getState();let s;r==Y.LOADING?(this.tileLoadingKeys_[i]=!0,s=da.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=r==Y.ERROR?da.TILELOADERROR:r==Y.LOADED?da.TILELOADEND:void 0),s&&this.dispatchEvent(new VR(s,n))}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||$s(n,e))&&!this.transformMatrix)return this.tileGrid;const i=oe(e);return i in this.tileGridForProjection_||(this.tileGridForProjection_[i]=Q1(e)),this.tileGridForProjection_[i]}setTileGridForProjection(e,n){const i=De(e);if(i){const r=oe(i);r in this.tileGridForProjection_||(this.tileGridForProjection_[r]=n)}}}function _$(t){return((t.fileDirectory.NewSubfileType||0)&4)===4}function y$(t,e){if(!t)return!1;if(t===!0)return!0;if(e.getSamplesPerPixel()!==3)return!1;const n=e.fileDirectory.PhotometricInterpretation,i=Qt;return n===i.CMYK||n===i.YCbCr||n===i.CIELab||n===i.ICCLab}const rw="STATISTICS_MAXIMUM",sw="STATISTICS_MINIMUM",V0=256;let W0;function v$(){return W0||(W0=new WL),W0}function E$(t){try{return t.getBoundingBox(!0)}catch{return[0,0,t.getWidth(),t.getHeight()]}}function x$(t){try{return t.getOrigin().slice(0,2)}catch{return[0,t.getHeight()]}}function w$(t,e){try{return t.getResolution(e)}catch{return[e.getWidth()/t.getWidth(),e.getHeight()/t.getHeight()]}}function S$(t){const e=t.geoKeys;if(!e)return null;if(e.ProjectedCSTypeGeoKey&&e.ProjectedCSTypeGeoKey!==32767){const n="EPSG:"+e.ProjectedCSTypeGeoKey;let i=De(n);if(!i){const r=Zx(e.ProjLinearUnitsGeoKey);r&&(i=new Pa({code:n,units:r}))}return i}if(e.GeographicTypeGeoKey&&e.GeographicTypeGeoKey!==32767){const n="EPSG:"+e.GeographicTypeGeoKey;let i=De(n);if(!i){const r=Zx(e.GeogAngularUnitsGeoKey);r&&(i=new Pa({code:n,units:r}))}return i}return null}function C$(t){return t.getImageCount().then(function(e){const n=new Array(e);for(let i=0;i<e;++i)n[i]=t.getImage(i);return Promise.all(n)})}function T$(t,e){let n;return t.blob?n=_8(t.blob):t.overviews?n=y8(t.url,t.overviews,e):n=p8(t.url,e),n.then(C$)}function Ul(t,e,n,i,r){if(Array.isArray(t)){const s=t.length;if(!Array.isArray(e)||s!=e.length){const o=new Error(i);throw r(o),o}for(let o=0;o<s;++o)Ul(t[o],e[o],n,i,r);return}if(e=e,Math.abs(t-e)>n*t)throw new Error(i)}function b$(t){return t instanceof Int8Array?-128:t instanceof Int16Array?-32768:t instanceof Int32Array?-2147483648:t instanceof Float32Array?12e-39:0}function M$(t){return t instanceof Int8Array?127:t instanceof Uint8Array||t instanceof Uint8ClampedArray?255:t instanceof Int16Array?32767:t instanceof Uint16Array?65535:t instanceof Int32Array?2147483647:t instanceof Uint32Array?4294967295:t instanceof Float32Array?34e37:255}class R$ extends p${constructor(e){super({state:"loading",tileGrid:null,projection:e.projection||null,transition:e.transition,interpolate:e.interpolate!==!1,wrapX:e.wrapX}),this.sourceInfo_=e.sources;const n=this.sourceInfo_.length;this.sourceOptions_=e.sourceOptions,this.sourceImagery_=new Array(n),this.sourceMasks_=new Array(n),this.resolutionFactors_=new Array(n),this.samplesPerPixel_,this.nodataValues_,this.metadata_,this.normalize_=e.normalize!==!1,this.addAlpha_=!1,this.error_=null,this.convertToRGB_=e.convertToRGB||!1,this.setKey(this.sourceInfo_.map(s=>s.url).join(","));const i=this,r=new Array(n);for(let s=0;s<n;++s)r[s]=T$(this.sourceInfo_[s],this.sourceOptions_);Promise.all(r).then(function(s){i.configure_(s)}).catch(function(s){qx(s),i.error_=s,i.setState("error")})}getError(){return this.error_}determineProjection(e){const n=e[0];for(let i=n.length-1;i>=0;--i){const r=n[i],s=S$(r);if(s){this.projection=s;break}}}determineTransformMatrix(e){const n=e[0];for(let i=n.length-1;i>=0;--i){const s=n[i].fileDirectory.ModelTransformation;if(s){const[o,a,l,u,c,h,f,g]=s,d=Nu(Nu([1/Math.sqrt(o*o+c*c),0,0,-1/Math.sqrt(a*a+h*h),u,g],[o,c,a,h,0,0]),[1,0,0,1,-u,-g]);this.transformMatrix=d,this.addAlpha_=!0;break}}}configure_(e){let n,i,r,s,o;const a=new Array(e.length),l=new Array(e.length),u=new Array(e.length);let c=0;const h=e.length;for(let m=0;m<h;++m){const _=[],y=[];e[m].forEach(M=>{_$(M)?y.push(M):_.push(M)});const v=_.length;if(y.length>0&&y.length!==v)throw new Error(`Expected one mask per image found ${y.length} masks and ${v} images`);let E,x;const S=new Array(v),w=new Array(v),C=new Array(v);l[m]=new Array(v),u[m]=new Array(v);for(let M=0;M<v;++M){const b=_[M],L=b.getGDALNoData();u[m][M]=b.getGDALMetadata(0),l[m][M]=L;const O=this.sourceInfo_[m].bands;a[m]=O?O.length:b.getSamplesPerPixel();const N=v-(M+1);E||(E=E$(b)),x||(x=x$(b));const $=w$(b,_[0]);C[N]=$[0];const U=[b.getTileWidth(),b.getTileHeight()];U[0]!==U[1]&&U[1]<V0&&(U[0]=V0,U[1]=V0),S[N]=U;const j=$[0]/Math.abs($[1]);w[N]=[U[0],U[1]/j]}if(n?Xt(n,E,n):n=E,!i)i=x;else{const M=`Origin mismatch for source ${m}, got [${x}] but expected [${i}]`;Ul(i,x,0,M,this.viewRejector)}if(!o)o=C,this.resolutionFactors_[m]=1;else{o.length-c>C.length&&(c=o.length-C.length);const M=o[o.length-1]/C[C.length-1];this.resolutionFactors_[m]=M;const b=C.map(O=>O*=M),L=`Resolution mismatch for source ${m}, got [${b}] but expected [${o}]`;Ul(o.slice(c,o.length),b,.02,L,this.viewRejector)}r?Ul(r.slice(c,r.length),w,.01,`Tile size mismatch for source ${m}`,this.viewRejector):r=w,s?Ul(s.slice(c,s.length),S,0,`Tile size mismatch for source ${m}`,this.viewRejector):s=S,this.sourceImagery_[m]=_.reverse(),this.sourceMasks_[m]=y.reverse()}for(let m=0,_=this.sourceImagery_.length;m<_;++m){const y=this.sourceImagery_[m];for(;y.length<o.length;)y.unshift(void 0)}this.getProjection()||this.determineProjection(e),this.determineTransformMatrix(e),this.samplesPerPixel_=a,this.nodataValues_=l,this.metadata_=u;e:for(let m=0;m<h;++m){if(this.sourceInfo_[m].nodata!==void 0){this.addAlpha_=!0;break}if(this.sourceMasks_[m].length){this.addAlpha_=!0;break}const _=l[m],y=this.sourceInfo_[m].bands;if(y){for(let v=0;v<y.length;++v)if(_[y[v]-1]!==null){this.addAlpha_=!0;break e}continue}for(let v=0;v<_.length;++v)if(_[v]!==null){this.addAlpha_=!0;break e}}let f=this.addAlpha_?1:0;for(let m=0;m<h;++m)f+=a[m];this.bandCount=f;const g=new J1({extent:n,minZoom:c,origin:i,resolutions:o,tileSizes:r});this.tileGrid=g,this.setTileSizes(s),this.setLoader(this.loadTile_.bind(this)),this.setState("ready");const d=1;o.length===2?o=[o[0],o[1],o[1]/2]:o.length===1&&(o=[o[0]*2,o[0],o[0]/2]);let p=n;if(this.transformMatrix){const m=f1(Gt(),this.transformMatrix.slice()),_=Kf(y=>st(m,y));p=S7(n,_)}this.viewResolver({showFullExtent:!0,projection:this.projection,resolutions:o,center:Yf(fr(p),this.projection),extent:c1(p,this.projection),zoom:d})}loadTile_(e,n,i,r){const s=this.getTileSize(e),o=this.sourceImagery_.length,a=new Array(o*2),l=this.nodataValues_,u=this.sourceInfo_,c=v$();for(let h=0;h<o;++h){const f=u[h],g=this.resolutionFactors_[h],d=[Math.round(n*(s[0]*g)),Math.round(i*(s[1]*g)),Math.round((n+1)*(s[0]*g)),Math.round((i+1)*(s[1]*g))],p=this.sourceImagery_[h][e];let m;f.bands&&(m=f.bands.map(function(x){return x-1}));let _;"nodata"in f&&f.nodata!==null?_=f.nodata:m?_=m.map(function(x){return l[h][x]}):_=l[h];const y={window:d,width:s[0],height:s[1],samples:m,fillValue:_,pool:c,interleave:!1,signal:r.signal};y$(this.convertToRGB_,p)?a[h]=p.readRGB(y):a[h]=p.readRasters(y);const v=o+h,E=this.sourceMasks_[h][e];if(!E){a[v]=Promise.resolve(null);continue}a[v]=E.readRasters({window:d,width:s[0],height:s[1],samples:[0],pool:c,interleave:!1})}return Promise.all(a).then(this.composeTile_.bind(this,s)).catch(function(h){throw qx(h),h})}composeTile_(e,n){const i=this.metadata_,r=this.sourceInfo_,s=this.sourceImagery_.length,o=this.bandCount,a=this.samplesPerPixel_,l=this.nodataValues_,u=this.normalize_,c=this.addAlpha_,h=e[0]*e[1],f=h*o;let g;u?g=new Uint8Array(f):g=new Float32Array(f);let d=0;for(let p=0;p<h;++p){let m=c;for(let _=0;_<s;++_){const y=r[_];let v=y.min,E=y.max,x,S;if(u){const w=i[_][0];v===void 0&&(w&&sw in w?v=parseFloat(w[sw]):v=b$(n[_][0])),E===void 0&&(w&&rw in w?E=parseFloat(w[rw]):E=M$(n[_][0])),x=255/(E-v),S=-v*x}for(let w=0;w<a[_];++w){const C=n[_][w][p];let M;if(u?M=Oe(x*C+S,0,255):M=C,!c)g[d]=M;else{let b=y.nodata;if(b===void 0){let O;y.bands?O=y.bands[w]-1:O=w,b=l[_][O]}const L=isNaN(b);(!L&&C!==b||L&&!isNaN(C))&&(m=!1,g[d]=M)}d++}if(!m){const w=s+_,C=n[w];C&&!C[0][p]&&(m=!0)}}c&&(m||(g[d]=255),d++)}return g}}function P$(t){const e=Object.keys(t.defs),n=e.length;let i,r;for(i=0;i<n;++i){const s=e[i];if(!Zh(s)){const o=t.defs(s);let a=o.units;!a&&o.projName==="longlat"&&(a="degrees"),Hf(new Pa({code:s,axisOrientation:o.axis,metersPerUnit:o.to_meter,units:a}))}}for(i=0;i<n;++i){const s=e[i],o=Zh(s);for(r=0;r<n;++r){const a=e[r],l=Zh(a);if(!Jh(s,a))if(t.defs[s]===t.defs[a])Op([o,l]);else{const u=t(s,a);tG(o,l,o2(o,l,u.forward),o2(l,o,u.inverse))}}}}Ha.defs("EPSG:25832","+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs");P$(Ha);const WR=({url:t,center:e})=>{const n=T.useRef(null),i=T.useRef(null),r=T.useRef(null),s=()=>{var o;if(i.current){i.current.getLayers().getArray().forEach(u=>{var c,h,f;u.getSource()&&((h=(c=u.getSource()).dispose)==null||h.call(c)),(f=u.dispose)==null||f.call(u)});const l=(o=n.current)==null?void 0:o.querySelector("canvas");if(l){const u=l.getContext("webgl");if(u){const c=u.getExtension("WEBGL_lose_context");c&&c.loseContext()}}i.current.setTarget(null),i.current.dispose(),i.current=null}};return T.useEffect(()=>{if(t){if(!i.current){const o=new R$({sources:[{url:t,bands:[1,2,3]}],convertToRGB:!0,transition:0}),a=new fa,l=new bc({source:a}),u=new z1({target:n.current,layers:[new AR({source:o}),l],view:new Gn({zoom:16,minZoom:13,maxZoom:18,projection:"EPSG:25832"})});if(i.current=u,r.current=u.getView(),e){const c=new Un({geometry:new Di(e)});c.setStyle(new an({image:new Sc({src:"src/assets/marker.svg",scale:.05,opacity:.75})})),a.addFeature(c)}}return()=>{s()}}},[t,e]),T.useEffect(()=>{r.current&&e&&r.current.setCenter(e)},[e]),T.useEffect(()=>{const o=n.current;let a=!1,l=!1;const u=()=>{a=!0,setTimeout(()=>{!l&&a&&(o.style.cursor="grabbing")},250)},c=()=>{a=!1,o.style.cursor="crosshair"},h=()=>{l=!0,setTimeout(()=>{l=!1},400)};return o&&(o.style.cursor="crosshair",o.addEventListener("mousedown",u),o.addEventListener("mouseup",c),o.addEventListener("dblclick",h)),()=>{o&&(o.removeEventListener("mousedown",u),o.removeEventListener("mouseup",c),o.removeEventListener("dblclick",h))}},[]),A.jsx("div",{className:"map-container",ref:n,style:{width:"100%",height:"100%"}})},It={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class XR extends pi{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+FG,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(It.ELEMENT,this.handleElementChanged),this.addChangeListener(It.MAP,this.handleMapChanged),this.addChangeListener(It.OFFSET,this.handleOffsetChanged),this.addChangeListener(It.POSITION,this.handlePositionChanged),this.addChangeListener(It.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(It.ELEMENT)}getId(){return this.id}getMap(){return this.get(It.MAP)||null}getOffset(){return this.get(It.OFFSET)}getPosition(){return this.get(It.POSITION)}getPositioning(){return this.get(It.POSITIONING)}handleElementChanged(){XM(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){var n;this.mapPostrenderListenerKey&&((n=this.element)==null||n.remove(),Fe(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=Ee(e,Zi.POSTRENDER,this.render,this),this.updatePixelPosition();const i=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?i.insertBefore(this.element,i.childNodes[0]||null):i.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(It.ELEMENT,e)}setMap(e){this.set(It.MAP,e)}setOffset(e){this.set(It.OFFSET,e)}setPosition(e){this.set(It.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(It.POSITION))return;const i=this.getRect(n.getTargetElement(),n.getSize()),r=this.getElement(),s=this.getRect(r,[NG(r),GG(r)]);e=e||{};const o=e.margin===void 0?20:e.margin;if(!Wo(i,s)){const a=s[0]-i[0],l=i[2]-s[2],u=s[1]-i[1],c=i[3]-s[3],h=[0,0];if(a<0?h[0]=a-o:l<0&&(h[0]=Math.abs(l)+o),u<0?h[1]=u-o:c<0&&(h[1]=Math.abs(c)+o),h[0]!==0||h[1]!==0){const f=n.getView().getCenterInternal(),g=n.getPixelFromCoordinateInternal(f);if(!g)return;const d=[g[0]+h[0],g[1]+h[1]],p=e.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(d),duration:p.duration,easing:p.easing})}}}getRect(e,n){const i=e.getBoundingClientRect(),r=i.left+window.pageXOffset,s=i.top+window.pageYOffset;return[r,s,r+n[0],s+n[1]]}setPositioning(e){this.set(It.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),n=this.getPosition();if(!e||!e.isRendered()||!n){this.setVisible(!1);return}const i=e.getPixelFromCoordinate(n),r=e.getSize();this.updateRenderedPosition(i,r)}updateRenderedPosition(e,n){const i=this.element.style,r=this.getOffset(),s=this.getPositioning();this.setVisible(!0);const o=`${e[0]+r[0]}px`,a=`${e[1]+r[1]}px`;let l="0%",u="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?l="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(l="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?u="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(u="-50%");const c=`translate(${l}, ${u}) translate(${o}, ${a})`;this.rendered.transform_!=c&&(this.rendered.transform_=c,i.transform=c)}getOptions(){return this.options}}function X0(t,e,n,i,r){return`${oe(t)},${e},${TR(n,i,r)}`}function H0(t,e,n){if(!(n in t))return t[n]=new Set([e]),!0;const i=t[n],r=i.has(e);return r||i.add(e),!r}function I$(t,e,n){const i=t[n];return i?i.delete(e):!1}function ow(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=Xt(e,Ai(n.extent,t.viewState.projection)));const i=n.layer.getRenderSource();if(!i.getWrapX()){const r=i.getTileGridForProjection(t.viewState.projection).getExtent();r&&(e=Xt(e,r))}return e}class A$ extends GR{constructor(e,n){super(e),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Cn(),this.tempTileRange_=new ag(0,0,0,0),this.tempTileCoord_=ka(0,0,0);const i=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new CR(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,n,i,r){const s=this.tileCache_,a=this.getLayer().getSource(),l=X0(a,a.getKey(),e,n,i);let u;if(s.containsKey(l))u=s.get(l);else{if(u=a.getTile(e,n,i,r.pixelRatio,r.viewState.projection),!u)return null;s.set(l,u)}return u}getTile(e,n,i,r){const s=this.getOrCreateTile(e,n,i,r);return s||null}getData(e){const n=this.frameState;if(!n)return null;const i=this.getLayer(),r=st(n.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!rs(s,r))return null;const o=n.viewState,a=i.getRenderSource(),l=a.getTileGridForProjection(o.projection),u=a.getTilePixelRatio(n.pixelRatio);for(let c=l.getZForResolution(o.resolution);c>=l.getMinZoom();--c){const h=l.getTileCoordForCoordAndZ(r,c),f=this.getTile(c,h[1],h[2],n);if(!f||f.getState()!==Y.LOADED)continue;const g=l.getOrigin(c),d=nt(l.getTileSize(c)),p=l.getResolution(c);let m;if(f instanceof og||f instanceof H1)m=f.getImage();else if(f instanceof Xu){if(m=La(f.getData()),!m)continue}else continue;const _=Math.floor(u*((r[0]-g[0])/p-h[1]*d[0])),y=Math.floor(u*((g[1]-r[1])/p-h[2]*d[1])),v=Math.round(u*a.getGutterForProjection(o.projection));return this.getImageData(m,_+v,y+v)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const i=n.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==i&&(this.renderedSourceRevision_=i,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedSourceRevision_=i,!0}enqueueTiles(e,n,i,r,s){const o=e.viewState,a=this.getLayer(),l=a.getRenderSource(),u=l.getTileGridForProjection(o.projection),c=oe(l);c in e.wantedTiles||(e.wantedTiles[c]={});const h=e.wantedTiles[c],f=a.getMapInternal(),g=Math.max(i-s,u.getMinZoom(),u.getZForResolution(Math.min(a.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):u.getResolution(0)),l.zDirection)),d=o.rotation,p=d?t1(o.center,o.resolution,d,e.size):void 0;for(let m=i;m>=g;--m){const _=u.getTileRangeForExtentAndZ(n,m,this.tempTileRange_),y=u.getResolution(m);for(let v=_.minX;v<=_.maxX;++v)for(let E=_.minY;E<=_.maxY;++E){if(d&&!u.tileCoordIntersectsViewport([m,v,E],p))continue;const x=this.getTile(m,v,E,e);if(!x||!H0(r,x,m))continue;const w=x.getKey();if(h[w]=!0,x.getState()===Y.IDLE&&!e.tileQueue.isKeyQueued(w)){const C=ka(m,v,E,this.tempTileCoord_);e.tileQueue.enqueue([x,c,u.getTileCoordCenter(C),y])}}}}findStaleTile_(e,n){const i=this.tileCache_,r=e[0],s=e[1],o=e[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){const u=X0(this.getLayer().getSource(),a[l],r,s,o);if(i.containsKey(u)){const c=i.peek(u);if(c.getState()===Y.LOADED)return c.endTransition(oe(this)),H0(n,c,r),!0}}return!1}findAltTiles_(e,n,i,r){const s=e.getTileRangeForTileCoordAndZ(n,i,this.tempTileRange_);if(!s)return!1;let o=!0;const a=this.tileCache_,l=this.getLayer().getRenderSource(),u=l.getKey();for(let c=s.minX;c<=s.maxX;++c)for(let h=s.minY;h<=s.maxY;++h){const f=X0(l,u,i,c,h);let g=!1;if(a.containsKey(f)){const d=a.peek(f);d.getState()===Y.LOADED&&(H0(r,d,i),g=!0)}g||(o=!1)}return o}renderFrame(e,n){this.renderComplete=!0;const i=e.layerStatesArray[e.layerIndex],r=e.viewState,s=r.projection,o=r.resolution,a=r.center,l=e.pixelRatio,u=this.getLayer(),c=u.getSource(),h=c.getTileGridForProjection(s),f=h.getZForResolution(o,c.zDirection),g=h.getResolution(f),d=c.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==d&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=d):this.renderedSourceKey_=d;let p=e.extent;const m=c.getTilePixelRatio(l);this.prepareContainer(e,n);const _=this.context.canvas.width,y=this.context.canvas.height,v=i.extent&&Ai(i.extent);v&&(p=Xt(p,Ai(i.extent)));const E=g*_/2/m,x=g*y/2/m,S=[a[0]-E,a[1]-x,a[0]+E,a[1]+x],w={};this.renderedTiles.length=0;const C=u.getPreload();if(e.nextExtent){const P=h.getZForResolution(r.nextResolution,c.zDirection),F=ow(e,e.nextExtent);this.enqueueTiles(e,F,P,w,C)}const M=ow(e,p);if(this.enqueueTiles(e,M,f,w,0),C>0&&setTimeout(()=>{this.enqueueTiles(e,M,f-1,w,C-1)},0),!(f in w))return this.container;const b=oe(this),L=e.time;for(const P of w[f]){const F=P.getState();if(F===Y.EMPTY)continue;const D=P.tileCoord;if(F===Y.LOADED&&P.getAlpha(b,L)===1){P.endTransition(b);continue}if(F!==Y.ERROR&&(this.renderComplete=!1),this.findStaleTile_(D,w)){I$(w,P,f),e.animate=!0;continue}if(this.findAltTiles_(h,D,f+1,w))continue;const X=h.getMinZoom();for(let K=f-1;K>=X&&!this.findAltTiles_(h,D,K,w);--K);}const O=g/o*l/m,N=this.getRenderContext(e);hi(this.tempTransform,_/2,y/2,O,O,0,-_/2,-y/2),i.extent&&this.clipUnrotated(N,e,v),c.getInterpolate()||(N.imageSmoothingEnabled=!1),this.preRender(N,e);const $=Object.keys(w).map(Number);$.sort(ir);let U;const j=[],B=[];for(let P=$.length-1;P>=0;--P){const F=$[P],D=c.getTilePixelSize(F,l,s),R=h.getResolution(F)/g,X=D[0]*R*O,K=D[1]*R*O,H=h.getTileCoordForCoordAndZ(dr(S),F),J=h.getTileCoordExtent(H),te=st(this.tempTransform,[m*(J[0]-S[0])/g,m*(S[3]-J[3])/g]),ve=m*c.getGutterForProjection(s);for(const Ge of w[F]){if(Ge.getState()!==Y.LOADED)continue;const ze=Ge.tileCoord,Hn=H[1]-ze[1],Kn=Math.round(te[0]-(Hn-1)*X),Yn=H[2]-ze[2],Zt=Math.round(te[1]-(Yn-1)*K),rt=Math.round(te[0]-Hn*X),Jt=Math.round(te[1]-Yn*K),xr=Kn-rt,Pn=Zt-Jt,In=$.length===1;let Qe=!1;U=[rt,Jt,rt+xr,Jt,rt+xr,Jt+Pn,rt,Jt+Pn];for(let wr=0,_i=j.length;wr<_i;++wr)if(!In&&F<B[wr]){const ht=j[wr];Vt([rt,Jt,rt+xr,Jt+Pn],[ht[0],ht[3],ht[4],ht[7]])&&(Qe||(N.save(),Qe=!0),N.beginPath(),N.moveTo(U[0],U[1]),N.lineTo(U[2],U[3]),N.lineTo(U[4],U[5]),N.lineTo(U[6],U[7]),N.moveTo(ht[6],ht[7]),N.lineTo(ht[4],ht[5]),N.lineTo(ht[2],ht[3]),N.lineTo(ht[0],ht[1]),N.clip())}j.push(U),B.push(F),this.drawTile(Ge,e,rt,Jt,xr,Pn,ve,In),Qe&&N.restore(),this.renderedTiles.unshift(Ge),this.updateUsedTiles(e.usedTiles,c,Ge)}}if(this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!ku(this.renderedExtent_,S),this.renderedExtent_=S,this.renderedPixelRatio=l,this.postRender(this.context,e),i.extent&&N.restore(),N.imageSmoothingEnabled=!0,this.renderComplete){const P=(F,D)=>{const G=oe(c),R=D.wantedTiles[G],X=R?Object.keys(R).length:0;this.updateCacheSize(X),this.tileCache_.expireCache()};e.postRenderFunctions.push(P)}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,n,i,r,s,o,a,l){let u;if(e instanceof Xu){if(u=La(e.getData()),!u)throw new Error("Rendering array data is not yet supported")}else u=this.getTileImage(e);if(!u)return;const c=this.getRenderContext(n),h=oe(this),f=n.layerStatesArray[n.layerIndex],g=f.opacity*(l?e.getAlpha(h,n.time):1),d=g!==c.globalAlpha;d&&(c.save(),c.globalAlpha=g),c.drawImage(u,a,a,u.width-2*a,u.height-2*a,i,r,s,o),d&&c.restore(),g!==f.opacity?n.animate=!0:l&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,n,i){const r=oe(n);r in e||(e[r]={}),e[r][i.getKey()]=!0}}class HR extends IR{constructor(e){super(e)}createRenderer(){return new A$(this,{cacheSize:this.getCacheSize()})}}const O$=/\{z\}/g,L$=/\{x\}/g,k$=/\{y\}/g,F$=/\{-y\}/g;function D$(t,e,n,i,r){return t.replace(O$,e.toString()).replace(L$,n.toString()).replace(k$,i.toString()).replace(F$,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function N$(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let s;for(s=i;s<=r;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)e.push(t.replace(n[0],r.toString()));return e}return e.push(t),e}function G$(t,e){return function(n,i,r){if(!n)return;let s;const o=n[0];if(e){const a=e.getFullTileRange(o);a&&(s=a.getHeight()-1)}return D$(t,o,n[1],n[2],s)}}function U$(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=G$(t[r],e);return j$(i)}function j$(t){return t.length===1?t[0]:function(e,n,i){if(!e)return;const r=ej(e),s=la(r,t.length);return t[s](e,n,i)}}class ev extends BR{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===ev.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,i=oe(n),r=n.getState();let s;r==Y.LOADING?(this.tileLoadingKeys_[i]=!0,s=da.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=r==Y.ERROR?da.TILELOADERROR:r==Y.LOADED?da.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new VR(s,n))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=N$(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(U$(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,i){}}class $$ extends ev{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:z$,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:og,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!$s(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||$s(n,e)))return this.tileGrid;const i=oe(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Q1(e)),this.tileGridForProjection[i]}createTile_(e,n,i,r,s,o){const a=[e,n,i],l=this.getTileCoordForTileUrlFunction(a,s),u=l?this.tileUrlFunction(l,r,s):void 0,c=new this.tileClass(a,u!==void 0?Y.IDLE:Y.EMPTY,u!==void 0?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,c.addEventListener(ae.CHANGE,this.handleTileChange.bind(this)),c}getTile(e,n,i,r,s){const o=this.getProjection();if(!o||!s||$s(o,s))return this.getTileInternal(e,n,i,r,o||s);const a=[e,n,i],l=this.getKey(),u=this.getTileGridForProjection(o),c=this.getTileGridForProjection(s),h=this.getTileCoordForTileUrlFunction(a,s),f=new H1(o,u,s,c,a,h,this.getTilePixelRatio(r),this.getGutter(),(g,d,p,m)=>this.getTileInternal(g,d,p,m,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return f.key=l,f}getTileInternal(e,n,i,r,s){const o=this.getKey();return this.createTile_(e,n,i,r,s,o)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,n){const i=De(e);if(i){const r=oe(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}}function z$(t,e){t.getImage().src=e}class B$ extends $${constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:$R({extent:ug(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const V$='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class KR extends B${constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[V$];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",r=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:r,wrapX:e.wrapX,zDirection:e.zDirection})}}const yh={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"};class vh extends mi{constructor(e,n){super(e),this.feature=n}}function W$(t,e){const n=[];for(let i=0;i<e.length;++i){const s=e[i].getGeometry();YR(t,s,n)}return n}function Eh(t,e){return rr(t[0],t[1],e[0],e[1])}function Yo(t,e){const n=t.length;return e<0?t[e+n]:e>=n?t[e-n]:t[e]}function xh(t,e,n){let i,r;e<n?(i=e,r=n):(i=n,r=e);const s=Math.ceil(i),o=Math.floor(r);if(s>o){const l=qo(t,i),u=qo(t,r);return Eh(l,u)}let a=0;if(i<s){const l=qo(t,i),u=Yo(t,s);a+=Eh(l,u)}if(o<r){const l=Yo(t,o),u=qo(t,r);a+=Eh(l,u)}for(let l=s;l<o-1;++l){const u=Yo(t,l),c=Yo(t,l+1);a+=Eh(u,c)}return a}function YR(t,e,n){if(e instanceof Ni){wh(t,e.getCoordinates(),!1,n);return}if(e instanceof Fa){const i=e.getCoordinates();for(let r=0,s=i.length;r<s;++r)wh(t,i[r],!1,n);return}if(e instanceof $i){const i=e.getCoordinates();for(let r=0,s=i.length;r<s;++r)wh(t,i[r],!0,n);return}if(e instanceof Da){const i=e.getCoordinates();for(let r=0,s=i.length;r<s;++r){const o=i[r];for(let a=0,l=o.length;a<l;++a)wh(t,o[a],!0,n)}return}if(e instanceof Ku){const i=e.getGeometries();for(let r=0;r<i.length;++r)YR(t,i[r],n);return}}const K0={index:-1,endIndex:NaN};function X$(t,e,n,i){const r=t[0],s=t[1];let o=1/0,a=-1,l=NaN;for(let h=0;h<e.targets.length;++h){const f=e.targets[h],g=f.coordinates;let d=1/0,p;for(let m=0;m<g.length-1;++m){const _=g[m],y=g[m+1],v=qR(r,s,_,y);v.squaredDistance<d&&(d=v.squaredDistance,p=m+v.along)}d<o&&(o=d,f.ring&&e.targetIndex===h&&(f.endIndex>f.startIndex?p<f.startIndex&&(p+=g.length):f.endIndex<f.startIndex&&p>f.startIndex&&(p-=g.length)),l=p,a=h)}const u=e.targets[a];let c=u.ring;if(e.targetIndex===a&&c){const h=qo(u.coordinates,l),f=n.getPixelFromCoordinate(h);wM(f,e.startPx)>i&&(c=!1)}if(c){const h=u.coordinates,f=h.length,g=u.startIndex,d=l;if(g<d){const p=xh(h,g,d);xh(h,g,d-f)<p&&(l-=f)}else{const p=xh(h,g,d);xh(h,g,d+f)<p&&(l+=f)}}return K0.index=a,K0.endIndex=l,K0}function wh(t,e,n,i){const r=t[0],s=t[1];for(let o=0,a=e.length-1;o<a;++o){const l=e[o],u=e[o+1],c=qR(r,s,l,u);if(c.squaredDistance===0){const h=o+c.along;i.push({coordinates:e,ring:n,startIndex:h,endIndex:h});return}}}const Y0={along:0,squaredDistance:0};function qR(t,e,n,i){const r=n[0],s=n[1],o=i[0],a=i[1],l=o-r,u=a-s;let c=0,h=r,f=s;return(l!==0||u!==0)&&(c=Oe(((t-r)*l+(e-s)*u)/(l*l+u*u),0,1),h+=l*c,f+=u*c),Y0.along=c,Y0.squaredDistance=Ec(rr(t,e,h,f),10),Y0}function qo(t,e){const n=t.length;let i=Math.floor(e);const r=e-i;i>=n?i-=n:i<0&&(i+=n);let s=i+1;s>=n&&(s-=n);const o=t[i],a=o[0],l=o[1],u=t[s],c=u[0]-a,h=u[1]-l;return[a+c*r,l+h*r]}class H$ extends tl{constructor(e){const n=e;n.stopDown||(n.stopDown=qa),super(n),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=Y$(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_==="Polygon"?3:2,this.maxPoints_=this.mode_==="Circle"?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:is,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let i=e.geometryFunction;if(!i){const r=this.mode_;if(r==="Circle")i=(s,o,a)=>{const l=o||new lg([NaN,NaN]),u=ei(s[0]),c=xM(u,ei(s[s.length-1]));return l.setCenterAndRadius(u,Math.sqrt(c),this.geometryLayout_),l};else{let s;r==="Point"?s=Di:r==="LineString"?s=Ni:r==="Polygon"&&(s=$i),i=(o,a,l)=>(a?r==="Polygon"?o[0].length?a.setCoordinates([o[0].concat([o[0][0]])],this.geometryLayout_):a.setCoordinates([],this.geometryLayout_):a.setCoordinates(o,this.geometryLayout_):a=new s(o,this.geometryLayout_),a)}}this.geometryFunction_=i,this.dragVertexDelay_=e.dragVertexDelay!==void 0?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new bc({source:new fa({useSpatialIndex:!1,wrapX:e.wrapX?e.wrapX:!1}),style:e.style?e.style:K$(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:I1,this.freehandCondition_,e.freehand?this.freehandCondition_=Up:this.freehandCondition_=e.freehandCondition?e.freehandCondition:A1,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(Np.ACTIVE,this.updateState_)}setTrace(e){let n;e?e===!0?n=Up:n=e:n=jp,this.traceCondition_=n}setMap(e){super.setMap(e),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(e){e.originalEvent.type===ae.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!=="Point"&&this.freehandCondition_(e);let n=e.type===Re.POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&e.type===Re.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===Re.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(e.coordinate),i=!1):this.freehand_&&e.type===Re.POINTERDOWN?i=!1:n&&this.getPointerCount()<2?(i=e.type===Re.POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(e.originalEvent.pointerType==="mouse"||e.type===Re.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(e)):e.type===Re.DBLCLICK&&(i=!1),super.handleEvent(e)&&i}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new qi(Re.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))},this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active){this.deactivateTrace_();return}const n=this.getMap(),i=n.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),r=n.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_]),s=Bf([i,r]),o=this.traceSource_.getFeaturesInExtent(s);if(o.length===0)return;const a=W$(e.coordinate,o);a.length&&(this.traceState_={active:!0,startPx:e.pixel.slice(),targets:a,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,n){const i=e.startIndex<=e.endIndex,r=e.startIndex<=n;i===r?i&&n>e.endIndex||!i&&n<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,n):(i&&n<e.endIndex||!i&&n>e.endIndex)&&this.removeTracedCoordinates_(n,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,n))}removeTracedCoordinates_(e,n){if(e===n)return;let i=0;if(e<n){const r=Math.ceil(e);let s=Math.floor(n);s===n&&(s-=1),i=s-r+1}else{const r=Math.floor(e);let s=Math.ceil(n);s===n&&(s+=1),i=r-s+1}i>0&&this.removeLastPoints_(i)}addTracedCoordinates_(e,n,i){if(n===i)return;const r=[];if(n<i){const s=Math.ceil(n);let o=Math.floor(i);o===i&&(o-=1);for(let a=s;a<=o;++a)r.push(Yo(e.coordinates,a))}else{const s=Math.floor(n);let o=Math.ceil(i);o===i&&(o+=1);for(let a=s;a>=o;--a)r.push(Yo(e.coordinates,a))}r.length&&this.appendCoordinates(r)}updateTrace_(e){const n=this.traceState_;if(!n.active||n.targetIndex===-1&&wM(n.startPx,e.pixel)<this.snapTolerance_)return;const i=X$(e.coordinate,n,this.getMap(),this.snapTolerance_);if(n.targetIndex!==i.index){if(n.targetIndex!==-1){const l=n.targets[n.targetIndex];this.removeTracedCoordinates_(l.startIndex,l.endIndex)}const a=n.targets[i.index];this.addTracedCoordinates_(a,a.startIndex,i.endIndex)}else{const a=n.targets[n.targetIndex];this.addOrRemoveTracedCoordinates_(a,i.endIndex)}n.targetIndex=i.index;const r=n.targets[n.targetIndex];r.endIndex=i.endIndex;const s=qo(r.coordinates,r.endIndex),o=this.getMap().getPixelFromCoordinate(s);e.coordinate=s,e.pixel=[Math.round(o[0]),Math.round(o[1])]}handleUpEvent(e){let n=!0;if(this.getPointerCount()===0){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const i=this.traceState_.active;if(this.toggleTraceState_(e),this.shouldHandle_){const r=!this.finishCoordinate_;r&&this.startDrawing_(e.coordinate),!r&&this.freehand_?this.finishDrawing():!this.freehand_&&(!r||this.mode_==="Point")&&(this.atFinish_(e.pixel,i)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),n=!1}else this.freehand_&&this.abortDrawing()}return!n&&this.stopClick_&&e.preventDefault(),n}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const n=this.downPx_,i=e.pixel,r=n[0]-i[0],s=n[1]-i[1],o=r*r+s*s;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}if(!this.finishCoordinate_){this.createOrUpdateSketchPoint_(e.coordinate.slice());return}this.updateTrace_(e),this.modifyDrawing_(e.coordinate)}atFinish_(e,n){let i=!1;if(this.sketchFeature_){let r=!1,s=[this.finishCoordinate_];const o=this.mode_;if(o==="Point")i=!0;else if(o==="Circle")i=this.sketchCoords_.length===2;else if(o==="LineString")r=!n&&this.sketchCoords_.length>this.minPoints_;else if(o==="Polygon"){const a=this.sketchCoords_;r=a[0].length>this.minPoints_,s=[a[0][0],a[0][a[0].length-2]],n?s=[a[0][0]]:s=[a[0][0],a[0][a[0].length-2]]}if(r){const a=this.getMap();for(let l=0,u=s.length;l<u;l++){const c=s[l],h=a.getPixelFromCoordinate(c),f=e[0]-h[0],g=e[1]-h[1],d=this.freehand_?1:this.snapTolerance_;if(i=Math.sqrt(f*f+g*g)<=d,i){this.finishCoordinate_=c;break}}}}return i}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new Un(new Di(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new Un);const n=e.getLinearRing(0);let i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(n.getLayout(),n.getFlatCoordinates()),i.changed()):(i=new Ni(n.getFlatCoordinates(),n.getLayout()),this.sketchLine_.setGeometry(i))}startDrawing_(e){const n=this.getMap().getView().getProjection(),i=qf(this.geometryLayout_);for(;e.length<i;)e.push(0);this.finishCoordinate_=e,this.mode_==="Point"?this.sketchCoords_=e.slice():this.mode_==="Polygon"?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Un(new Ni(this.sketchLineCoords_)));const r=this.geometryFunction_(this.sketchCoords_,void 0,n);this.sketchFeature_=new Un,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new vh(yh.DRAWSTART,this.sketchFeature_))}modifyDrawing_(e){const n=this.getMap(),i=this.sketchFeature_.getGeometry(),r=n.getView().getProjection(),s=qf(this.geometryLayout_);let o,a;for(;e.length<s;)e.push(0);this.mode_==="Point"?a=this.sketchCoords_:this.mode_==="Polygon"?(o=this.sketchCoords_[0],a=o[o.length-1],this.atFinish_(n.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(o=this.sketchCoords_,a=o[o.length-1]),a[0]=e[0],a[1]=e[1],this.geometryFunction_(this.sketchCoords_,i,r),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),i.getType()==="Polygon"&&this.mode_!=="Polygon"?this.createOrUpdateCustomSketchLine_(i):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){const n=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection();let r,s;const o=this.mode_;return o==="LineString"||o==="Circle"?(this.finishCoordinate_=e.slice(),s=this.sketchCoords_,s.length>=this.maxPoints_&&(this.freehand_?s.pop():r=!0),s.push(e.slice()),this.geometryFunction_(s,n,i)):o==="Polygon"&&(s=this.sketchCoords_[0],s.length>=this.maxPoints_&&(this.freehand_?s.pop():r=!0),s.push(e.slice()),r&&(this.finishCoordinate_=s[0]),this.geometryFunction_(this.sketchCoords_,n,i)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),r?this.finishDrawing():this.sketchFeature_}removeLastPoints_(e){if(!this.sketchFeature_)return;const n=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),r=this.mode_;for(let s=0;s<e;++s){let o;if(r==="LineString"||r==="Circle"){if(o=this.sketchCoords_,o.splice(-2,1),o.length>=2){this.finishCoordinate_=o[o.length-2].slice();const a=this.finishCoordinate_.slice();o[o.length-1]=a,this.createOrUpdateSketchPoint_(a)}this.geometryFunction_(o,n,i),n.getType()==="Polygon"&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(n)}else if(r==="Polygon"){o=this.sketchCoords_[0],o.splice(-2,1);const a=this.sketchLine_.getGeometry();if(o.length>=2){const l=o[o.length-2].slice();o[o.length-1]=l,this.createOrUpdateSketchPoint_(l)}a.setCoordinates(o),this.geometryFunction_(this.sketchCoords_,n,i)}if(o.length===1){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const e=this.abortDrawing_();if(!e)return null;let n=this.sketchCoords_;const i=e.getGeometry(),r=this.getMap().getView().getProjection();return this.mode_==="LineString"?(n.pop(),this.geometryFunction_(n,i,r)):this.mode_==="Polygon"&&(n[0].pop(),this.geometryFunction_(n,i,r),n=i.getCoordinates()),this.type_==="MultiPoint"?e.setGeometry(new Mc([n])):this.type_==="MultiLineString"?e.setGeometry(new Fa([n])):this.type_==="MultiPolygon"&&e.setGeometry(new Da([n])),this.dispatchEvent(new vh(yh.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e),e}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new vh(yh.DRAWABORT,e))}appendCoordinates(e){const n=this.mode_,i=!this.sketchFeature_;i&&this.startDrawing_(e[0]);let r;if(n==="LineString"||n==="Circle")r=this.sketchCoords_;else if(n==="Polygon")r=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;i&&r.shift(),r.pop();for(let o=0;o<e.length;o++)this.addToDrawing_(e[o]);const s=e[e.length-1];this.sketchFeature_=this.addToDrawing_(s),this.modifyDrawing_(s)}extend(e){const i=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=i.getCoordinates();const r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice(),this.sketchCoords_.push(r.slice()),this.sketchPoint_=new Un(new Di(r)),this.updateSketchFeatures_(),this.dispatchEvent(new vh(yh.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const n=this.overlay_.getSource();n.clear(!0),n.addFeatures(e)}updateState_(){const e=this.getMap(),n=this.getActive();(!e||!n)&&this.abortDrawing(),this.overlay_.setMap(n?e:null)}}function K$(){const t=lR();return function(e,n){return t[e.getGeometry().getType()]}}function Y$(t){switch(t){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+t)}}const q$=["north","south","east","west","nadir"],Z$=5,aw=5e5;function J$(){const t=T.useRef(null),e=T.useRef(null),[n,i]=T.useState({}),[r,s]=T.useState([725533.821587679,617636905807838e-8]),[o,a]=T.useState("north"),[l,u]=T.useState(null),[c,h]=T.useState(null),[f,g]=T.useState(null),d=T.useRef(null),p=T.useRef(null),[m,_]=T.useState(!1),[y,v]=T.useState(null),[E,x]=T.useState("skraafotos2023"),[S,w]=T.useState(!1),[C,M]=T.useState(null),[b,L]=T.useState(""),[O,N]=T.useState({message:null,statusCode:null});T.useEffect(()=>{const F=new fa,D=new bc({source:F,style:new an({fill:new zi({color:"rgba(255, 255, 255, 0.5)"}),stroke:new ar({color:"#545C5D",width:3}),image:new il({radius:7,fill:new zi({color:"#545C5D"})})})}),G=new z1({target:t.current,layers:[new HR({source:new KR}),D],view:new Gn({center:[714841.046854,6194210065399e-6],zoom:10,projection:"EPSG:25832"})});if(h(G),v(D),d.current&&p.current){const R=new XR({element:d.current,autoPan:{animation:{duration:250}}});g(R),G.addOverlay(R),p.current.onclick=function(){return R.setPosition(void 0),p.current.blur(),!1}}return()=>{G&&G.setTarget(null)}},[]),T.useEffect(()=>{if(!c)return;const F=R=>{Array.isArray(R)?document.getElementById("popup-content").innerHTML=`<p>Polygon:</p><code> Antal adresser i polygon: ${R.length}</code>`:document.getElementById("popup-content").innerHTML="<p>Loading data...</p>"},D=R=>{if(m)return;const X=R.coordinate;s(X);const K=c.getPixelFromCoordinate(X),H=c.getFeaturesAtPixel(K);if(H.length>0){const J=H[0],te=J.getProperties();document.getElementById("popup-content").innerHTML="<p>Loading data...</p>";const ve=te.polygonData;Array.isArray(ve)?F(ve):setTimeout(()=>{G(J)},1e3),f.setPosition(X)}else document.getElementById("popup-content").innerHTML=`<p>You clicked here:</p><code>${X}</code>`,f.setPosition(X)},G=R=>{const K=R.getProperties().polygonData;Array.isArray(K)?F(K):setTimeout(()=>{G(R)},1e3)};return c.on("singleclick",D),c.once("postrender",()=>{const X=c.getLayers().getArray().find(K=>K.get("name")==="PolygonLayer");if(X){const K=X.getSource();K.on("addfeature",H=>{G(H.feature)}),K.on("changefeature",H=>{G(H.feature)}),K.on("clear",()=>{document.getElementById("popup-content").innerHTML="<p>No polygon data available</p>"})}}),()=>{c&&c.un("singleclick",D);const X=c.getLayers().getArray().find(K=>K.get("name")==="PolygonLayer");if(X){const K=X.getSource();K.un("addfeature",G),K.un("changefeature",G)}}},[c,S,m,f]),T.useEffect(()=>{if(!c||!y)return;const F=y.getSource(),D=new H$({source:F,type:"Polygon"}),G=async R=>{w(!1);const X=R.feature,K=X.getGeometry();if(X.getId()||X.setId(`polygon-${Date.now()}`),MM(K)>aw){setTimeout(()=>{alert(`Polygon size exceeds the maximum limit of ${aw} square meters and has been removed.`);const te=X.getId(),ve=F.getFeatureById(te);ve?(F.removeFeature(ve),y.getSource().changed(),c.updateSize(),c.render()):console.warn("Feature to remove not found.")},100);return}const J=K.getCoordinates();try{const te=await e7(J);X.set("coordinates",J),X.set("polygonData",te)}catch(te){console.error("Error setting polygon data:",te)}};return D.on("drawend",G),m?(w(!0),c.addInteraction(D)):(w(!1),c.removeInteraction(D)),()=>{c&&c.removeInteraction(D)}},[c,m,y]),T.useEffect(()=>{if(!r)return;(async()=>{var X,K;const D={},G={};let R=null;try{for(const H of q$)try{const J=await Ky(r,H,E,Z$);if(console.log("coordinates for selected location: ",r),J.features&&J.features.length>0){const te=J.features[0],ve=((K=(X=te.assets)==null?void 0:X.data)==null?void 0:K.href)||null,Ge=te;D[H]=ve,G[H]=Ge,H===o&&(R=te)}else console.log(`No features found for direction: ${H}`),D[H]=null,G[H]=null}catch(J){console.error(`Error fetching STAC items for ${H}:`,J),J.message&&(J.message.includes("401")||J.message.includes("Unauthorized"))?N({message:"Invalid authorization credentials",statusCode:401}):J.message&&J.message.includes("<!doctype")?console.warn(`API returned HTML instead of JSON for direction: ${H}`):N({message:"The API server seems to be down for the moment",statusCode:503}),D[H]=null,G[H]=null}if(M(R),i(D),R){const H=await uM(xn.API_DHM_TOKENA,xn.API_DHM_TOKENB,r),J=await cM(r,R,H);J&&J.imageCoord&&u(J.imageCoord)}}catch(H){console.error("Error fetching images or related data:",H),N({message:"The API server seems to be down for the moment",statusCode:503})}})()},[r,o,E,N]);const $=()=>{_(F=>!F)},U=()=>{if(!e.current)return;const F=e.current.querySelector("canvas");if(!F)return;const D=F.toDataURL("image/png"),G=document.createElement("a");G.href=D,G.download="geotiff_image.png",document.body.appendChild(G),G.click(),document.body.removeChild(G)},j=()=>{y&&y.getSource().clear()},B=async()=>{if(!y)return;const F=y.getSource().getFeatures().flatMap(D=>D.getGeometry().getCoordinates());try{const D=await fetch(`http://localhost:5000/add_polygon_collection/${b}`,{...xn,method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)});if(D.ok)alert(`Polygon data saved successfully for collection: ${b}!`);else if(D.status===409)alert(`Polygon data not saved for collection: ${b}! That collection name is already in use.`);else{const G=await D.text();console.error(`Failed to save polygon data. Status: ${D.status}, Message: ${G}`)}}catch(D){console.error(`Something went wrong with the PostGIS connector: 
	 ${D.message}`)}},P=F=>{L(F.target.value)};return A.jsxs("div",{className:"mapcenterpage",children:[A.jsx("div",{className:"map-header col-9",children:A.jsxs("div",{className:"toolbar",children:[A.jsx("div",{className:"select-container",children:A.jsxs("select",{className:"tool-btn",value:E,onChange:F=>x(F.target.value),children:[A.jsx("option",{value:"",disabled:!0,children:"Select Collection"}),A.jsx("option",{value:"skraafotos2023",children:"2023"}),A.jsx("option",{value:"skraafotos2021",children:"2021"}),A.jsx("option",{value:"skraafotos2019",children:"2019"}),A.jsx("option",{value:"skraafotos2017",children:"2017"})]})}),A.jsxs("button",{className:"tool-btn",onClick:$,children:[m?"Stop Drawing":"Draw Polygon",A.jsx("img",{src:"src/assets/polygon.svg",className:"btnSvg btnP",alt:"Polygon Icon"})]}),m&&A.jsx("button",{className:"tool-btn",onClick:j,children:"Clear"}),!m&&A.jsxs(A.Fragment,{children:[A.jsx("input",{onChange:P,placeholder:"Collection name"}),A.jsx("button",{className:"tool-btn",onClick:B,children:"Postgis polygon"})]}),A.jsxs("button",{className:"tool-btn",onClick:U,children:["Download ",A.jsx("img",{src:"src/assets/download.svg",className:"btnSvg btnD",alt:"Download Icon"})]})]})}),A.jsxs("div",{className:"mappage col-9",children:[A.jsx("div",{id:"map",className:"geomap",ref:t}),A.jsxs("div",{id:"popup",className:"ol-popup",ref:d,children:[A.jsx("a",{href:"#",id:"popup-closer",className:"ol-popup-closer",ref:p}),A.jsx("div",{id:"popup-content"})]}),O.message?A.jsxs("div",{className:"error-page",children:[A.jsxs("h1",{children:[" ",O.statusCode," "]}),A.jsxs("h2",{children:[" ",O.message," "]}),A.jsx("p",{children:" Please try again later"})]}):A.jsx("div",{className:"map-viewer",children:n[o]&&A.jsxs("div",{className:"high-quality-viewer",ref:e,children:[A.jsx(WR,{url:n[o],center:l}),A.jsxs("div",{className:"compass",children:[A.jsx("div",{className:`direction north ${o==="north"?"active":""}`,onClick:()=>a("north"),children:"N"}),A.jsx("div",{className:`direction east ${o==="east"?"active":""}`,onClick:()=>a("east"),children:"E"}),A.jsx("div",{className:`direction south ${o==="south"?"active":""}`,onClick:()=>a("south"),children:"S"}),A.jsx("div",{className:`direction west ${o==="west"?"active":""}`,onClick:()=>a("west"),children:"W"}),A.jsx("div",{className:`direction nadir ${o==="nadir"?"active":""}`,onClick:()=>a("nadir"),children:"T"})]})]})})]})]})}var ZR={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,i(a)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(ZR);var Q$=ZR.exports;const ez=Qu(Q$);function se(){return se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},se.apply(null,arguments)}function tz(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Yp(t,e){return Yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yp(t,e)}const nz=["xxl","xl","lg","md","sm","xs"],iz="xs",JR=T.createContext({prefixes:{},breakpoints:nz,minBreakpoint:iz}),{Consumer:rZ,Provider:sZ}=JR;function rz(t,e){const{prefixes:n}=T.useContext(JR);return t||n[e]||e}var QR={exports:{}},sz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oz=sz,az=oz;function eP(){}function tP(){}tP.resetWarningCache=eP;var lz=function(){function t(i,r,s,o,a,l){if(l!==az){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tP,resetWarningCache:eP};return n.PropTypes=n,n};QR.exports=lz();var uz=QR.exports;const _e=Qu(uz),tv=T.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:i,...r},s)=>{const o=rz(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return A.jsx(n,{ref:s,...r,className:ez(i,e?`${o}${a}`:o)})});tv.displayName="Container";/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function qp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function cz(t){if(Array.isArray(t))return t}function hz(t){if(Array.isArray(t))return qp(t)}function fz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dz(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,nP(i.key),i)}}function gz(t,e,n){return e&&dz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ef(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=nv(t))||e){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function me(t,e,n){return(e=nP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,r,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return a}}function _z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lw(Object(n),!0).forEach(function(i){me(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function cg(t,e){return cz(t)||pz(t,e)||nv(t,e)||_z()}function di(t){return hz(t)||mz(t)||nv(t)||yz()}function vz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nP(t){var e=vz(t,"string");return typeof e=="symbol"?e:e+""}function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function nv(t,e){if(t){if(typeof t=="string")return qp(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qp(t,e):void 0}}var uw=function(){},iv={},iP={},rP=null,sP={mark:uw,measure:uw};try{typeof window<"u"&&(iv=window),typeof document<"u"&&(iP=document),typeof MutationObserver<"u"&&(rP=MutationObserver),typeof performance<"u"&&(sP=performance)}catch{}var Ez=iv.navigator||{},cw=Ez.userAgent,hw=cw===void 0?"":cw,as=iv,$e=iP,fw=rP,Sh=sP;as.document;var Er=!!$e.documentElement&&!!$e.head&&typeof $e.addEventListener=="function"&&typeof $e.createElement=="function",oP=~hw.indexOf("MSIE")||~hw.indexOf("Trident/"),q0,xz=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,wz=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,aP={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},Sz={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},lP=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],bt="classic",Rc="duotone",uP="sharp",cP="sharp-duotone",hP="chisel",fP="etch",dP="jelly",gP="jelly-duo",mP="jelly-fill",pP="notdog",_P="notdog-duo",yP="slab",vP="slab-press",EP="thumbprint",xP="utility",wP="utility-duo",SP="utility-fill",CP="whiteboard",Cz="Classic",Tz="Duotone",bz="Sharp",Mz="Sharp Duotone",Rz="Chisel",Pz="Etch",Iz="Jelly",Az="Jelly Duo",Oz="Jelly Fill",Lz="Notdog",kz="Notdog Duo",Fz="Slab",Dz="Slab Press",Nz="Thumbprint",Gz="Utility",Uz="Utility Duo",jz="Utility Fill",$z="Whiteboard",TP=[bt,Rc,uP,cP,hP,fP,dP,gP,mP,pP,_P,yP,vP,EP,xP,wP,SP,CP];q0={},me(me(me(me(me(me(me(me(me(me(q0,bt,Cz),Rc,Tz),uP,bz),cP,Mz),hP,Rz),fP,Pz),dP,Iz),gP,Az),mP,Oz),pP,Lz),me(me(me(me(me(me(me(me(q0,_P,kz),yP,Fz),vP,Dz),EP,Nz),xP,Gz),wP,Uz),SP,jz),CP,$z);var zz={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}},Bz={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}},Vz=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),Wz={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}},bP=["fak","fa-kit","fakd","fa-kit-duotone"],dw={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Xz=["kit"],Hz="kit",Kz="kit-duotone",Yz="Kit",qz="Kit Duotone";me(me({},Hz,Yz),Kz,qz);var Zz={kit:{"fa-kit":"fak"}},Jz={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Qz={kit:{fak:"fa-kit"}},gw={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Z0,Ch={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},eB=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],tB="classic",nB="duotone",iB="sharp",rB="sharp-duotone",sB="chisel",oB="etch",aB="jelly",lB="jelly-duo",uB="jelly-fill",cB="notdog",hB="notdog-duo",fB="slab",dB="slab-press",gB="thumbprint",mB="utility",pB="utility-duo",_B="utility-fill",yB="whiteboard",vB="Classic",EB="Duotone",xB="Sharp",wB="Sharp Duotone",SB="Chisel",CB="Etch",TB="Jelly",bB="Jelly Duo",MB="Jelly Fill",RB="Notdog",PB="Notdog Duo",IB="Slab",AB="Slab Press",OB="Thumbprint",LB="Utility",kB="Utility Duo",FB="Utility Fill",DB="Whiteboard";Z0={},me(me(me(me(me(me(me(me(me(me(Z0,tB,vB),nB,EB),iB,xB),rB,wB),sB,SB),oB,CB),aB,TB),lB,bB),uB,MB),cB,RB),me(me(me(me(me(me(me(me(Z0,hB,PB),fB,IB),dB,AB),gB,OB),mB,LB),pB,kB),_B,FB),yB,DB);var NB="kit",GB="kit-duotone",UB="Kit",jB="Kit Duotone";me(me({},NB,UB),GB,jB);var $B={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}},zB={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]},Zp={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},BB=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],MP=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(eB,BB),VB=["solid","regular","light","thin","duotone","brands","semibold"],RP=[1,2,3,4,5,6,7,8,9,10],WB=RP.concat([11,12,13,14,15,16,17,18,19,20]),XB=["aw","fw","pull-left","pull-right"],HB=[].concat(di(Object.keys(zB)),VB,XB,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Ch.GROUP,Ch.SWAP_OPACITY,Ch.PRIMARY,Ch.SECONDARY]).concat(RP.map(function(t){return"".concat(t,"x")})).concat(WB.map(function(t){return"w-".concat(t)})),KB={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},gr="___FONT_AWESOME___",Jp=16,PP="fa",IP="svg-inline--fa",Qs="data-fa-i2svg",Qp="data-fa-pseudo-element",YB="data-fa-pseudo-element-pending",rv="data-prefix",sv="data-icon",mw="fontawesome-i2svg",qB="async",ZB=["HTML","HEAD","STYLE","SCRIPT"],AP=["::before","::after",":before",":after"],OP=function(){try{return!0}catch{return!1}}();function Pc(t){return new Proxy(t,{get:function(n,i){return i in n?n[i]:n[bt]}})}var LP=W({},aP);LP[bt]=W(W(W(W({},{"fa-duotone":"duotone"}),aP[bt]),dw.kit),dw["kit-duotone"]);var JB=Pc(LP),e_=W({},Wz);e_[bt]=W(W(W(W({},{duotone:"fad"}),e_[bt]),gw.kit),gw["kit-duotone"]);var pw=Pc(e_),t_=W({},Zp);t_[bt]=W(W({},t_[bt]),Qz.kit);var ov=Pc(t_),n_=W({},$B);n_[bt]=W(W({},n_[bt]),Zz.kit);Pc(n_);var QB=xz,kP="fa-layers-text",eV=wz,tV=W({},zz);Pc(tV);var nV=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],J0=Sz,iV=[].concat(di(Xz),di(HB)),su=as.FontAwesomeConfig||{};function rV(t){var e=$e.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function sV(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if($e&&typeof $e.querySelector=="function"){var oV=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];oV.forEach(function(t){var e=cg(t,2),n=e[0],i=e[1],r=sV(rV(n));r!=null&&(su[i]=r)})}var FP={styleDefault:"solid",familyDefault:bt,cssPrefix:PP,replacementClass:IP,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};su.familyPrefix&&(su.cssPrefix=su.familyPrefix);var Na=W(W({},FP),su);Na.autoReplaceSvg||(Na.observeMutations=!1);var ie={};Object.keys(FP).forEach(function(t){Object.defineProperty(ie,t,{enumerable:!0,set:function(n){Na[t]=n,ou.forEach(function(i){return i(ie)})},get:function(){return Na[t]}})});Object.defineProperty(ie,"familyPrefix",{enumerable:!0,set:function(e){Na.cssPrefix=e,ou.forEach(function(n){return n(ie)})},get:function(){return Na.cssPrefix}});as.FontAwesomeConfig=ie;var ou=[];function aV(t){return ou.push(t),function(){ou.splice(ou.indexOf(t),1)}}var Eo=Jp,Li={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function lV(t){if(!(!t||!Er)){var e=$e.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=$e.head.childNodes,i=null,r=n.length-1;r>-1;r--){var s=n[r],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=s)}return $e.head.insertBefore(e,i),t}}var uV="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function _w(){for(var t=12,e="";t-- >0;)e+=uV[Math.random()*62|0];return e}function sl(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function av(t){return t.classList?sl(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function DP(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function cV(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(DP(t[n]),'" ')},"").trim()}function hg(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function lv(t){return t.size!==Li.size||t.x!==Li.x||t.y!==Li.y||t.rotate!==Li.rotate||t.flipX||t.flipY}function hV(t){var e=t.transform,n=t.containerWidth,i=t.iconWidth,r={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(i/2*-1," -256)")};return{outer:r,inner:l,path:u}}function fV(t){var e=t.transform,n=t.width,i=n===void 0?Jp:n,r=t.height,s=r===void 0?Jp:r,o="";return oP?o+="translate(".concat(e.x/Eo-i/2,"em, ").concat(e.y/Eo-s/2,"em) "):o+="translate(calc(-50% + ".concat(e.x/Eo,"em), calc(-50% + ").concat(e.y/Eo,"em)) "),o+="scale(".concat(e.size/Eo*(e.flipX?-1:1),", ").concat(e.size/Eo*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}var dV=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";
  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";
  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function NP(){var t=PP,e=IP,n=ie.cssPrefix,i=ie.replacementClass,r=dV;if(n!==t||i!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");r=r.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(i))}return r}var yw=!1;function Q0(){ie.autoAddCss&&!yw&&(lV(NP()),yw=!0)}var gV={mixout:function(){return{dom:{css:NP,insertCss:Q0}}},hooks:function(){return{beforeDOMElementCreation:function(){Q0()},beforeI2svg:function(){Q0()}}}},mr=as||{};mr[gr]||(mr[gr]={});mr[gr].styles||(mr[gr].styles={});mr[gr].hooks||(mr[gr].hooks={});mr[gr].shims||(mr[gr].shims=[]);var ri=mr[gr],GP=[],UP=function(){$e.removeEventListener("DOMContentLoaded",UP),od=1,GP.map(function(e){return e()})},od=!1;Er&&(od=($e.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test($e.readyState),od||$e.addEventListener("DOMContentLoaded",UP));function mV(t){Er&&(od?setTimeout(t,0):GP.push(t))}function Ic(t){var e=t.tag,n=t.attributes,i=n===void 0?{}:n,r=t.children,s=r===void 0?[]:r;return typeof t=="string"?DP(t):"<".concat(e," ").concat(cV(i),">").concat(s.map(Ic).join(""),"</").concat(e,">")}function vw(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var em=function(e,n,i,r){var s=Object.keys(e),o=s.length,a=n,l,u,c;for(i===void 0?(l=1,c=e[s[0]]):(l=0,c=i);l<o;l++)u=s[l],c=a(c,e[u],u,e);return c};function jP(t){return di(t).length!==1?null:t.codePointAt(0).toString(16)}function Ew(t){return Object.keys(t).reduce(function(e,n){var i=t[n],r=!!i.icon;return r?e[i.iconName]=i.icon:e[n]=i,e},{})}function i_(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.skipHooks,r=i===void 0?!1:i,s=Ew(e);typeof ri.hooks.addPack=="function"&&!r?ri.hooks.addPack(t,Ew(e)):ri.styles[t]=W(W({},ri.styles[t]||{}),s),t==="fas"&&i_("fa",e)}var Yu=ri.styles,pV=ri.shims,$P=Object.keys(ov),_V=$P.reduce(function(t,e){return t[e]=Object.keys(ov[e]),t},{}),uv=null,zP={},BP={},VP={},WP={},XP={};function yV(t){return~iV.indexOf(t)}function vV(t,e){var n=e.split("-"),i=n[0],r=n.slice(1).join("-");return i===t&&r!==""&&!yV(r)?r:null}var HP=function(){var e=function(s){return em(Yu,function(o,a,l){return o[l]=em(a,s,{}),o},{})};zP=e(function(r,s,o){if(s[3]&&(r[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){r[l.toString(16)]=o})}return r}),BP=e(function(r,s,o){if(r[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){r[l]=o})}return r}),XP=e(function(r,s,o){var a=s[2];return r[o]=o,a.forEach(function(l){r[l]=o}),r});var n="far"in Yu||ie.autoFetchSvg,i=em(pV,function(r,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(r.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(r.unicodes[o.toString(16)]={prefix:a,iconName:l}),r},{names:{},unicodes:{}});VP=i.names,WP=i.unicodes,uv=fg(ie.styleDefault,{family:ie.familyDefault})};aV(function(t){uv=fg(t.styleDefault,{family:ie.familyDefault})});HP();function cv(t,e){return(zP[t]||{})[e]}function EV(t,e){return(BP[t]||{})[e]}function Ns(t,e){return(XP[t]||{})[e]}function KP(t){return VP[t]||{prefix:null,iconName:null}}function xV(t){var e=WP[t],n=cv("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function ls(){return uv}var YP=function(){return{prefix:null,iconName:null,rest:[]}};function wV(t){var e=bt,n=$P.reduce(function(i,r){return i[r]="".concat(ie.cssPrefix,"-").concat(r),i},{});return TP.forEach(function(i){(t.includes(n[i])||t.some(function(r){return _V[i].includes(r)}))&&(e=i)}),e}function fg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,i=n===void 0?bt:n,r=JB[i][t];if(i===Rc&&!t)return"fad";var s=pw[i][t]||pw[i][r],o=t in ri.styles?t:null,a=s||o||null;return a}function SV(t){var e=[],n=null;return t.forEach(function(i){var r=vV(ie.cssPrefix,i);r?n=r:i&&e.push(i)}),{iconName:n,rest:e}}function xw(t){return t.sort().filter(function(e,n,i){return i.indexOf(e)===n})}var ww=MP.concat(bP);function dg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.skipLookups,i=n===void 0?!1:n,r=null,s=xw(t.filter(function(g){return ww.includes(g)})),o=xw(t.filter(function(g){return!ww.includes(g)})),a=s.filter(function(g){return r=g,!lP.includes(g)}),l=cg(a,1),u=l[0],c=u===void 0?null:u,h=wV(s),f=W(W({},SV(o)),{},{prefix:fg(c,{family:h})});return W(W(W({},f),MV({values:t,family:h,styles:Yu,config:ie,canonical:f,givenPrefix:r})),CV(i,r,f))}function CV(t,e,n){var i=n.prefix,r=n.iconName;if(t||!i||!r)return{prefix:i,iconName:r};var s=e==="fa"?KP(r):{},o=Ns(i,r);return r=s.iconName||o||r,i=s.prefix||i,i==="far"&&!Yu.far&&Yu.fas&&!ie.autoFetchSvg&&(i="fas"),{prefix:i,iconName:r}}var TV=TP.filter(function(t){return t!==bt||t!==Rc}),bV=Object.keys(Zp).filter(function(t){return t!==bt}).map(function(t){return Object.keys(Zp[t])}).flat();function MV(t){var e=t.values,n=t.family,i=t.canonical,r=t.givenPrefix,s=r===void 0?"":r,o=t.styles,a=o===void 0?{}:o,l=t.config,u=l===void 0?{}:l,c=n===Rc,h=e.includes("fa-duotone")||e.includes("fad"),f=u.familyDefault==="duotone",g=i.prefix==="fad"||i.prefix==="fa-duotone";if(!c&&(h||f||g)&&(i.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(i.prefix="fab"),!i.prefix&&TV.includes(n)){var d=Object.keys(a).find(function(m){return bV.includes(m)});if(d||u.autoFetchSvg){var p=Vz.get(n).defaultShortPrefixId;i.prefix=p,i.iconName=Ns(i.prefix,i.iconName)||i.iconName}}return(i.prefix==="fa"||s==="fa")&&(i.prefix=ls()||"fas"),i}var RV=function(){function t(){fz(this,t),this.definitions={}}return gz(t,[{key:"add",value:function(){for(var n=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var o=r.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=W(W({},n.definitions[a]||{}),o[a]),i_(a,o[a]);var l=ov[bt][a];l&&i_(l,o[a]),HP()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var o=r[s],a=o.prefix,l=o.iconName,u=o.icon,c=u[2];n[a]||(n[a]={}),c.length>0&&c.forEach(function(h){typeof h=="string"&&(n[a][h]=u)}),n[a][l]=u}),n}}])}(),Sw=[],Zo={},ga={},PV=Object.keys(ga);function IV(t,e){var n=e.mixoutsTo;return Sw=t,Zo={},Object.keys(ga).forEach(function(i){PV.indexOf(i)===-1&&delete ga[i]}),Sw.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(o){typeof r[o]=="function"&&(n[o]=r[o]),sd(r[o])==="object"&&Object.keys(r[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=r[o][a]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(o){Zo[o]||(Zo[o]=[]),Zo[o].push(s[o])})}i.provides&&i.provides(ga)}),n}function r_(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=Zo[t]||[];return s.forEach(function(o){e=o.apply(null,[e].concat(i))}),e}function eo(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=Zo[t]||[];r.forEach(function(s){s.apply(null,n)})}function us(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return ga[t]?ga[t].apply(null,e):void 0}function s_(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||ls();if(e)return e=Ns(n,e)||e,vw(qP.definitions,n,e)||vw(ri.styles,n,e)}var qP=new RV,AV=function(){ie.autoReplaceSvg=!1,ie.observeMutations=!1,eo("noAuto")},OV={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Er?(eo("beforeI2svg",e),us("pseudoElements2svg",e),us("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;ie.autoReplaceSvg===!1&&(ie.autoReplaceSvg=!0),ie.observeMutations=!0,mV(function(){kV({autoReplaceSvgRoot:n}),eo("watch",e)})}},LV={icon:function(e){if(e===null)return null;if(sd(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ns(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],i=fg(e[0]);return{prefix:i,iconName:Ns(i,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(ie.cssPrefix,"-"))>-1||e.match(QB))){var r=dg(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||ls(),iconName:Ns(r.prefix,r.iconName)||r.iconName}}if(typeof e=="string"){var s=ls();return{prefix:s,iconName:Ns(s,e)||e}}}},Mn={noAuto:AV,config:ie,dom:OV,parse:LV,library:qP,findIconDefinition:s_,toHtml:Ic},kV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,i=n===void 0?$e:n;(Object.keys(ri.styles).length>0||ie.autoFetchSvg)&&Er&&ie.autoReplaceSvg&&Mn.dom.i2svg({node:i})};function gg(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(i){return Ic(i)})}}),Object.defineProperty(t,"node",{get:function(){if(Er){var i=$e.createElement("div");return i.innerHTML=t.html,i.children}}}),t}function FV(t){var e=t.children,n=t.main,i=t.mask,r=t.attributes,s=t.styles,o=t.transform;if(lv(o)&&n.found&&!i.found){var a=n.width,l=n.height,u={x:a/l/2,y:.5};r.style=hg(W(W({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}function DV(t){var e=t.prefix,n=t.iconName,i=t.children,r=t.attributes,s=t.symbol,o=s===!0?"".concat(e,"-").concat(ie.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:W(W({},r),{},{id:o}),children:i}]}]}function NV(t){var e=["aria-label","aria-labelledby","title","role"];return e.some(function(n){return n in t})}function hv(t){var e=t.icons,n=e.main,i=e.mask,r=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,l=t.maskId,u=t.extra,c=t.watchable,h=c===void 0?!1:c,f=i.found?i:n,g=f.width,d=f.height,p=[ie.replacementClass,s?"".concat(ie.cssPrefix,"-").concat(s):""].filter(function(x){return u.classes.indexOf(x)===-1}).filter(function(x){return x!==""||!!x}).concat(u.classes).join(" "),m={children:[],attributes:W(W({},u.attributes),{},{"data-prefix":r,"data-icon":s,class:p,role:u.attributes.role||"img",viewBox:"0 0 ".concat(g," ").concat(d)})};!NV(u.attributes)&&!u.attributes["aria-hidden"]&&(m.attributes["aria-hidden"]="true"),h&&(m.attributes[Qs]="");var _=W(W({},m),{},{prefix:r,iconName:s,main:n,mask:i,maskId:l,transform:o,symbol:a,styles:W({},u.styles)}),y=i.found&&n.found?us("generateAbstractMask",_)||{children:[],attributes:{}}:us("generateAbstractIcon",_)||{children:[],attributes:{}},v=y.children,E=y.attributes;return _.children=v,_.attributes=E,a?DV(_):FV(_)}function Cw(t){var e=t.content,n=t.width,i=t.height,r=t.transform,s=t.extra,o=t.watchable,a=o===void 0?!1:o,l=W(W({},s.attributes),{},{class:s.classes.join(" ")});a&&(l[Qs]="");var u=W({},s.styles);lv(r)&&(u.transform=fV({transform:r,width:n,height:i}),u["-webkit-transform"]=u.transform);var c=hg(u);c.length>0&&(l.style=c);var h=[];return h.push({tag:"span",attributes:l,children:[e]}),h}function GV(t){var e=t.content,n=t.extra,i=W(W({},n.attributes),{},{class:n.classes.join(" ")}),r=hg(n.styles);r.length>0&&(i.style=r);var s=[];return s.push({tag:"span",attributes:i,children:[e]}),s}var tm=ri.styles;function o_(t){var e=t[0],n=t[1],i=t.slice(4),r=cg(i,1),s=r[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(ie.cssPrefix,"-").concat(J0.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ie.cssPrefix,"-").concat(J0.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(ie.cssPrefix,"-").concat(J0.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:o}}var UV={found:!1,width:512,height:512};function jV(t,e){!OP&&!ie.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function a_(t,e){var n=e;return e==="fa"&&ie.styleDefault!==null&&(e=ls()),new Promise(function(i,r){if(n==="fa"){var s=KP(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&tm[e]&&tm[e][t]){var o=tm[e][t];return i(o_(o))}jV(t,e),i(W(W({},UV),{},{icon:ie.showMissingIcons&&t?us("missingIconAbstract")||{}:{}}))})}var Tw=function(){},l_=ie.measurePerformance&&Sh&&Sh.mark&&Sh.measure?Sh:{mark:Tw,measure:Tw},jl='FA "7.1.0"',$V=function(e){return l_.mark("".concat(jl," ").concat(e," begins")),function(){return ZP(e)}},ZP=function(e){l_.mark("".concat(jl," ").concat(e," ends")),l_.measure("".concat(jl," ").concat(e),"".concat(jl," ").concat(e," begins"),"".concat(jl," ").concat(e," ends"))},fv={begin:$V,end:ZP},tf=function(){};function bw(t){var e=t.getAttribute?t.getAttribute(Qs):null;return typeof e=="string"}function zV(t){var e=t.getAttribute?t.getAttribute(rv):null,n=t.getAttribute?t.getAttribute(sv):null;return e&&n}function BV(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(ie.replacementClass)}function VV(){if(ie.autoReplaceSvg===!0)return nf.replace;var t=nf[ie.autoReplaceSvg];return t||nf.replace}function WV(t){return $e.createElementNS("http://www.w3.org/2000/svg",t)}function XV(t){return $e.createElement(t)}function JP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,i=n===void 0?t.tag==="svg"?WV:XV:n;if(typeof t=="string")return $e.createTextNode(t);var r=i(t.tag);Object.keys(t.attributes||[]).forEach(function(o){r.setAttribute(o,t.attributes[o])});var s=t.children||[];return s.forEach(function(o){r.appendChild(JP(o,{ceFn:i}))}),r}function HV(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var nf={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(r){n.parentNode.insertBefore(JP(r),n)}),n.getAttribute(Qs)===null&&ie.keepOriginalSource){var i=$e.createComment(HV(n));n.parentNode.replaceChild(i,n)}else n.remove()},nest:function(e){var n=e[0],i=e[1];if(~av(n).indexOf(ie.replacementClass))return nf.replace(e);var r=new RegExp("".concat(ie.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(a,l){return l===ie.replacementClass||l.match(r)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=i.map(function(a){return Ic(a)}).join(`
`);n.setAttribute(Qs,""),n.innerHTML=o}};function Mw(t){t()}function QP(t,e){var n=typeof e=="function"?e:tf;if(t.length===0)n();else{var i=Mw;ie.mutateApproach===qB&&(i=as.requestAnimationFrame||Mw),i(function(){var r=VV(),s=fv.begin("mutate");t.map(r),s(),n()})}}var dv=!1;function e4(){dv=!0}function u_(){dv=!1}var ad=null;function Rw(t){if(fw&&ie.observeMutations){var e=t.treeCallback,n=e===void 0?tf:e,i=t.nodeCallback,r=i===void 0?tf:i,s=t.pseudoElementsCallback,o=s===void 0?tf:s,a=t.observeMutationsRoot,l=a===void 0?$e:a;ad=new fw(function(u){if(!dv){var c=ls();sl(u).forEach(function(h){if(h.type==="childList"&&h.addedNodes.length>0&&!bw(h.addedNodes[0])&&(ie.searchPseudoElements&&o(h.target),n(h.target)),h.type==="attributes"&&h.target.parentNode&&ie.searchPseudoElements&&o([h.target],!0),h.type==="attributes"&&bw(h.target)&&~nV.indexOf(h.attributeName))if(h.attributeName==="class"&&zV(h.target)){var f=dg(av(h.target)),g=f.prefix,d=f.iconName;h.target.setAttribute(rv,g||c),d&&h.target.setAttribute(sv,d)}else BV(h.target)&&r(h.target)})}}),Er&&ad.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function KV(){ad&&ad.disconnect()}function YV(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(i,r){var s=r.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(i[o]=a.join(":").trim()),i},{})),n}function qV(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),i=t.innerText!==void 0?t.innerText.trim():"",r=dg(av(t));return r.prefix||(r.prefix=ls()),e&&n&&(r.prefix=e,r.iconName=n),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=EV(r.prefix,t.innerText)||cv(r.prefix,jP(t.innerText))),!r.iconName&&ie.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=t.firstChild.data)),r}function ZV(t){var e=sl(t.attributes).reduce(function(n,i){return n.name!=="class"&&n.name!=="style"&&(n[i.name]=i.value),n},{});return e}function JV(){return{iconName:null,prefix:null,transform:Li,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Pw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=qV(t),i=n.iconName,r=n.prefix,s=n.rest,o=ZV(t),a=r_("parseNodeAttributes",{},t),l=e.styleParser?YV(t):[];return W({iconName:i,prefix:r,transform:Li,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var QV=ri.styles;function t4(t){var e=ie.autoReplaceSvg==="nest"?Pw(t,{styleParser:!1}):Pw(t);return~e.extra.classes.indexOf(kP)?us("generateLayersText",t,e):us("generateSvgReplacementMutation",t,e)}function eW(){return[].concat(di(bP),di(MP))}function Iw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Er)return Promise.resolve();var n=$e.documentElement.classList,i=function(h){return n.add("".concat(mw,"-").concat(h))},r=function(h){return n.remove("".concat(mw,"-").concat(h))},s=ie.autoFetchSvg?eW():lP.concat(Object.keys(QV));s.includes("fa")||s.push("fa");var o=[".".concat(kP,":not([").concat(Qs,"])")].concat(s.map(function(c){return".".concat(c,":not([").concat(Qs,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=sl(t.querySelectorAll(o))}catch{}if(a.length>0)i("pending"),r("complete");else return Promise.resolve();var l=fv.begin("onTree"),u=a.reduce(function(c,h){try{var f=t4(h);f&&c.push(f)}catch(g){OP||g.name==="MissingIcon"&&console.error(g)}return c},[]);return new Promise(function(c,h){Promise.all(u).then(function(f){QP(f,function(){i("active"),i("complete"),r("pending"),typeof e=="function"&&e(),l(),c()})}).catch(function(f){l(),h(f)})})}function tW(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;t4(t).then(function(n){n&&QP([n],e)})}function nW(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(e||{}).icon?e:s_(e||{}),r=n.mask;return r&&(r=(r||{}).icon?r:s_(r||{})),t(i,W(W({},n),{},{mask:r}))}}var iW=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.transform,r=i===void 0?Li:i,s=n.symbol,o=s===void 0?!1:s,a=n.mask,l=a===void 0?null:a,u=n.maskId,c=u===void 0?null:u,h=n.classes,f=h===void 0?[]:h,g=n.attributes,d=g===void 0?{}:g,p=n.styles,m=p===void 0?{}:p;if(e){var _=e.prefix,y=e.iconName,v=e.icon;return gg(W({type:"icon"},e),function(){return eo("beforeDOMElementCreation",{iconDefinition:e,params:n}),hv({icons:{main:o_(v),mask:l?o_(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:y,transform:W(W({},Li),r),symbol:o,maskId:c,extra:{attributes:d,styles:m,classes:f}})})}},rW={mixout:function(){return{icon:nW(iW)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=Iw,n.nodeCallback=tW,n}}},provides:function(e){e.i2svg=function(n){var i=n.node,r=i===void 0?$e:i,s=n.callback,o=s===void 0?function(){}:s;return Iw(r,o)},e.generateSvgReplacementMutation=function(n,i){var r=i.iconName,s=i.prefix,o=i.transform,a=i.symbol,l=i.mask,u=i.maskId,c=i.extra;return new Promise(function(h,f){Promise.all([a_(r,s),l.iconName?a_(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var d=cg(g,2),p=d[0],m=d[1];h([n,hv({icons:{main:p,mask:m},prefix:s,iconName:r,transform:o,symbol:a,maskId:u,extra:c,watchable:!0})])}).catch(f)})},e.generateAbstractIcon=function(n){var i=n.children,r=n.attributes,s=n.main,o=n.transform,a=n.styles,l=hg(a);l.length>0&&(r.style=l);var u;return lv(o)&&(u=us("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),i.push(u||s.icon),{children:i,attributes:r}}}},sW={mixout:function(){return{layer:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.classes,s=r===void 0?[]:r;return gg({type:"layer"},function(){eo("beforeDOMElementCreation",{assembler:n,params:i});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(ie.cssPrefix,"-layers")].concat(di(s)).join(" ")},children:o}]})}}}},oW={mixout:function(){return{counter:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.title;var r=i.classes,s=r===void 0?[]:r,o=i.attributes,a=o===void 0?{}:o,l=i.styles,u=l===void 0?{}:l;return gg({type:"counter",content:n},function(){return eo("beforeDOMElementCreation",{content:n,params:i}),GV({content:n.toString(),extra:{attributes:a,styles:u,classes:["".concat(ie.cssPrefix,"-layers-counter")].concat(di(s))}})})}}}},aW={mixout:function(){return{text:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.transform,s=r===void 0?Li:r,o=i.classes,a=o===void 0?[]:o,l=i.attributes,u=l===void 0?{}:l,c=i.styles,h=c===void 0?{}:c;return gg({type:"text",content:n},function(){return eo("beforeDOMElementCreation",{content:n,params:i}),Cw({content:n,transform:W(W({},Li),s),extra:{attributes:u,styles:h,classes:["".concat(ie.cssPrefix,"-layers-text")].concat(di(a))}})})}}},provides:function(e){e.generateLayersText=function(n,i){var r=i.transform,s=i.extra,o=null,a=null;if(oP){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();o=u.width/l,a=u.height/l}return Promise.resolve([n,Cw({content:n.innerHTML,width:o,height:a,transform:r,extra:s,watchable:!0})])}}},n4=new RegExp('"',"ug"),Aw=[1105920,1112319],Ow=W(W(W(W({},{FontAwesome:{normal:"fas",400:"fas"}}),Bz),KB),Jz),c_=Object.keys(Ow).reduce(function(t,e){return t[e.toLowerCase()]=Ow[e],t},{}),lW=Object.keys(c_).reduce(function(t,e){var n=c_[e];return t[e]=n[900]||di(Object.entries(n))[0][1],t},{});function uW(t){var e=t.replace(n4,"");return jP(di(e)[0]||"")}function cW(t){var e=t.getPropertyValue("font-feature-settings").includes("ss01"),n=t.getPropertyValue("content"),i=n.replace(n4,""),r=i.codePointAt(0),s=r>=Aw[0]&&r<=Aw[1],o=i.length===2?i[0]===i[1]:!1;return s||o||e}function hW(t,e){var n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),r=isNaN(i)?"normal":i;return(c_[n]||{})[r]||lW[n]}function Lw(t,e){var n="".concat(YB).concat(e.replace(":","-"));return new Promise(function(i,r){if(t.getAttribute(n)!==null)return i();var s=sl(t.children),o=s.filter(function(S){return S.getAttribute(Qp)===e})[0],a=as.getComputedStyle(t,e),l=a.getPropertyValue("font-family"),u=l.match(eV),c=a.getPropertyValue("font-weight"),h=a.getPropertyValue("content");if(o&&!u)return t.removeChild(o),i();if(u&&h!=="none"&&h!==""){var f=a.getPropertyValue("content"),g=hW(l,c),d=uW(f),p=u[0].startsWith("FontAwesome"),m=cW(a),_=cv(g,d),y=_;if(p){var v=xV(d);v.iconName&&v.prefix&&(_=v.iconName,g=v.prefix)}if(_&&!m&&(!o||o.getAttribute(rv)!==g||o.getAttribute(sv)!==y)){t.setAttribute(n,y),o&&t.removeChild(o);var E=JV(),x=E.extra;x.attributes[Qp]=e,a_(_,g).then(function(S){var w=hv(W(W({},E),{},{icons:{main:S,mask:YP()},prefix:g,iconName:y,extra:x,watchable:!0})),C=$e.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(C,t.firstChild):t.appendChild(C),C.outerHTML=w.map(function(M){return Ic(M)}).join(`
`),t.removeAttribute(n),i()}).catch(r)}else i()}else i()})}function fW(t){return Promise.all([Lw(t,"::before"),Lw(t,"::after")])}function dW(t){return t.parentNode!==document.head&&!~ZB.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Qp)&&(!t.parentNode||t.parentNode.tagName!=="svg")}var gW=function(e){return!!e&&AP.some(function(n){return e.includes(n)})},mW=function(e){if(!e)return[];var n=new Set,i=e.split(/,(?![^()]*\))/).map(function(l){return l.trim()});i=i.flatMap(function(l){return l.includes("(")?l:l.split(",").map(function(u){return u.trim()})});var r=ef(i),s;try{for(r.s();!(s=r.n()).done;){var o=s.value;if(gW(o)){var a=AP.reduce(function(l,u){return l.replace(u,"")},o);a!==""&&a!=="*"&&n.add(a)}}}catch(l){r.e(l)}finally{r.f()}return n};function kw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Er){var n;if(e)n=t;else if(ie.searchPseudoElementsFullScan)n=t.querySelectorAll("*");else{var i=new Set,r=ef(document.styleSheets),s;try{for(r.s();!(s=r.n()).done;){var o=s.value;try{var a=ef(o.cssRules),l;try{for(a.s();!(l=a.n()).done;){var u=l.value,c=mW(u.selectorText),h=ef(c),f;try{for(h.s();!(f=h.n()).done;){var g=f.value;i.add(g)}}catch(p){h.e(p)}finally{h.f()}}}catch(p){a.e(p)}finally{a.f()}}catch(p){ie.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(o.href," (").concat(p.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(p){r.e(p)}finally{r.f()}if(!i.size)return;var d=Array.from(i).join(", ");try{n=t.querySelectorAll(d)}catch{}}return new Promise(function(p,m){var _=sl(n).filter(dW).map(fW),y=fv.begin("searchPseudoElements");e4(),Promise.all(_).then(function(){y(),u_(),p()}).catch(function(){y(),u_(),m()})})}}var pW={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=kw,n}}},provides:function(e){e.pseudoElements2svg=function(n){var i=n.node,r=i===void 0?$e:i;ie.searchPseudoElements&&kw(r)}}},Fw=!1,_W={mixout:function(){return{dom:{unwatch:function(){e4(),Fw=!0}}}},hooks:function(){return{bootstrap:function(){Rw(r_("mutationObserverCallbacks",{}))},noAuto:function(){KV()},watch:function(n){var i=n.observeMutationsRoot;Fw?u_():Rw(r_("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},Dw=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return i.flipX=!0,i;if(o&&a==="v")return i.flipY=!0,i;if(a=parseFloat(a),isNaN(a))return i;switch(o){case"grow":i.size=i.size+a;break;case"shrink":i.size=i.size-a;break;case"left":i.x=i.x-a;break;case"right":i.x=i.x+a;break;case"up":i.y=i.y-a;break;case"down":i.y=i.y+a;break;case"rotate":i.rotate=i.rotate+a;break}return i},n)},yW={mixout:function(){return{parse:{transform:function(n){return Dw(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,i){var r=i.getAttribute("data-fa-transform");return r&&(n.transform=Dw(r)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var i=n.main,r=n.transform,s=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(r.x*32,", ").concat(r.y*32,") "),u="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),c="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(l," ").concat(u," ").concat(c)},f={transform:"translate(".concat(o/2*-1," -256)")},g={outer:a,inner:h,path:f};return{tag:"g",attributes:W({},g.outer),children:[{tag:"g",attributes:W({},g.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:W(W({},i.icon.attributes),g.path)}]}]}}}},nm={x:0,y:0,width:"100%",height:"100%"};function Nw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function vW(t){return t.tag==="g"?t.children:[t]}var EW={hooks:function(){return{parseNodeAttributes:function(n,i){var r=i.getAttribute("data-fa-mask"),s=r?dg(r.split(" ").map(function(o){return o.trim()})):YP();return s.prefix||(s.prefix=ls()),n.mask=s,n.maskId=i.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var i=n.children,r=n.attributes,s=n.main,o=n.mask,a=n.maskId,l=n.transform,u=s.width,c=s.icon,h=o.width,f=o.icon,g=hV({transform:l,containerWidth:h,iconWidth:u}),d={tag:"rect",attributes:W(W({},nm),{},{fill:"white"})},p=c.children?{children:c.children.map(Nw)}:{},m={tag:"g",attributes:W({},g.inner),children:[Nw(W({tag:c.tag,attributes:W(W({},c.attributes),g.path)},p))]},_={tag:"g",attributes:W({},g.outer),children:[m]},y="mask-".concat(a||_w()),v="clip-".concat(a||_w()),E={tag:"mask",attributes:W(W({},nm),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,_]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:vW(f)},E]};return i.push(x,{tag:"rect",attributes:W({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(y,")")},nm)}),{children:i,attributes:r}}}},xW={provides:function(e){var n=!1;as.matchMedia&&(n=as.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:W(W({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=W(W({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:W(W({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:W(W({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:W(W({},o),{},{values:"1;0;1;1;0;1;"})}),i.push(a),i.push({tag:"path",attributes:W(W({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:W(W({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||i.push({tag:"path",attributes:W(W({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:W(W({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},wW={hooks:function(){return{parseNodeAttributes:function(n,i){var r=i.getAttribute("data-fa-symbol"),s=r===null?!1:r===""?!0:r;return n.symbol=s,n}}}},SW=[gV,rW,sW,oW,aW,pW,_W,yW,EW,xW,wW];IV(SW,{mixoutsTo:Mn});Mn.noAuto;Mn.config;Mn.library;Mn.dom;var h_=Mn.parse;Mn.findIconDefinition;Mn.toHtml;var CW=Mn.icon;Mn.layer;Mn.text;Mn.counter;var TW={};function f_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function bW(t){if(Array.isArray(t))return t}function MW(t){if(Array.isArray(t))return f_(t)}function Lr(t,e,n){return(e=FW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,r,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return a}}function IW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gw(Object(n),!0).forEach(function(i){Lr(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function OW(t,e){if(t==null)return{};var n,i,r=LW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LW(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Uw(t,e){return bW(t)||PW(t,e)||i4(t,e)||IW()}function d_(t){return MW(t)||RW(t)||i4(t)||AW()}function kW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FW(t){var e=kW(t,"string");return typeof e=="symbol"?e:e+""}function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function i4(t,e){if(t){if(typeof t=="string")return f_(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f_(t,e):void 0}}var DW="7.0.0",g_;try{var NW=require("@fortawesome/fontawesome-svg-core/package.json");g_=NW.version}catch{g_=typeof process<"u"&&TW.FA_VERSION||"7.0.0"}function GW(t){var e=t.beat,n=t.fade,i=t.beatFade,r=t.bounce,s=t.shake,o=t.flash,a=t.spin,l=t.spinPulse,u=t.spinReverse,c=t.pulse,h=t.fixedWidth,f=t.inverse,g=t.border,d=t.listItem,p=t.flip,m=t.size,_=t.rotation,y=t.pull,v=t.swapOpacity,E=t.rotateBy,x=t.widthAuto,S=UW(g_,DW),w=Lr(Lr(Lr(Lr(Lr(Lr({"fa-beat":e,"fa-fade":n,"fa-beat-fade":i,"fa-bounce":r,"fa-shake":s,"fa-flash":o,"fa-spin":a,"fa-spin-reverse":u,"fa-spin-pulse":l,"fa-pulse":c,"fa-fw":h,"fa-inverse":f,"fa-border":g,"fa-li":d,"fa-flip":p===!0,"fa-flip-horizontal":p==="horizontal"||p==="both","fa-flip-vertical":p==="vertical"||p==="both"},"fa-".concat(m),typeof m<"u"&&m!==null),"fa-rotate-".concat(_),typeof _<"u"&&_!==null&&_!==0),"fa-pull-".concat(y),typeof y<"u"&&y!==null),"fa-swap-opacity",v),"fa-rotate-by",S&&E),"fa-width-auto",S&&x);return Object.keys(w).map(function(C){return w[C]?C:null}).filter(function(C){return C})}function UW(t,e){for(var n=t.split("-"),i=Uw(n,2),r=i[0],s=i[1],o=e.split("-"),a=Uw(o,2),l=a[0],u=a[1],c=r.split("."),h=l.split("."),f=0;f<Math.max(c.length,h.length);f++){var g=c[f]||"0",d=h[f]||"0",p=parseInt(g,10),m=parseInt(d,10);if(p!==m)return p>m}for(var _=0;_<Math.max(c.length,h.length);_++){var y=c[_]||"0",v=h[_]||"0";if(y!==v&&y.length!==v.length)return y.length<v.length}return!(s&&!u)}function jW(t){return t=t-0,t===t}function r4(t){return jW(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var $W=["style"];function zW(t){return t.charAt(0).toUpperCase()+t.slice(1)}function BW(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var i=n.indexOf(":"),r=r4(n.slice(0,i)),s=n.slice(i+1).trim();return r.startsWith("webkit")?e[zW(r)]=s:e[r]=s,e},{})}function s4(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(l){return s4(t,l)}),r=Object.keys(e.attributes||{}).reduce(function(l,u){var c=e.attributes[u];switch(u){case"class":l.attrs.className=c,delete e.attributes.class;break;case"style":l.attrs.style=BW(c);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=c:l.attrs[r4(u)]=c}return l},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=OW(n,$W);return r.attrs.style=Ti(Ti({},r.attrs.style),o),t.apply(void 0,[e.tag,Ti(Ti({},r.attrs),a)].concat(d_(i)))}var o4=!1;try{o4=!0}catch{}function VW(){if(!o4&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function jw(t){if(t&&ld(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(h_.icon)return h_.icon(t);if(t===null)return null;if(t&&ld(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function im(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Lr({},t,e):{}}var $w={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,rotateBy:!1,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1,widthAuto:!1},au=M_.forwardRef(function(t,e){var n=Ti(Ti({},$w),t),i=n.icon,r=n.mask,s=n.symbol,o=n.className,a=n.title,l=n.titleId,u=n.maskId,c=jw(i),h=im("classes",[].concat(d_(GW(n)),d_((o||"").split(" ")))),f=im("transform",typeof n.transform=="string"?h_.transform(n.transform):n.transform),g=im("mask",jw(r)),d=CW(c,Ti(Ti(Ti(Ti({},h),f),g),{},{symbol:s,title:a,titleId:l,maskId:u}));if(!d)return VW("Could not find icon",c),null;var p=d.abstract,m={ref:e};return Object.keys(n).forEach(function(_){$w.hasOwnProperty(_)||(m[_]=n[_])}),WW(p[0],m)});au.displayName="FontAwesomeIcon";au.propTypes={beat:_e.bool,border:_e.bool,beatFade:_e.bool,bounce:_e.bool,className:_e.string,fade:_e.bool,flash:_e.bool,mask:_e.oneOfType([_e.object,_e.array,_e.string]),maskId:_e.string,fixedWidth:_e.bool,inverse:_e.bool,flip:_e.oneOf([!0,!1,"horizontal","vertical","both"]),icon:_e.oneOfType([_e.object,_e.array,_e.string]),listItem:_e.bool,pull:_e.oneOf(["right","left"]),pulse:_e.bool,rotation:_e.oneOf([0,90,180,270]),rotateBy:_e.bool,shake:_e.bool,size:_e.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:_e.bool,spinPulse:_e.bool,spinReverse:_e.bool,symbol:_e.oneOfType([_e.bool,_e.string]),title:_e.string,titleId:_e.string,transform:_e.oneOfType([_e.string,_e.object]),swapOpacity:_e.bool,widthAuto:_e.bool};var WW=s4.bind(null,M_.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const XW={prefix:"fas",iconName:"rotate",icon:[512,512,[128260,"sync-alt"],"f2f1","M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"]},HW=XW,KW={prefix:"fas",iconName:"magnifying-glass-plus",icon:[512,512,["search-plus"],"f00e","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM184 296c0 13.3 10.7 24 24 24s24-10.7 24-24l0-64 64 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-64 0 0-64c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 64-64 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l64 0 0 64z"]},YW=KW,qW={prefix:"fas",iconName:"magnifying-glass-minus",icon:[512,512,["search-minus"],"f010","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM136 184c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"]},ZW=qW,JW=({src:t,setDirection:e})=>{const[n,i]=T.useState(1),[r,s]=T.useState({x:0,y:0}),o=()=>i(u=>u*1.2),a=()=>i(u=>Math.max(.1,u/1.2)),l=()=>{i(1),s({x:0,y:0}),e("north")};return A.jsxs(tv,{className:"text-center mt-4",children:[A.jsxs("div",{className:"image-container",children:[A.jsx("div",{children:A.jsx("img",{src:t,alt:"Viewer",style:{transform:`scale(${n})`,transition:"transform 0.2s",maxWidth:"100%",height:"auto",userSelect:"none",WebkitUserDrag:"none"},className:"draggable-image"})}),A.jsxs("div",{className:"compass",children:[A.jsx("div",{className:"direction north",onClick:()=>e("north"),children:"N"}),A.jsx("div",{className:"direction east",onClick:()=>e("east"),children:"E"}),A.jsx("div",{className:"direction south",onClick:()=>e("south"),children:"S"}),A.jsx("div",{className:"direction west",onClick:()=>e("west"),children:"W"}),A.jsx("div",{className:"direction nadir",onClick:()=>e("nadir"),children:"T"})]})]}),A.jsxs("div",{className:"mt-3",children:[A.jsx(au,{icon:YW,className:"icon mx-2",onClick:o,title:"Zoom In"}),A.jsx(au,{icon:ZW,className:"icon mx-2",onClick:a,title:"Zoom Out"}),A.jsx(au,{icon:HW,className:"icon mx-2",onClick:l,title:"Reset"})]})]})};function to(t){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},to(t)}function QW(t,e){if(to(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(to(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a4(t){var e=QW(t,"string");return to(e)=="symbol"?e:e+""}function Jo(t,e,n){return(e=a4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zw(Object(n),!0).forEach(function(i){Jo(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function eX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bw(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a4(i.key),i)}}function tX(t,e,n){return e&&Bw(t.prototype,e),n&&Bw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yp(t,e)}function ud(t){return ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ud(t)}function l4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l4=function(){return!!t})()}function iX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rX(t,e){if(e&&(to(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iX(t)}function sX(t){var e=l4();return function(){var n,i=ud(t);if(e){var r=ud(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return rX(this,n)}}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function oX(t){if(Array.isArray(t))return m_(t)}function aX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function u4(t,e){if(t){if(typeof t=="string")return m_(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m_(t,e):void 0}}function lX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gv(t){return oX(t)||aX(t)||u4(t)||lX()}function uX(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function cX(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var hX=function(){function t(n){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(cX(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=uX(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},t}(),At="-ms-",cd="-moz-",be="-webkit-",c4="comm",mv="rule",pv="decl",fX="@import",h4="@keyframes",dX="@layer",gX=Math.abs,mg=String.fromCharCode,mX=Object.assign;function pX(t,e){return St(t,0)^45?(((e<<2^St(t,0))<<2^St(t,1))<<2^St(t,2))<<2^St(t,3):0}function f4(t){return t.trim()}function _X(t,e){return(t=e.exec(t))?t[0]:t}function Me(t,e,n){return t.replace(e,n)}function p_(t,e){return t.indexOf(e)}function St(t,e){return t.charCodeAt(e)|0}function qu(t,e,n){return t.slice(e,n)}function bi(t){return t.length}function _v(t){return t.length}function Th(t,e){return e.push(t),t}function yX(t,e){return t.map(e).join("")}var pg=1,Ga=1,d4=0,dn=0,ot=0,ol="";function _g(t,e,n,i,r,s,o){return{value:t,root:e,parent:n,type:i,props:r,children:s,line:pg,column:Ga,length:o,return:""}}function Tl(t,e){return mX(_g("",null,null,"",null,null,0),t,{length:-t.length},e)}function vX(){return ot}function EX(){return ot=dn>0?St(ol,--dn):0,Ga--,ot===10&&(Ga=1,pg--),ot}function wn(){return ot=dn<d4?St(ol,dn++):0,Ga++,ot===10&&(Ga=1,pg++),ot}function Gi(){return St(ol,dn)}function rf(){return dn}function Ac(t,e){return qu(ol,t,e)}function Zu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function g4(t){return pg=Ga=1,d4=bi(ol=t),dn=0,[]}function m4(t){return ol="",t}function sf(t){return f4(Ac(dn-1,__(t===91?t+2:t===40?t+1:t)))}function xX(t){for(;(ot=Gi())&&ot<33;)wn();return Zu(t)>2||Zu(ot)>3?"":" "}function wX(t,e){for(;--e&&wn()&&!(ot<48||ot>102||ot>57&&ot<65||ot>70&&ot<97););return Ac(t,rf()+(e<6&&Gi()==32&&wn()==32))}function __(t){for(;wn();)switch(ot){case t:return dn;case 34:case 39:t!==34&&t!==39&&__(ot);break;case 40:t===41&&__(t);break;case 92:wn();break}return dn}function SX(t,e){for(;wn()&&t+ot!==57;)if(t+ot===84&&Gi()===47)break;return"/*"+Ac(e,dn-1)+"*"+mg(t===47?t:wn())}function CX(t){for(;!Zu(Gi());)wn();return Ac(t,dn)}function TX(t){return m4(of("",null,null,null,[""],t=g4(t),0,[0],t))}function of(t,e,n,i,r,s,o,a,l){for(var u=0,c=0,h=o,f=0,g=0,d=0,p=1,m=1,_=1,y=0,v="",E=r,x=s,S=i,w=v;m;)switch(d=y,y=wn()){case 40:if(d!=108&&St(w,h-1)==58){p_(w+=Me(sf(y),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:w+=sf(y);break;case 9:case 10:case 13:case 32:w+=xX(d);break;case 92:w+=wX(rf()-1,7);continue;case 47:switch(Gi()){case 42:case 47:Th(bX(SX(wn(),rf()),e,n),l);break;default:w+="/"}break;case 123*p:a[u++]=bi(w)*_;case 125*p:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+c:_==-1&&(w=Me(w,/\f/g,"")),g>0&&bi(w)-h&&Th(g>32?Ww(w+";",i,n,h-1):Ww(Me(w," ","")+";",i,n,h-2),l);break;case 59:w+=";";default:if(Th(S=Vw(w,e,n,u,c,r,a,v,E=[],x=[],h),s),y===123)if(c===0)of(w,e,S,S,E,s,h,a,x);else switch(f===99&&St(w,3)===110?100:f){case 100:case 108:case 109:case 115:of(t,S,S,i&&Th(Vw(t,S,S,0,0,r,a,v,r,E=[],h),x),r,x,h,a,i?E:x);break;default:of(w,S,S,S,[""],x,0,a,x)}}u=c=g=0,p=_=1,v=w="",h=o;break;case 58:h=1+bi(w),g=d;default:if(p<1){if(y==123)--p;else if(y==125&&p++==0&&EX()==125)continue}switch(w+=mg(y),y*p){case 38:_=c>0?1:(w+="\f",-1);break;case 44:a[u++]=(bi(w)-1)*_,_=1;break;case 64:Gi()===45&&(w+=sf(wn())),f=Gi(),c=h=bi(v=w+=CX(rf())),y++;break;case 45:d===45&&bi(w)==2&&(p=0)}}return s}function Vw(t,e,n,i,r,s,o,a,l,u,c){for(var h=r-1,f=r===0?s:[""],g=_v(f),d=0,p=0,m=0;d<i;++d)for(var _=0,y=qu(t,h+1,h=gX(p=o[d])),v=t;_<g;++_)(v=f4(p>0?f[_]+" "+y:Me(y,/&\f/g,f[_])))&&(l[m++]=v);return _g(t,e,n,r===0?mv:a,l,u,c)}function bX(t,e,n){return _g(t,e,n,c4,mg(vX()),qu(t,2,-2),0)}function Ww(t,e,n,i){return _g(t,e,n,pv,qu(t,0,i),qu(t,i+1,-1),i)}function ma(t,e){for(var n="",i=_v(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function MX(t,e,n,i){switch(t.type){case dX:if(t.children.length)break;case fX:case pv:return t.return=t.return||t.value;case c4:return"";case h4:return t.return=t.value+"{"+ma(t.children,i)+"}";case mv:t.value=t.props.join(",")}return bi(n=ma(t.children,i))?t.return=t.value+"{"+n+"}":""}function RX(t){var e=_v(t);return function(n,i,r,s){for(var o="",a=0;a<e;a++)o+=t[a](n,i,r,s)||"";return o}}function PX(t){return function(e){e.root||(e=e.return)&&t(e)}}function IX(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var AX=function(e,n,i){for(var r=0,s=0;r=s,s=Gi(),r===38&&s===12&&(n[i]=1),!Zu(s);)wn();return Ac(e,dn)},OX=function(e,n){var i=-1,r=44;do switch(Zu(r)){case 0:r===38&&Gi()===12&&(n[i]=1),e[i]+=AX(dn-1,n,i);break;case 2:e[i]+=sf(r);break;case 4:if(r===44){e[++i]=Gi()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=mg(r)}while(r=wn());return e},LX=function(e,n){return m4(OX(g4(e),n))},Xw=new WeakMap,kX=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Xw.get(i))&&!r){Xw.set(e,!0);for(var s=[],o=LX(n,s),a=i.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},FX=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function p4(t,e){switch(pX(t,e)){case 5103:return be+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return be+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return be+t+cd+t+At+t+t;case 6828:case 4268:return be+t+At+t+t;case 6165:return be+t+At+"flex-"+t+t;case 5187:return be+t+Me(t,/(\w+).+(:[^]+)/,be+"box-$1$2"+At+"flex-$1$2")+t;case 5443:return be+t+At+"flex-item-"+Me(t,/flex-|-self/,"")+t;case 4675:return be+t+At+"flex-line-pack"+Me(t,/align-content|flex-|-self/,"")+t;case 5548:return be+t+At+Me(t,"shrink","negative")+t;case 5292:return be+t+At+Me(t,"basis","preferred-size")+t;case 6060:return be+"box-"+Me(t,"-grow","")+be+t+At+Me(t,"grow","positive")+t;case 4554:return be+Me(t,/([^-])(transform)/g,"$1"+be+"$2")+t;case 6187:return Me(Me(Me(t,/(zoom-|grab)/,be+"$1"),/(image-set)/,be+"$1"),t,"")+t;case 5495:case 3959:return Me(t,/(image-set\([^]*)/,be+"$1$`$1");case 4968:return Me(Me(t,/(.+:)(flex-)?(.*)/,be+"box-pack:$3"+At+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+be+t+t;case 4095:case 3583:case 4068:case 2532:return Me(t,/(.+)-inline(.+)/,be+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bi(t)-1-e>6)switch(St(t,e+1)){case 109:if(St(t,e+4)!==45)break;case 102:return Me(t,/(.+:)(.+)-([^]+)/,"$1"+be+"$2-$3$1"+cd+(St(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~p_(t,"stretch")?p4(Me(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(St(t,e+1)!==115)break;case 6444:switch(St(t,bi(t)-3-(~p_(t,"!important")&&10))){case 107:return Me(t,":",":"+be)+t;case 101:return Me(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+be+(St(t,14)===45?"inline-":"")+"box$3$1"+be+"$2$3$1"+At+"$2box$3")+t}break;case 5936:switch(St(t,e+11)){case 114:return be+t+At+Me(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return be+t+At+Me(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return be+t+At+Me(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return be+t+At+t+t}return t}var DX=function(e,n,i,r){if(e.length>-1&&!e.return)switch(e.type){case pv:e.return=p4(e.value,e.length);break;case h4:return ma([Tl(e,{value:Me(e.value,"@","@"+be)})],r);case mv:if(e.length)return yX(e.props,function(s){switch(_X(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ma([Tl(e,{props:[Me(s,/:(read-\w+)/,":"+cd+"$1")]})],r);case"::placeholder":return ma([Tl(e,{props:[Me(s,/:(plac\w+)/,":"+be+"input-$1")]}),Tl(e,{props:[Me(s,/:(plac\w+)/,":"+cd+"$1")]}),Tl(e,{props:[Me(s,/:(plac\w+)/,At+"input-$1")]})],r)}return""})}},NX=[DX],GX=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(p){var m=p.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var r=e.stylisPlugins||NX,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(p){for(var m=p.getAttribute("data-emotion").split(" "),_=1;_<m.length;_++)s[m[_]]=!0;a.push(p)});var l,u=[kX,FX];{var c,h=[MX,PX(function(p){c.insert(p)})],f=RX(u.concat(r,h)),g=function(m){return ma(TX(m),f)};l=function(m,_,y,v){c=y,g(m?m+"{"+_.styles+"}":_.styles),v&&(d.inserted[_.name]=!0)}}var d={key:n,sheet:new hX({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return d.sheet.hydrate(a),d},_4={exports:{}},ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Et=typeof Symbol=="function"&&Symbol.for,yv=Et?Symbol.for("react.element"):60103,vv=Et?Symbol.for("react.portal"):60106,yg=Et?Symbol.for("react.fragment"):60107,vg=Et?Symbol.for("react.strict_mode"):60108,Eg=Et?Symbol.for("react.profiler"):60114,xg=Et?Symbol.for("react.provider"):60109,wg=Et?Symbol.for("react.context"):60110,Ev=Et?Symbol.for("react.async_mode"):60111,Sg=Et?Symbol.for("react.concurrent_mode"):60111,Cg=Et?Symbol.for("react.forward_ref"):60112,Tg=Et?Symbol.for("react.suspense"):60113,UX=Et?Symbol.for("react.suspense_list"):60120,bg=Et?Symbol.for("react.memo"):60115,Mg=Et?Symbol.for("react.lazy"):60116,jX=Et?Symbol.for("react.block"):60121,$X=Et?Symbol.for("react.fundamental"):60117,zX=Et?Symbol.for("react.responder"):60118,BX=Et?Symbol.for("react.scope"):60119;function Rn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yv:switch(t=t.type,t){case Ev:case Sg:case yg:case Eg:case vg:case Tg:return t;default:switch(t=t&&t.$$typeof,t){case wg:case Cg:case Mg:case bg:case xg:return t;default:return e}}case vv:return e}}}function y4(t){return Rn(t)===Sg}ke.AsyncMode=Ev;ke.ConcurrentMode=Sg;ke.ContextConsumer=wg;ke.ContextProvider=xg;ke.Element=yv;ke.ForwardRef=Cg;ke.Fragment=yg;ke.Lazy=Mg;ke.Memo=bg;ke.Portal=vv;ke.Profiler=Eg;ke.StrictMode=vg;ke.Suspense=Tg;ke.isAsyncMode=function(t){return y4(t)||Rn(t)===Ev};ke.isConcurrentMode=y4;ke.isContextConsumer=function(t){return Rn(t)===wg};ke.isContextProvider=function(t){return Rn(t)===xg};ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yv};ke.isForwardRef=function(t){return Rn(t)===Cg};ke.isFragment=function(t){return Rn(t)===yg};ke.isLazy=function(t){return Rn(t)===Mg};ke.isMemo=function(t){return Rn(t)===bg};ke.isPortal=function(t){return Rn(t)===vv};ke.isProfiler=function(t){return Rn(t)===Eg};ke.isStrictMode=function(t){return Rn(t)===vg};ke.isSuspense=function(t){return Rn(t)===Tg};ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===yg||t===Sg||t===Eg||t===vg||t===Tg||t===UX||typeof t=="object"&&t!==null&&(t.$$typeof===Mg||t.$$typeof===bg||t.$$typeof===xg||t.$$typeof===wg||t.$$typeof===Cg||t.$$typeof===$X||t.$$typeof===zX||t.$$typeof===BX||t.$$typeof===jX)};ke.typeOf=Rn;_4.exports=ke;var VX=_4.exports,v4=VX,WX={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},XX={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},E4={};E4[v4.ForwardRef]=WX;E4[v4.Memo]=XX;var HX=!0;function KX(t,e,n){var i="";return n.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(i+=r+" ")}),i}var x4=function(e,n,i){var r=e.key+"-"+n.name;(i===!1||HX===!1)&&e.registered[r]===void 0&&(e.registered[r]=n.styles)},YX=function(e,n,i){x4(e,n,i);var r=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function qX(t){for(var e=0,n,i=0,r=t.length;r>=4;++i,r-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var ZX={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},JX=/[A-Z]|^ms/g,QX=/_EMO_([^_]+?)_([^]*?)_EMO_/g,w4=function(e){return e.charCodeAt(1)===45},Hw=function(e){return e!=null&&typeof e!="boolean"},rm=IX(function(t){return w4(t)?t:t.replace(JX,"-$&").toLowerCase()}),Kw=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(QX,function(i,r,s){return Mi={name:r,styles:s,next:Mi},r})}return ZX[e]!==1&&!w4(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ju(t,e,n){if(n==null)return"";var i=n;if(i.__emotion_styles!==void 0)return i;switch(typeof n){case"boolean":return"";case"object":{var r=n;if(r.anim===1)return Mi={name:r.name,styles:r.styles,next:Mi},r.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Mi={name:o.name,styles:o.styles,next:Mi},o=o.next;var a=s.styles+";";return a}return eH(t,e,n)}case"function":{if(t!==void 0){var l=Mi,u=n(t);return Mi=l,Ju(t,e,u)}break}}var c=n;return c}function eH(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=Ju(t,e,n[r])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;Hw(a)&&(i+=rm(s)+":"+Kw(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var l=0;l<o.length;l++)Hw(o[l])&&(i+=rm(s)+":"+Kw(s,o[l])+";");else{var u=Ju(t,e,o);switch(s){case"animation":case"animationName":{i+=rm(s)+":"+u+";";break}default:i+=s+"{"+u+"}"}}}return i}var Yw=/label:\s*([^\s;{]+)\s*(;|$)/g,Mi;function S4(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,r="";Mi=void 0;var s=t[0];if(s==null||s.raw===void 0)i=!1,r+=Ju(n,e,s);else{var o=s;r+=o[0]}for(var a=1;a<t.length;a++)if(r+=Ju(n,e,t[a]),i){var l=s;r+=l[a]}Yw.lastIndex=0;for(var u="",c;(c=Yw.exec(r))!==null;)u+="-"+c[1];var h=qX(r)+u;return{name:h,styles:r,next:Mi}}var tH=function(e){return e()},nH=fm.useInsertionEffect?fm.useInsertionEffect:!1,iH=nH||tH,C4=T.createContext(typeof HTMLElement<"u"?GX({key:"css"}):null);C4.Provider;var rH=function(e){return T.forwardRef(function(n,i){var r=T.useContext(C4);return e(n,r,i)})},sH=T.createContext({}),xv={}.hasOwnProperty,y_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",oH=function(e,n){var i={};for(var r in n)xv.call(n,r)&&(i[r]=n[r]);return i[y_]=e,i},aH=function(e){var n=e.cache,i=e.serialized,r=e.isStringTag;return x4(n,i,r),iH(function(){return YX(n,i,r)}),null},lH=rH(function(t,e,n){var i=t.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=t[y_],s=[i],o="";typeof t.className=="string"?o=KX(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=S4(s,void 0,T.useContext(sH));o+=e.key+"-"+a.name;var l={};for(var u in t)xv.call(t,u)&&u!=="css"&&u!==y_&&(l[u]=t[u]);return l.className=o,n&&(l.ref=n),T.createElement(T.Fragment,null,T.createElement(aH,{cache:e,serialized:a,isStringTag:typeof r=="string"}),T.createElement(r,l))}),uH=lH,ne=function(e,n){var i=arguments;if(n==null||!xv.call(n,"css"))return T.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=uH,s[1]=oH(e,n);for(var o=2;o<r;o++)s[o]=i[o];return T.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(ne||(ne={}));function wv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S4(e)}function cH(){var t=wv.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function hH(t){if(Array.isArray(t))return t}function fH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,r,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return a}}function dH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dt(t,e){return hH(t)||fH(t,e)||u4(t,e)||dH()}function Bi(t,e){if(t==null)return{};var n,i,r=tz(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gH(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const mH=Math.min,pH=Math.max,hd=Math.round,bh=Math.floor,fd=t=>({x:t,y:t});function _H(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function Rg(){return typeof window<"u"}function T4(t){return M4(t)?(t.nodeName||"").toLowerCase():"#document"}function pr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function b4(t){var e;return(e=(M4(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function M4(t){return Rg()?t instanceof Node||t instanceof pr(t).Node:!1}function yH(t){return Rg()?t instanceof Element||t instanceof pr(t).Element:!1}function Sv(t){return Rg()?t instanceof HTMLElement||t instanceof pr(t).HTMLElement:!1}function qw(t){return!Rg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pr(t).ShadowRoot}const vH=new Set(["inline","contents"]);function R4(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=Cv(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!vH.has(r)}function EH(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xH=new Set(["html","body","#document"]);function wH(t){return xH.has(T4(t))}function Cv(t){return pr(t).getComputedStyle(t)}function SH(t){if(T4(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qw(t)&&t.host||b4(t);return qw(e)?e.host:e}function P4(t){const e=SH(t);return wH(e)?t.ownerDocument?t.ownerDocument.body:t.body:Sv(e)&&R4(e)?e:P4(e)}function dd(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=P4(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),o=pr(r);if(s){const a=v_(o);return e.concat(o,o.visualViewport||[],R4(r)?r:[],a&&n?dd(a):[])}return e.concat(r,dd(r,[],n))}function v_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function CH(t){const e=Cv(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Sv(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,a=hd(n)!==s||hd(i)!==o;return a&&(n=s,i=o),{width:n,height:i,$:a}}function Tv(t){return yH(t)?t:t.contextElement}function Zw(t){const e=Tv(t);if(!Sv(e))return fd(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=CH(e);let o=(s?hd(n.width):n.width)/i,a=(s?hd(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const TH=fd(0);function bH(t){const e=pr(t);return!EH()||!e.visualViewport?TH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function MH(t,e,n){return!1}function Jw(t,e,n,i){e===void 0&&(e=!1);const r=t.getBoundingClientRect(),s=Tv(t);let o=fd(1);e&&(o=Zw(t));const a=MH()?bH(s):fd(0);let l=(r.left+a.x)/o.x,u=(r.top+a.y)/o.y,c=r.width/o.x,h=r.height/o.y;if(s){const f=pr(s),g=i;let d=f,p=v_(d);for(;p&&i&&g!==d;){const m=Zw(p),_=p.getBoundingClientRect(),y=Cv(p),v=_.left+(p.clientLeft+parseFloat(y.paddingLeft))*m.x,E=_.top+(p.clientTop+parseFloat(y.paddingTop))*m.y;l*=m.x,u*=m.y,c*=m.x,h*=m.y,l+=v,u+=E,d=pr(p),p=v_(d)}}return _H({width:c,height:h,x:l,y:u})}function I4(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function RH(t,e){let n=null,i;const r=b4(t);function s(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:c,top:h,width:f,height:g}=u;if(a||e(),!f||!g)return;const d=bh(h),p=bh(r.clientWidth-(c+f)),m=bh(r.clientHeight-(h+g)),_=bh(c),v={rootMargin:-d+"px "+-p+"px "+-m+"px "+-_+"px",threshold:pH(0,mH(1,l))||1};let E=!0;function x(S){const w=S[0].intersectionRatio;if(w!==l){if(!E)return o();w?o(!1,w):i=setTimeout(()=>{o(!1,1e-7)},1e3)}w===1&&!I4(u,t.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(x,{...v,root:r.ownerDocument})}catch{n=new IntersectionObserver(x,v)}n.observe(t)}return o(!0),s}function PH(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,u=Tv(t),c=r||s?[...u?dd(u):[],...dd(e)]:[];c.forEach(_=>{r&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const h=u&&a?RH(u,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(_=>{let[y]=_;y&&y.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var v;(v=g)==null||v.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let d,p=l?Jw(t):null;l&&m();function m(){const _=Jw(t);p&&!I4(p,_)&&n(),p=_,d=requestAnimationFrame(m)}return n(),()=>{var _;c.forEach(y=>{r&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),h==null||h(),(_=g)==null||_.disconnect(),g=null,l&&cancelAnimationFrame(d)}}var E_=T.useLayoutEffect,IH=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],gd=function(){};function AH(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function OH(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=[].concat(i);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(AH(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var Qw=function(e){return zH(e)?e.filter(Boolean):to(e)==="object"&&e!==null?[e]:[]},A4=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Bi(e,IH);return ee({},n)},Je=function(e,n,i){var r=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:r(i??{},o(n,e),a)}};function LH(t,e,n){if(n){var i=n(t,e);if(typeof i=="string")return i}return t}function Pg(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function kH(t){return Pg(t)?window.innerHeight:t.clientHeight}function O4(t){return Pg(t)?window.pageYOffset:t.scrollTop}function md(t,e){if(Pg(t)){window.scrollTo(0,e);return}t.scrollTop=e}function FH(t){var e=getComputedStyle(t),n=e.position==="absolute",i=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var r=t;r=r.parentElement;)if(e=getComputedStyle(r),!(n&&e.position==="static")&&i.test(e.overflow+e.overflowY+e.overflowX))return r;return document.documentElement}function DH(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e}function Mh(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:gd,r=O4(t),s=e-r,o=10,a=0;function l(){a+=o;var u=DH(a,r,s,n);md(t,u),a<n?window.requestAnimationFrame(l):i(t)}l()}function eS(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=e.offsetHeight/3;i.bottom+r>n.bottom?md(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+r,t.scrollHeight)):i.top-r<n.top&&md(t,Math.max(e.offsetTop-r,0))}function NH(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function tS(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function GH(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var L4=!1,UH={get passive(){return L4=!0}},Rh=typeof window<"u"?window:{};Rh.addEventListener&&Rh.removeEventListener&&(Rh.addEventListener("p",gd,UH),Rh.removeEventListener("p",gd,!1));var jH=L4;function $H(t){return t!=null}function zH(t){return Array.isArray(t)}function Ph(t,e,n){return t?e:n}var BH=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var s=Object.entries(e).filter(function(o){var a=dt(o,1),l=a[0];return!i.includes(l)});return s.reduce(function(o,a){var l=dt(a,2),u=l[0],c=l[1];return o[u]=c,o},{})},VH=["children","innerProps"],WH=["children","innerProps"];function XH(t){var e=t.maxHeight,n=t.menuEl,i=t.minHeight,r=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=FH(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var c=l.getBoundingClientRect(),h=c.height,f=n.getBoundingClientRect(),g=f.bottom,d=f.height,p=f.top,m=n.offsetParent.getBoundingClientRect(),_=m.top,y=o?window.innerHeight:kH(l),v=O4(l),E=parseInt(getComputedStyle(n).marginBottom,10),x=parseInt(getComputedStyle(n).marginTop,10),S=_-x,w=y-p,C=S+v,M=h-v-p,b=g-y+v+E,L=v+p-x,O=160;switch(r){case"auto":case"bottom":if(w>=d)return{placement:"bottom",maxHeight:e};if(M>=d&&!o)return s&&Mh(l,b,O),{placement:"bottom",maxHeight:e};if(!o&&M>=i||o&&w>=i){s&&Mh(l,b,O);var N=o?w-E:M-E;return{placement:"bottom",maxHeight:N}}if(r==="auto"||o){var $=e,U=o?S:C;return U>=i&&($=Math.min(U-E-a,e)),{placement:"top",maxHeight:$}}if(r==="bottom")return s&&md(l,b),{placement:"bottom",maxHeight:e};break;case"top":if(S>=d)return{placement:"top",maxHeight:e};if(C>=d&&!o)return s&&Mh(l,L,O),{placement:"top",maxHeight:e};if(!o&&C>=i||o&&S>=i){var j=e;return(!o&&C>=i||o&&S>=i)&&(j=o?S-x:C-x),s&&Mh(l,L,O),{placement:"top",maxHeight:j}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return u}function HH(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var k4=function(e){return e==="auto"?"bottom":e},KH=function(e,n){var i,r=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return ee((i={label:"menu"},Jo(i,HH(r),"100%"),Jo(i,"position","absolute"),Jo(i,"width","100%"),Jo(i,"zIndex",1),i),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},F4=T.createContext(null),YH=function(e){var n=e.children,i=e.minMenuHeight,r=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,u=T.useContext(F4)||{},c=u.setPortalPlacement,h=T.useRef(null),f=T.useState(r),g=dt(f,2),d=g[0],p=g[1],m=T.useState(null),_=dt(m,2),y=_[0],v=_[1],E=l.spacing.controlHeight;return E_(function(){var x=h.current;if(x){var S=o==="fixed",w=a&&!S,C=XH({maxHeight:r,menuEl:x,minHeight:i,placement:s,shouldScroll:w,isFixedPosition:S,controlHeight:E});p(C.maxHeight),v(C.placement),c==null||c(C.placement)}},[r,s,o,a,i,c,E]),n({ref:h,placerProps:ee(ee({},e),{},{placement:y||k4(s),maxHeight:d})})},qH=function(e){var n=e.children,i=e.innerRef,r=e.innerProps;return ne("div",se({},Je(e,"menu",{menu:!0}),{ref:i},r),n)},ZH=qH,JH=function(e,n){var i=e.maxHeight,r=e.theme.spacing.baseUnit;return ee({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:r,paddingTop:r})},QH=function(e){var n=e.children,i=e.innerProps,r=e.innerRef,s=e.isMulti;return ne("div",se({},Je(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:r},i),n)},D4=function(e,n){var i=e.theme,r=i.spacing.baseUnit,s=i.colors;return ee({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px")})},eK=D4,tK=D4,nK=function(e){var n=e.children,i=n===void 0?"No options":n,r=e.innerProps,s=Bi(e,VH);return ne("div",se({},Je(ee(ee({},s),{},{children:i,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),i)},iK=function(e){var n=e.children,i=n===void 0?"Loading...":n,r=e.innerProps,s=Bi(e,WH);return ne("div",se({},Je(ee(ee({},s),{},{children:i,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),i)},rK=function(e){var n=e.rect,i=e.offset,r=e.position;return{left:n.left,position:r,top:i,width:n.width,zIndex:1}},sK=function(e){var n=e.appendTo,i=e.children,r=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=T.useRef(null),u=T.useRef(null),c=T.useState(k4(o)),h=dt(c,2),f=h[0],g=h[1],d=T.useMemo(function(){return{setPortalPlacement:g}},[]),p=T.useState(null),m=dt(p,2),_=m[0],y=m[1],v=T.useCallback(function(){if(r){var w=NH(r),C=a==="fixed"?0:window.pageYOffset,M=w[f]+C;(M!==(_==null?void 0:_.offset)||w.left!==(_==null?void 0:_.rect.left)||w.width!==(_==null?void 0:_.rect.width))&&y({offset:M,rect:w})}},[r,a,f,_==null?void 0:_.offset,_==null?void 0:_.rect.left,_==null?void 0:_.rect.width]);E_(function(){v()},[v]);var E=T.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),r&&l.current&&(u.current=PH(r,l.current,v,{elementResize:"ResizeObserver"in window}))},[r,v]);E_(function(){E()},[E]);var x=T.useCallback(function(w){l.current=w,E()},[E]);if(!n&&a!=="fixed"||!_)return null;var S=ne("div",se({ref:x},Je(ee(ee({},e),{},{offset:_.offset,position:a,rect:_.rect}),"menuPortal",{"menu-portal":!0}),s),i);return ne(F4.Provider,{value:d},n?PT.createPortal(S,n):S)},oK=function(e){var n=e.isDisabled,i=e.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},aK=function(e){var n=e.children,i=e.innerProps,r=e.isDisabled,s=e.isRtl;return ne("div",se({},Je(e,"container",{"--is-disabled":r,"--is-rtl":s}),i),n)},lK=function(e,n){var i=e.theme.spacing,r=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return ee({alignItems:"center",display:r&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},uK=function(e){var n=e.children,i=e.innerProps,r=e.isMulti,s=e.hasValue;return ne("div",se({},Je(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":s}),i),n)},cK=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},hK=function(e){var n=e.children,i=e.innerProps;return ne("div",se({},Je(e,"indicatorsContainer",{indicators:!0}),i),n)},nS,fK=["size"],dK=["innerProps","isRtl","size"],gK={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},N4=function(e){var n=e.size,i=Bi(e,fK);return ne("svg",se({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:gK},i))},bv=function(e){return ne(N4,se({size:20},e),ne("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},G4=function(e){return ne(N4,se({size:20},e),ne("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},U4=function(e,n){var i=e.isFocused,r=e.theme,s=r.spacing.baseUnit,o=r.colors;return ee({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:i?o.neutral60:o.neutral20,padding:s*2,":hover":{color:i?o.neutral80:o.neutral40}})},mK=U4,pK=function(e){var n=e.children,i=e.innerProps;return ne("div",se({},Je(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),n||ne(G4,null))},_K=U4,yK=function(e){var n=e.children,i=e.innerProps;return ne("div",se({},Je(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),n||ne(bv,null))},vK=function(e,n){var i=e.isDisabled,r=e.theme,s=r.spacing.baseUnit,o=r.colors;return ee({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:i?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},EK=function(e){var n=e.innerProps;return ne("span",se({},n,Je(e,"indicatorSeparator",{"indicator-separator":!0})))},xK=cH(nS||(nS=gH([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),wK=function(e,n){var i=e.isFocused,r=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return ee({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},n?{}:{color:i?o.neutral60:o.neutral20,padding:a*2})},sm=function(e){var n=e.delay,i=e.offset;return ne("span",{css:wv({animation:"".concat(xK," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},SK=function(e){var n=e.innerProps,i=e.isRtl,r=e.size,s=r===void 0?4:r,o=Bi(e,dK);return ne("div",se({},Je(ee(ee({},o),{},{innerProps:n,isRtl:i,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ne(sm,{delay:0,offset:i}),ne(sm,{delay:160,offset:!0}),ne(sm,{delay:320,offset:!i}))},CK=function(e,n){var i=e.isDisabled,r=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return ee({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:i?o.neutral5:o.neutral0,borderColor:i?o.neutral10:r?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:r?o.primary:o.neutral30}})},TK=function(e){var n=e.children,i=e.isDisabled,r=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return ne("div",se({ref:s},Je(e,"control",{control:!0,"control--is-disabled":i,"control--is-focused":r,"control--menu-is-open":a}),o,{"aria-disabled":i||void 0}),n)},bK=TK,MK=["data"],RK=function(e,n){var i=e.theme.spacing;return n?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},PK=function(e){var n=e.children,i=e.cx,r=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,u=e.label,c=e.theme,h=e.selectProps;return ne("div",se({},Je(e,"group",{group:!0}),l),ne(o,se({},a,{selectProps:h,theme:c,getStyles:r,getClassNames:s,cx:i}),u),ne("div",null,n))},IK=function(e,n){var i=e.theme,r=i.colors,s=i.spacing;return ee({label:"group",cursor:"default",display:"block"},n?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},AK=function(e){var n=A4(e);n.data;var i=Bi(n,MK);return ne("div",se({},Je(e,"groupHeading",{"group-heading":!0}),i))},OK=PK,LK=["innerRef","isDisabled","isHidden","inputClassName"],kK=function(e,n){var i=e.isDisabled,r=e.value,s=e.theme,o=s.spacing,a=s.colors;return ee(ee({visibility:i?"hidden":"visible",transform:r?"translateZ(0)":""},FK),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},j4={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},FK={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ee({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},j4)},DK=function(e){return ee({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},j4)},NK=function(e){var n=e.cx,i=e.value,r=A4(e),s=r.innerRef,o=r.isDisabled,a=r.isHidden,l=r.inputClassName,u=Bi(r,LK);return ne("div",se({},Je(e,"input",{"input-container":!0}),{"data-value":i||""}),ne("input",se({className:n({input:!0},l),ref:s,style:DK(a),disabled:o},u)))},GK=NK,UK=function(e,n){var i=e.theme,r=i.spacing,s=i.borderRadius,o=i.colors;return ee({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:r.baseUnit/2})},jK=function(e,n){var i=e.theme,r=i.borderRadius,s=i.colors,o=e.cropWithEllipsis;return ee({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:r/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},$K=function(e,n){var i=e.theme,r=i.spacing,s=i.borderRadius,o=i.colors,a=e.isFocused;return ee({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},$4=function(e){var n=e.children,i=e.innerProps;return ne("div",i,n)},zK=$4,BK=$4;function VK(t){var e=t.children,n=t.innerProps;return ne("div",se({role:"button"},n),e||ne(bv,{size:14}))}var WK=function(e){var n=e.children,i=e.components,r=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,u=i.Container,c=i.Label,h=i.Remove;return ne(u,{data:r,innerProps:ee(ee({},Je(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},ne(c,{data:r,innerProps:ee({},Je(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),ne(h,{data:r,innerProps:ee(ee({},Je(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},XK=WK,HK=function(e,n){var i=e.isDisabled,r=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return ee({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:r?l.primary25:"transparent",color:i?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:s?l.primary:l.primary50}})},KK=function(e){var n=e.children,i=e.isDisabled,r=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return ne("div",se({},Je(e,"option",{option:!0,"option--is-disabled":i,"option--is-focused":r,"option--is-selected":s}),{ref:o,"aria-disabled":i},a),n)},YK=KK,qK=function(e,n){var i=e.theme,r=i.spacing,s=i.colors;return ee({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},ZK=function(e){var n=e.children,i=e.innerProps;return ne("div",se({},Je(e,"placeholder",{placeholder:!0}),i),n)},JK=ZK,QK=function(e,n){var i=e.isDisabled,r=e.theme,s=r.spacing,o=r.colors;return ee({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:i?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},eY=function(e){var n=e.children,i=e.isDisabled,r=e.innerProps;return ne("div",se({},Je(e,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),r),n)},tY=eY,nY={ClearIndicator:yK,Control:bK,DropdownIndicator:pK,DownChevron:G4,CrossIcon:bv,Group:OK,GroupHeading:AK,IndicatorsContainer:hK,IndicatorSeparator:EK,Input:GK,LoadingIndicator:SK,Menu:ZH,MenuList:QH,MenuPortal:sK,LoadingMessage:iK,NoOptionsMessage:nK,MultiValue:XK,MultiValueContainer:zK,MultiValueLabel:BK,MultiValueRemove:VK,Option:YK,Placeholder:JK,SelectContainer:aK,SingleValue:tY,ValueContainer:uK},iY=function(e){return ee(ee({},nY),e.components)},iS=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function rY(t,e){return!!(t===e||iS(t)&&iS(e))}function sY(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!rY(t[n],e[n]))return!1;return!0}function oY(t,e){e===void 0&&(e=sY);var n=null;function i(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var o=t.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return i.clear=function(){n=null},i}var aY={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},lY=function(e){return ne("span",se({css:aY},e))},rS=lY,uY={guidance:function(e){var n=e.isSearchable,i=e.isMulti,r=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,i=e.label,r=i===void 0?"":i,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(e){var n=e.context,i=e.focused,r=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,u=e.isSelected,c=e.isAppleDevice,h=function(p,m){return p&&p.length?"".concat(p.indexOf(m)+1," of ").concat(p.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(h(a,i),".");if(n==="menu"&&c){var f=l?" disabled":"",g="".concat(u?" selected":"").concat(f);return"".concat(o).concat(g,", ").concat(h(r,i),".")}return""},onFilter:function(e){var n=e.inputValue,i=e.resultsMessage;return"".concat(i).concat(n?" for search term "+n:"",".")}},cY=function(e){var n=e.ariaSelection,i=e.focusedOption,r=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,u=e.id,c=e.isAppleDevice,h=l.ariaLiveMessages,f=l.getOptionLabel,g=l.inputValue,d=l.isMulti,p=l.isOptionDisabled,m=l.isSearchable,_=l.menuIsOpen,y=l.options,v=l.screenReaderStatus,E=l.tabSelectsValue,x=l.isLoading,S=l["aria-label"],w=l["aria-live"],C=T.useMemo(function(){return ee(ee({},uY),h||{})},[h]),M=T.useMemo(function(){var U="";if(n&&C.onChange){var j=n.option,B=n.options,P=n.removedValue,F=n.removedValues,D=n.value,G=function(ve){return Array.isArray(ve)?null:ve},R=P||j||G(D),X=R?f(R):"",K=B||F||void 0,H=K?K.map(f):[],J=ee({isDisabled:R&&p(R,a),label:X,labels:H},n);U=C.onChange(J)}return U},[n,C,p,a,f]),b=T.useMemo(function(){var U="",j=i||r,B=!!(i&&a&&a.includes(i));if(j&&C.onFocus){var P={focused:j,label:f(j),isDisabled:p(j,a),isSelected:B,options:s,context:j===i?"menu":"value",selectValue:a,isAppleDevice:c};U=C.onFocus(P)}return U},[i,r,f,p,C,s,a,c]),L=T.useMemo(function(){var U="";if(_&&y.length&&!x&&C.onFilter){var j=v({count:s.length});U=C.onFilter({inputValue:g,resultsMessage:j})}return U},[s,g,_,C,y,v,x]),O=(n==null?void 0:n.action)==="initial-input-focus",N=T.useMemo(function(){var U="";if(C.guidance){var j=r?"value":_?"menu":"input";U=C.guidance({"aria-label":S,context:j,isDisabled:i&&p(i,a),isMulti:d,isSearchable:m,tabSelectsValue:E,isInitialFocus:O})}return U},[S,i,r,d,p,m,_,C,a,E,O]),$=ne(T.Fragment,null,ne("span",{id:"aria-selection"},M),ne("span",{id:"aria-focused"},b),ne("span",{id:"aria-results"},L),ne("span",{id:"aria-guidance"},N));return ne(T.Fragment,null,ne(rS,{id:u},O&&$),ne(rS,{"aria-live":w,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!O&&$))},hY=cY,x_=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],fY=new RegExp("["+x_.map(function(t){return t.letters}).join("")+"]","g"),z4={};for(var om=0;om<x_.length;om++)for(var am=x_[om],lm=0;lm<am.letters.length;lm++)z4[am.letters[lm]]=am.base;var B4=function(e){return e.replace(fY,function(n){return z4[n]})},dY=oY(B4),sS=function(e){return e.replace(/^\s+|\s+$/g,"")},gY=function(e){return"".concat(e.label," ").concat(e.value)},mY=function(e){return function(n,i){if(n.data.__isNew__)return!0;var r=ee({ignoreCase:!0,ignoreAccents:!0,stringify:gY,trim:!0,matchFrom:"any"},e),s=r.ignoreCase,o=r.ignoreAccents,a=r.stringify,l=r.trim,u=r.matchFrom,c=l?sS(i):i,h=l?sS(a(n)):a(n);return s&&(c=c.toLowerCase(),h=h.toLowerCase()),o&&(c=dY(c),h=B4(h)),u==="start"?h.substr(0,c.length)===c:h.indexOf(c)>-1}},pY=["innerRef"];function _Y(t){var e=t.innerRef,n=Bi(t,pY),i=BH(n,"onExited","in","enter","exit","appear");return ne("input",se({ref:e},i,{css:wv({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var yY=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function vY(t){var e=t.isEnabled,n=t.onBottomArrive,i=t.onBottomLeave,r=t.onTopArrive,s=t.onTopLeave,o=T.useRef(!1),a=T.useRef(!1),l=T.useRef(0),u=T.useRef(null),c=T.useCallback(function(m,_){if(u.current!==null){var y=u.current,v=y.scrollTop,E=y.scrollHeight,x=y.clientHeight,S=u.current,w=_>0,C=E-x-v,M=!1;C>_&&o.current&&(i&&i(m),o.current=!1),w&&a.current&&(s&&s(m),a.current=!1),w&&_>C?(n&&!o.current&&n(m),S.scrollTop=E,M=!0,o.current=!0):!w&&-_>v&&(r&&!a.current&&r(m),S.scrollTop=0,M=!0,a.current=!0),M&&yY(m)}},[n,i,r,s]),h=T.useCallback(function(m){c(m,m.deltaY)},[c]),f=T.useCallback(function(m){l.current=m.changedTouches[0].clientY},[]),g=T.useCallback(function(m){var _=l.current-m.changedTouches[0].clientY;c(m,_)},[c]),d=T.useCallback(function(m){if(m){var _=jH?{passive:!1}:!1;m.addEventListener("wheel",h,_),m.addEventListener("touchstart",f,_),m.addEventListener("touchmove",g,_)}},[g,f,h]),p=T.useCallback(function(m){m&&(m.removeEventListener("wheel",h,!1),m.removeEventListener("touchstart",f,!1),m.removeEventListener("touchmove",g,!1))},[g,f,h]);return T.useEffect(function(){if(e){var m=u.current;return d(m),function(){p(m)}}},[e,d,p]),function(m){u.current=m}}var oS=["boxSizing","height","overflow","paddingRight","position"],aS={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function lS(t){t.cancelable&&t.preventDefault()}function uS(t){t.stopPropagation()}function cS(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function hS(){return"ontouchstart"in window||navigator.maxTouchPoints}var fS=!!(typeof window<"u"&&window.document&&window.document.createElement),bl=0,xo={capture:!1,passive:!1};function EY(t){var e=t.isEnabled,n=t.accountForScrollbars,i=n===void 0?!0:n,r=T.useRef({}),s=T.useRef(null),o=T.useCallback(function(l){if(fS){var u=document.body,c=u&&u.style;if(i&&oS.forEach(function(d){var p=c&&c[d];r.current[d]=p}),i&&bl<1){var h=parseInt(r.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,g=window.innerWidth-f+h||0;Object.keys(aS).forEach(function(d){var p=aS[d];c&&(c[d]=p)}),c&&(c.paddingRight="".concat(g,"px"))}u&&hS()&&(u.addEventListener("touchmove",lS,xo),l&&(l.addEventListener("touchstart",cS,xo),l.addEventListener("touchmove",uS,xo))),bl+=1}},[i]),a=T.useCallback(function(l){if(fS){var u=document.body,c=u&&u.style;bl=Math.max(bl-1,0),i&&bl<1&&oS.forEach(function(h){var f=r.current[h];c&&(c[h]=f)}),u&&hS()&&(u.removeEventListener("touchmove",lS,xo),l&&(l.removeEventListener("touchstart",cS,xo),l.removeEventListener("touchmove",uS,xo)))}},[i]);return T.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var xY=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},wY={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function SY(t){var e=t.children,n=t.lockEnabled,i=t.captureEnabled,r=i===void 0?!0:i,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,u=vY({isEnabled:r,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),c=EY({isEnabled:n}),h=function(g){u(g),c(g)};return ne(T.Fragment,null,n&&ne("div",{onClick:xY,css:wY}),e(h))}var CY={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},TY=function(e){var n=e.name,i=e.onFocus;return ne("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:CY,value:"",onChange:function(){}})},bY=TY;function Mv(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function MY(){return Mv(/^iPhone/i)}function V4(){return Mv(/^Mac/i)}function RY(){return Mv(/^iPad/i)||V4()&&navigator.maxTouchPoints>1}function PY(){return MY()||RY()}function IY(){return V4()||PY()}var AY=function(e){return e.label},OY=function(e){return e.label},LY=function(e){return e.value},kY=function(e){return!!e.isDisabled},FY={clearIndicator:_K,container:oK,control:CK,dropdownIndicator:mK,group:RK,groupHeading:IK,indicatorsContainer:cK,indicatorSeparator:vK,input:kK,loadingIndicator:wK,loadingMessage:tK,menu:KH,menuList:JH,menuPortal:rK,multiValue:UK,multiValueLabel:jK,multiValueRemove:$K,noOptionsMessage:eK,option:HK,placeholder:qK,singleValue:QK,valueContainer:lK},DY={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},NY=4,W4=4,GY=38,UY=W4*2,jY={baseUnit:W4,controlHeight:GY,menuGutter:UY},um={borderRadius:NY,colors:DY,spacing:jY},$Y={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:tS(),captureMenuScroll:!tS(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:mY(),formatGroupLabel:AY,getOptionLabel:OY,getOptionValue:LY,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:kY,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!GH(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function dS(t,e,n,i){var r=K4(t,e,n),s=Y4(t,e,n),o=H4(t,e),a=pd(t,e);return{type:"option",data:e,isDisabled:r,isSelected:s,label:o,value:a,index:i}}function af(t,e){return t.options.map(function(n,i){if("options"in n){var r=n.options.map(function(o,a){return dS(t,o,e,a)}).filter(function(o){return mS(t,o)});return r.length>0?{type:"group",data:n,options:r,index:i}:void 0}var s=dS(t,n,e,i);return mS(t,s)?s:void 0}).filter($H)}function X4(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,gv(n.options.map(function(i){return i.data}))):e.push(n.data),e},[])}function gS(t,e){return t.reduce(function(n,i){return i.type==="group"?n.push.apply(n,gv(i.options.map(function(r){return{data:r.data,id:"".concat(e,"-").concat(i.index,"-").concat(r.index)}}))):n.push({data:i.data,id:"".concat(e,"-").concat(i.index)}),n},[])}function zY(t,e){return X4(af(t,e))}function mS(t,e){var n=t.inputValue,i=n===void 0?"":n,r=e.data,s=e.isSelected,o=e.label,a=e.value;return(!Z4(t)||!s)&&q4(t,{label:o,value:a,data:r},i)}function BY(t,e){var n=t.focusedValue,i=t.selectValue,r=i.indexOf(n);if(r>-1){var s=e.indexOf(n);if(s>-1)return n;if(r<e.length)return e[r]}return null}function VY(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var cm=function(e,n){var i,r=(i=e.find(function(s){return s.data===n}))===null||i===void 0?void 0:i.id;return r||null},H4=function(e,n){return e.getOptionLabel(n)},pd=function(e,n){return e.getOptionValue(n)};function K4(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function Y4(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var i=pd(t,e);return n.some(function(r){return pd(t,r)===i})}function q4(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var Z4=function(e){var n=e.hideSelectedOptions,i=e.isMulti;return n===void 0?i:n},WY=1,J4=function(t){nX(n,t);var e=sX(n);function n(i){var r;if(eX(this,n),r=e.call(this,i),r.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(l){r.controlRef=l},r.focusedOptionRef=null,r.getFocusedOptionRef=function(l){r.focusedOptionRef=l},r.menuListRef=null,r.getMenuListRef=function(l){r.menuListRef=l},r.inputRef=null,r.getInputRef=function(l){r.inputRef=l},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(l,u){var c=r.props,h=c.onChange,f=c.name;u.name=f,r.ariaOnChange(l,u),h(l,u)},r.setValue=function(l,u,c){var h=r.props,f=h.closeMenuOnSelect,g=h.isMulti,d=h.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:d}),f&&(r.setState({inputIsHiddenAfterUpdate:!g}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(l,{action:u,option:c})},r.selectOption=function(l){var u=r.props,c=u.blurInputOnSelect,h=u.isMulti,f=u.name,g=r.state.selectValue,d=h&&r.isOptionSelected(l,g),p=r.isOptionDisabled(l,g);if(d){var m=r.getOptionValue(l);r.setValue(g.filter(function(_){return r.getOptionValue(_)!==m}),"deselect-option",l)}else if(!p)h?r.setValue([].concat(gv(g),[l]),"select-option",l):r.setValue(l,"select-option");else{r.ariaOnChange(l,{action:"select-option",option:l,name:f});return}c&&r.blurInput()},r.removeValue=function(l){var u=r.props.isMulti,c=r.state.selectValue,h=r.getOptionValue(l),f=c.filter(function(d){return r.getOptionValue(d)!==h}),g=Ph(u,f,f[0]||null);r.onChange(g,{action:"remove-value",removedValue:l}),r.focusInput()},r.clearValue=function(){var l=r.state.selectValue;r.onChange(Ph(r.props.isMulti,[],null),{action:"clear",removedValues:l})},r.popValue=function(){var l=r.props.isMulti,u=r.state.selectValue,c=u[u.length-1],h=u.slice(0,u.length-1),f=Ph(l,h,h[0]||null);c&&r.onChange(f,{action:"pop-value",removedValue:c})},r.getFocusedOptionId=function(l){return cm(r.state.focusableOptionsWithIds,l)},r.getFocusableOptionsWithIds=function(){return gS(af(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return OH.apply(void 0,[r.props.classNamePrefix].concat(u))},r.getOptionLabel=function(l){return H4(r.props,l)},r.getOptionValue=function(l){return pd(r.props,l)},r.getStyles=function(l,u){var c=r.props.unstyled,h=FY[l](u,c);h.boxSizing="border-box";var f=r.props.styles[l];return f?f(h,u):h},r.getClassNames=function(l,u){var c,h;return(c=(h=r.props.classNames)[l])===null||c===void 0?void 0:c.call(h,u)},r.getElementId=function(l){return"".concat(r.state.instancePrefix,"-").concat(l)},r.getComponents=function(){return iY(r.props)},r.buildCategorizedOptions=function(){return af(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return X4(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(l,u){r.setState({ariaSelection:ee({value:l},u)})},r.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(l){r.blockOptionHover=!1},r.onControlMouseDown=function(l){if(!l.defaultPrevented){var u=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&r.onMenuClose():u&&r.openMenu("first"):(u&&(r.openAfterFocus=!0),r.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},r.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!r.props.isDisabled){var u=r.props,c=u.isMulti,h=u.menuIsOpen;r.focusInput(),h?(r.setState({inputIsHiddenAfterUpdate:!c}),r.onMenuClose()):r.openMenu("first"),l.preventDefault()}},r.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(r.clearValue(),l.preventDefault(),r.openAfterFocus=!1,l.type==="touchend"?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(l){typeof r.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Pg(l.target)&&r.props.onMenuClose():typeof r.props.closeMenuOnScroll=="function"&&r.props.closeMenuOnScroll(l)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(l){var u=l.touches,c=u&&u.item(0);c&&(r.initialTouchX=c.clientX,r.initialTouchY=c.clientY,r.userIsDragging=!1)},r.onTouchMove=function(l){var u=l.touches,c=u&&u.item(0);if(c){var h=Math.abs(c.clientX-r.initialTouchX),f=Math.abs(c.clientY-r.initialTouchY),g=5;r.userIsDragging=h>g||f>g}},r.onTouchEnd=function(l){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(l.target)&&r.menuListRef&&!r.menuListRef.contains(l.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(l){r.userIsDragging||r.onControlMouseDown(l)},r.onClearIndicatorTouchEnd=function(l){r.userIsDragging||r.onClearIndicatorMouseDown(l)},r.onDropdownIndicatorTouchEnd=function(l){r.userIsDragging||r.onDropdownIndicatorMouseDown(l)},r.handleInputChange=function(l){var u=r.props.inputValue,c=l.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(c,{action:"input-change",prevInputValue:u}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(l){r.props.onFocus&&r.props.onFocus(l),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(l){var u=r.props.inputValue;if(r.menuListRef&&r.menuListRef.contains(document.activeElement)){r.inputRef.focus();return}r.props.onBlur&&r.props.onBlur(l),r.onInputChange("",{action:"input-blur",prevInputValue:u}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1})},r.onOptionHover=function(l){if(!(r.blockOptionHover||r.state.focusedOption===l)){var u=r.getFocusableOptions(),c=u.indexOf(l);r.setState({focusedOption:l,focusedOptionId:c>-1?r.getFocusedOptionId(l):null})}},r.shouldHideSelectedOptions=function(){return Z4(r.props)},r.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),r.focus()},r.onKeyDown=function(l){var u=r.props,c=u.isMulti,h=u.backspaceRemovesValue,f=u.escapeClearsValue,g=u.inputValue,d=u.isClearable,p=u.isDisabled,m=u.menuIsOpen,_=u.onKeyDown,y=u.tabSelectsValue,v=u.openMenuOnFocus,E=r.state,x=E.focusedOption,S=E.focusedValue,w=E.selectValue;if(!p&&!(typeof _=="function"&&(_(l),l.defaultPrevented))){switch(r.blockOptionHover=!0,l.key){case"ArrowLeft":if(!c||g)return;r.focusValue("previous");break;case"ArrowRight":if(!c||g)return;r.focusValue("next");break;case"Delete":case"Backspace":if(g)return;if(S)r.removeValue(S);else{if(!h)return;c?r.popValue():d&&r.clearValue()}break;case"Tab":if(r.isComposing||l.shiftKey||!m||!y||!x||v&&r.isOptionSelected(x,w))return;r.selectOption(x);break;case"Enter":if(l.keyCode===229)break;if(m){if(!x||r.isComposing)return;r.selectOption(x);break}return;case"Escape":m?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:g}),r.onMenuClose()):d&&f&&r.clearValue();break;case" ":if(g)return;if(!m){r.openMenu("first");break}if(!x)return;r.selectOption(x);break;case"ArrowUp":m?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":m?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!m)return;r.focusOption("pageup");break;case"PageDown":if(!m)return;r.focusOption("pagedown");break;case"Home":if(!m)return;r.focusOption("first");break;case"End":if(!m)return;r.focusOption("last");break;default:return}l.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++WY),r.state.selectValue=Qw(i.value),i.menuIsOpen&&r.state.selectValue.length){var s=r.getFocusableOptionsWithIds(),o=r.buildFocusableOptions(),a=o.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=s,r.state.focusedOption=o[a],r.state.focusedOptionId=cm(s,o[a])}return r}return tX(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&eS(this.menuListRef,this.focusedOptionRef),IY()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(r){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&r.isDisabled||l&&a&&!r.menuIsOpen)&&this.focusInput(),l&&o&&!r.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&r.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(eS(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,s){this.props.onInputChange(r,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(r){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,u=this.buildFocusableOptions(),c=r==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(a[0]);h>-1&&(c=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c],focusedOptionId:this.getFocusedOptionId(u[c])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(r){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var u=o.length-1,c=-1;if(o.length){switch(r){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(o);o||(u=-1),r==="up"?l=u>0?u-1:a.length-1:r==="down"?l=(u+1)%a.length:r==="pageup"?(l=u-s,l<0&&(l=0)):r==="pagedown"?(l=u+s,l>a.length-1&&(l=a.length-1)):r==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(um):ee(ee({},um),this.props.theme):um}},{key:"getCommonProps",value:function(){var r=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,h=this.props,f=h.isMulti,g=h.isRtl,d=h.options,p=this.hasValue();return{clearValue:r,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:p,isMulti:f,isRtl:g,options:d,selectOption:u,selectProps:h,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,s=r.isClearable,o=r.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(r,s){return K4(this.props,r,s)}},{key:"isOptionSelected",value:function(r,s){return Y4(this.props,r,s)}},{key:"filterOption",value:function(r,s){return q4(this.props,r,s)}},{key:"formatOptionLabel",value:function(r,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(r,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,s=r.isDisabled,o=r.isSearchable,a=r.inputId,l=r.inputValue,u=r.tabIndex,c=r.form,h=r.menuIsOpen,f=r.required,g=this.getComponents(),d=g.Input,p=this.state,m=p.inputIsHidden,_=p.ariaSelection,y=this.commonProps,v=a||this.getElementId("input"),E=ee(ee(ee({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(_==null?void 0:_.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?T.createElement(d,se({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:s,isHidden:m,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},E)):T.createElement(_Y,se({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:gd,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:c,value:""},E))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,u=s.MultiValueRemove,c=s.SingleValue,h=s.Placeholder,f=this.commonProps,g=this.props,d=g.controlShouldRenderValue,p=g.isDisabled,m=g.isMulti,_=g.inputValue,y=g.placeholder,v=this.state,E=v.selectValue,x=v.focusedValue,S=v.isFocused;if(!this.hasValue()||!d)return _?null:T.createElement(h,se({},f,{key:"placeholder",isDisabled:p,isFocused:S,innerProps:{id:this.getElementId("placeholder")}}),y);if(m)return E.map(function(C,M){var b=C===x,L="".concat(r.getOptionLabel(C),"-").concat(r.getOptionValue(C));return T.createElement(o,se({},f,{components:{Container:a,Label:l,Remove:u},isFocused:b,isDisabled:p,key:L,index:M,removeProps:{onClick:function(){return r.removeValue(C)},onTouchEnd:function(){return r.removeValue(C)},onMouseDown:function(N){N.preventDefault()}},data:C}),r.formatOptionLabel(C,"value"))});if(_)return null;var w=E[0];return T.createElement(c,se({},f,{data:w,isDisabled:p}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),s=r.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(s,se({},o,{innerProps:h,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),s=r.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!s||!u)return null;var h={"aria-hidden":"true"};return T.createElement(s,se({},o,{innerProps:h,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator,o=r.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return T.createElement(o,se({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(s,se({},o,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var r=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,u=s.MenuList,c=s.MenuPortal,h=s.LoadingMessage,f=s.NoOptionsMessage,g=s.Option,d=this.commonProps,p=this.state.focusedOption,m=this.props,_=m.captureMenuScroll,y=m.inputValue,v=m.isLoading,E=m.loadingMessage,x=m.minMenuHeight,S=m.maxMenuHeight,w=m.menuIsOpen,C=m.menuPlacement,M=m.menuPosition,b=m.menuPortalTarget,L=m.menuShouldBlockScroll,O=m.menuShouldScrollIntoView,N=m.noOptionsMessage,$=m.onMenuScrollToTop,U=m.onMenuScrollToBottom;if(!w)return null;var j=function(X,K){var H=X.type,J=X.data,te=X.isDisabled,ve=X.isSelected,Ge=X.label,ze=X.value,Hn=p===J,Kn=te?void 0:function(){return r.onOptionHover(J)},Yn=te?void 0:function(){return r.selectOption(J)},Zt="".concat(r.getElementId("option"),"-").concat(K),rt={id:Zt,onClick:Yn,onMouseMove:Kn,onMouseOver:Kn,tabIndex:-1,role:"option","aria-selected":r.state.isAppleDevice?void 0:ve};return T.createElement(g,se({},d,{innerProps:rt,data:J,isDisabled:te,isSelected:ve,key:Zt,label:Ge,type:H,value:ze,isFocused:Hn,innerRef:Hn?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(X.data,"menu"))},B;if(this.hasOptions())B=this.getCategorizedOptions().map(function(R){if(R.type==="group"){var X=R.data,K=R.options,H=R.index,J="".concat(r.getElementId("group"),"-").concat(H),te="".concat(J,"-heading");return T.createElement(o,se({},d,{key:J,data:X,options:K,Heading:a,headingProps:{id:te,data:R.data},label:r.formatGroupLabel(R.data)}),R.options.map(function(ve){return j(ve,"".concat(H,"-").concat(ve.index))}))}else if(R.type==="option")return j(R,"".concat(R.index))});else if(v){var P=E({inputValue:y});if(P===null)return null;B=T.createElement(h,d,P)}else{var F=N({inputValue:y});if(F===null)return null;B=T.createElement(f,d,F)}var D={minMenuHeight:x,maxMenuHeight:S,menuPlacement:C,menuPosition:M,menuShouldScrollIntoView:O},G=T.createElement(YH,se({},d,D),function(R){var X=R.ref,K=R.placerProps,H=K.placement,J=K.maxHeight;return T.createElement(l,se({},d,D,{innerRef:X,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:v,placement:H}),T.createElement(SY,{captureEnabled:_,onTopArrive:$,onBottomArrive:U,lockEnabled:L},function(te){return T.createElement(u,se({},d,{innerRef:function(Ge){r.getMenuListRef(Ge),te(Ge)},innerProps:{role:"listbox","aria-multiselectable":d.isMulti,id:r.getElementId("listbox")},isLoading:v,maxHeight:J,focusedOption:p}),B)}))});return b||M==="fixed"?T.createElement(c,se({},d,{appendTo:b,controlElement:this.controlRef,menuPlacement:C,menuPosition:M}),G):G}},{key:"renderFormField",value:function(){var r=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,u=s.name,c=s.required,h=this.state.selectValue;if(c&&!this.hasValue()&&!a)return T.createElement(bY,{name:u,onFocus:this.onValueInputFocus});if(!(!u||a))if(l)if(o){var f=h.map(function(p){return r.getOptionValue(p)}).join(o);return T.createElement("input",{name:u,type:"hidden",value:f})}else{var g=h.length>0?h.map(function(p,m){return T.createElement("input",{key:"i-".concat(m),name:u,type:"hidden",value:r.getOptionValue(p)})}):T.createElement("input",{name:u,type:"hidden",value:""});return T.createElement("div",null,g)}else{var d=h[0]?this.getOptionValue(h[0]):"";return T.createElement("input",{name:u,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,u=s.isFocused,c=s.selectValue,h=this.getFocusableOptions();return T.createElement(hY,se({},r,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:h,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var r=this.getComponents(),s=r.Control,o=r.IndicatorsContainer,a=r.SelectContainer,l=r.ValueContainer,u=this.props,c=u.className,h=u.id,f=u.isDisabled,g=u.menuIsOpen,d=this.state.isFocused,p=this.commonProps=this.getCommonProps();return T.createElement(a,se({},p,{className:c,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:d}),this.renderLiveRegion(),T.createElement(s,se({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:d,menuIsOpen:g}),T.createElement(l,se({},p,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),T.createElement(o,se({},p,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,c=s.isFocused,h=s.prevWasFocused,f=s.instancePrefix,g=r.options,d=r.value,p=r.menuIsOpen,m=r.inputValue,_=r.isMulti,y=Qw(d),v={};if(o&&(d!==o.value||g!==o.options||p!==o.menuIsOpen||m!==o.inputValue)){var E=p?zY(r,y):[],x=p?gS(af(r,y),"".concat(f,"-option")):[],S=a?BY(s,y):null,w=VY(s,E),C=cm(x,w);v={selectValue:y,focusedOption:w,focusedOptionId:C,focusableOptionsWithIds:x,focusedValue:S,clearFocusValueOnUpdate:!1}}var M=l!=null&&r!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},b=u,L=c&&h;return c&&!L&&(b={value:Ph(_,y,y[0]||null),options:y,action:"initial-input-focus"},L=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(b=null),ee(ee(ee({},v),M),{},{prevProps:r,ariaSelection:b,prevWasFocused:L})}}]),n}(T.Component);J4.defaultProps=$Y;var XY=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function HY(t){var e=t.defaultInputValue,n=e===void 0?"":e,i=t.defaultMenuIsOpen,r=i===void 0?!1:i,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,u=t.onChange,c=t.onInputChange,h=t.onMenuClose,f=t.onMenuOpen,g=t.value,d=Bi(t,XY),p=T.useState(a!==void 0?a:n),m=dt(p,2),_=m[0],y=m[1],v=T.useState(l!==void 0?l:r),E=dt(v,2),x=E[0],S=E[1],w=T.useState(g!==void 0?g:o),C=dt(w,2),M=C[0],b=C[1],L=T.useCallback(function(P,F){typeof u=="function"&&u(P,F),b(P)},[u]),O=T.useCallback(function(P,F){var D;typeof c=="function"&&(D=c(P,F)),y(D!==void 0?D:P)},[c]),N=T.useCallback(function(){typeof f=="function"&&f(),S(!0)},[f]),$=T.useCallback(function(){typeof h=="function"&&h(),S(!1)},[h]),U=a!==void 0?a:_,j=l!==void 0?l:x,B=g!==void 0?g:M;return ee(ee({},d),{},{inputValue:U,menuIsOpen:j,onChange:L,onInputChange:O,onMenuClose:$,onMenuOpen:N,value:B})}var KY=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];function YY(t){var e=t.defaultOptions,n=e===void 0?!1:e,i=t.cacheOptions,r=i===void 0?!1:i,s=t.loadOptions;t.options;var o=t.isLoading,a=o===void 0?!1:o,l=t.onInputChange,u=t.filterOption,c=u===void 0?null:u,h=Bi(t,KY),f=h.inputValue,g=T.useRef(void 0),d=T.useRef(!1),p=T.useState(Array.isArray(n)?n:void 0),m=dt(p,2),_=m[0],y=m[1],v=T.useState(typeof f<"u"?f:""),E=dt(v,2),x=E[0],S=E[1],w=T.useState(n===!0),C=dt(w,2),M=C[0],b=C[1],L=T.useState(void 0),O=dt(L,2),N=O[0],$=O[1],U=T.useState([]),j=dt(U,2),B=j[0],P=j[1],F=T.useState(!1),D=dt(F,2),G=D[0],R=D[1],X=T.useState({}),K=dt(X,2),H=K[0],J=K[1],te=T.useState(void 0),ve=dt(te,2),Ge=ve[0],ze=ve[1],Hn=T.useState(void 0),Kn=dt(Hn,2),Yn=Kn[0],Zt=Kn[1];r!==Yn&&(J({}),Zt(r)),n!==Ge&&(y(Array.isArray(n)?n:void 0),ze(n)),T.useEffect(function(){return d.current=!0,function(){d.current=!1}},[]);var rt=T.useCallback(function(Pn,In){if(!s)return In();var Qe=s(Pn,In);Qe&&typeof Qe.then=="function"&&Qe.then(In,function(){return In()})},[s]);T.useEffect(function(){n===!0&&rt(x,function(Pn){d.current&&(y(Pn||[]),b(!!g.current))})},[]);var Jt=T.useCallback(function(Pn,In){var Qe=LH(Pn,In,l);if(!Qe){g.current=void 0,S(""),$(""),P([]),b(!1),R(!1);return}if(r&&H[Qe])S(Qe),$(Qe),P(H[Qe]),b(!1),R(!1);else{var wr=g.current={};S(Qe),b(!0),R(!N),rt(Qe,function(_i){d&&wr===g.current&&(g.current=void 0,b(!1),$(Qe),P(_i||[]),R(!1),J(_i?ee(ee({},H),{},Jo({},Qe,_i)):H))})}},[r,rt,N,H,l]),xr=G?[]:x&&N?B:_||[];return ee(ee({},h),{},{options:xr,isLoading:M||a,onInputChange:Jt,filterOption:c})}var qY=T.forwardRef(function(t,e){var n=YY(t),i=HY(n);return T.createElement(J4,se({ref:e},i))}),ZY=qY;const JY=async t=>{try{const e=`${t.road} ${t.housenumber} ${t.postalcode}`,n=`https://api.dataforsyningen.dk/rest/gsearch/v2.0/husnummer?q=${encodeURIComponent(e)}&limit=99&srid=25832`,r=await(await fetch(n,{headers:{token:xn.API_STAC_TOKEN}})).json();if(!Array.isArray(r)||r.length===0)throw new Error("No houses found for the given address.");const s=r.find(a=>a.husnummertekst===t.housenumber&&a.postnummer===t.postalcode);if(!s||!s.geometri||!s.geometri.coordinates)throw new Error("House or coordinates not found in the response.");const o=s.geometri.coordinates[0];if(!Array.isArray(o)||o.length<2)throw new Error("Invalid coordinates found.");return o}catch(e){throw console.error("Error in addressToCoords:",e.message),e.message.includes("No houses found")&&console.warn("The address might be incorrect or not available in the dataset."),e}},QY=async t=>{const e=`https://api.dataforsyningen.dk/rest/gsearch/v2.0/husnummer?q=${t}&limit=100&srid=25832`;return(await(await fetch(e,{headers:{token:xn.API_STAC_TOKEN}})).json()).map(r=>({value:{road:r.vejnavn,housenumber:r.husnummertekst,postalcode:r.postnummer},label:`${r.visningstekst}, ${r.postnummer}`}))};function Rv({setCoordinates:t=null,setAddress:e=null}){const n=async r=>{t&&t(await JY(r.value)),e&&e(r.value)},i=async r=>{if(r!=="")return await QY(r)};return A.jsx(A.Fragment,{children:A.jsx("div",{children:A.jsx(ZY,{cacheOptions:!0,defaultOptions:!0,loadOptions:i,onChange:n,placeholder:"Search..",isClearable:!0})})})}Ha.defs("EPSG:25832","+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs");Ha.defs("EPSG:4326","+proj=longlat +datum=WGS84 +no_defs");const eq=({setCoordinates:t})=>{const[e,n]=T.useState(null),i=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(r=>{const{latitude:s,longitude:o}=r.coords;try{const[a,l]=Ha("EPSG:4326","EPSG:25832",[o,s]);t([a,l]),n(null)}catch{n("Error converting coordinates.")}},r=>{n(r.message)}):n("Geolocation is not supported by this browser.")};return A.jsxs("div",{children:[A.jsx("button",{onClick:i,children:"Go to Current Location"}),e&&A.jsxs("p",{children:["Error: ",e]})]})},tq="skraafotos2021",nq=5;function iq(){const[t,e]=T.useState(null),[n,i]=T.useState([714841.046854,6194210065399e-6]),[r,s]=T.useState("north");return T.useEffect(()=>{Ky(n,r,tq,nq).then(o=>{if(o.features&&o.features.length>0){const a=o.features[0].assets.thumbnail.href;e(a)}else e(null)}).catch(o=>{console.error("Error fetching STAC items:",o)})},[r,n]),A.jsx(A.Fragment,{children:A.jsx("div",{className:"centerpage",children:A.jsxs("div",{className:"page col-9",children:[A.jsxs("div",{className:"title-and-search",children:[A.jsx("h2",{className:"white",children:"STAC API Image:"}),A.jsx("p",{className:"white",children:"Insert address to view oblique aerial images from multiple directions"}),A.jsx(Rv,{setCoordinates:i})]}),A.jsxs("div",{className:"response",children:[t?A.jsx(JW,{src:t,setDirection:s}):A.jsx("p",{children:"Loading image viewer..."}),A.jsx("div",{children:A.jsx(eq,{setCoordinates:i})})]})]})})})}class rq{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=Un,this.supportedMediaTypes=null}getReadOptions(e,n){if(n){let i=n.dataProjection?De(n.dataProjection):this.readProjection(e);n.extent&&i&&i.getUnits()==="tile-pixels"&&(i=De(i),i.setWorldExtent(n.extent)),n={dataProjection:i,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return le()}readFeature(e,n){return le()}readFeatures(e,n){return le()}readGeometry(e,n){return le()}readProjection(e){return le()}writeFeature(e,n){return le()}writeFeatures(e,n){return le()}writeGeometry(e,n){return le()}}function Pv(t,e,n){const i=n?De(n.featureProjection):null,r=n?De(n.dataProjection):null;let s=t;if(i&&r&&!$s(i,r)){e&&(s=t.clone());const o=e?i:r,a=e?r:i;o.getUnits()==="tile-pixels"?s.transform(o,a):s.applyTransform(Du(o,a))}if(e&&n&&n.decimals!==void 0){const o=Math.pow(10,n.decimals),a=function(l){for(let u=0,c=l.length;u<c;++u)l[u]=Math.round(l[u]*o)/o;return l};s===t&&(s=t.clone()),s.applyTransform(a)}return s}const sq={Point:Di,LineString:Ni,Polygon:$i,MultiPoint:Mc,MultiLineString:Fa,MultiPolygon:Da};function oq(t,e,n){return Array.isArray(e[0])?(WM(t,0,e,n)||(t=t.slice(),kp(t,0,e,n)),t):(w1(t,0,e,n)||(t=t.slice(),Zf(t,0,e,n)),t)}function Q4(t,e){var s;const n=t.geometry;if(!n)return[];if(Array.isArray(n))return n.map(o=>Q4({...t,geometry:o})).flat();const i=n.type==="MultiPolygon"?"Polygon":n.type;if(i==="GeometryCollection"||i==="Circle")throw new Error("Unsupported geometry type: "+i);const r=n.layout.length;return Pv(new _n(i,i==="Polygon"?oq(n.flatCoordinates,n.ends,r):n.flatCoordinates,(s=n.ends)==null?void 0:s.flat(),r,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function Iv(t,e){if(!t)return null;if(Array.isArray(t)){const i=t.map(r=>Iv(r,e));return new Ku(i)}const n=sq[t.type];return Pv(new n(t.flatCoordinates,t.layout||"XY",t.ends),!1,e)}class aq extends rq{constructor(){super()}getType(){return"json"}readFeature(e,n){return this.readFeatureFromObject(Ih(e),this.getReadOptions(e,n))}readFeatures(e,n){return this.readFeaturesFromObject(Ih(e),this.getReadOptions(e,n))}readFeatureFromObject(e,n){return le()}readFeaturesFromObject(e,n){return le()}readGeometry(e,n){return this.readGeometryFromObject(Ih(e),this.getReadOptions(e,n))}readGeometryFromObject(e,n){return le()}readProjection(e){return this.readProjectionFromObject(Ih(e))}readProjectionFromObject(e){return le()}writeFeature(e,n){return JSON.stringify(this.writeFeatureObject(e,n))}writeFeatureObject(e,n){return le()}writeFeatures(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))}writeFeaturesObject(e,n){return le()}writeGeometry(e,n){return JSON.stringify(this.writeGeometryObject(e,n))}writeGeometryObject(e,n){return le()}}function Ih(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}return t!==null?t:null}class hm extends aq{constructor(e){e=e||{},super(),this.dataProjection=De(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=De(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,n){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const r=Av(i.geometry);if(this.featureClass===_n)return Q4({geometry:r,id:i.id,properties:i.properties},n);const s=new Un;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&i.geometry_name&&s.setGeometryName(i.geometry_name),s.setGeometry(Iv(r,n)),"id"in i&&s.setId(i.id),i.properties&&s.setProperties(i.properties,!0),s}readFeaturesFromObject(e,n){const i=e;let r=null;if(i.type==="FeatureCollection"){const s=e;r=[];const o=s.features;for(let a=0,l=o.length;a<l;++a){const u=this.readFeatureFromObject(o[a],n);u&&r.push(u)}}else r=[this.readFeatureFromObject(e,n)];return r.flat()}readGeometryFromObject(e,n){return lq(e,n)}readProjectionFromObject(e){const n=e.crs;let i;if(n)if(n.type=="name")i=De(n.properties.name);else if(n.type==="EPSG")i=De("EPSG:"+n.properties.code);else throw new Error("Unknown SRS type");else i=this.dataProjection;return i}writeFeatureObject(e,n){n=this.adaptOptions(n);const i={type:"Feature",geometry:null,properties:null},r=e.getId();if(r!==void 0&&(i.id=r),!e.hasProperties())return i;const s=e.getProperties(),o=e.getGeometry();return o&&(i.geometry=w_(o,n),delete s[e.getGeometryName()]),qs(s)||(i.properties=s),i}writeFeaturesObject(e,n){n=this.adaptOptions(n);const i=[];for(let r=0,s=e.length;r<s;++r)i.push(this.writeFeatureObject(e[r],n));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,n){return w_(e,this.adaptOptions(n))}}function Av(t,e){if(!t)return null;let n;switch(t.type){case"Point":{n=cq(t);break}case"LineString":{n=hq(t);break}case"Polygon":{n=mq(t);break}case"MultiPoint":{n=dq(t);break}case"MultiLineString":{n=fq(t);break}case"MultiPolygon":{n=gq(t);break}case"GeometryCollection":{n=uq(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return n}function lq(t,e){const n=Av(t);return Iv(n,e)}function uq(t,e){return t.geometries.map(function(i){return Av(i)})}function cq(t){const e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:oo(e.length)}}function hq(t){var i;const e=t.coordinates,n=e.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:oo(((i=e[0])==null?void 0:i.length)||2)}}function fq(t){var s,o;const e=t.coordinates,n=((o=(s=e[0])==null?void 0:s[0])==null?void 0:o.length)||2,i=[],r=wc(i,0,e,n);return{type:"MultiLineString",flatCoordinates:i,ends:r,layout:oo(n)}}function dq(t){var n;const e=t.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:oo(((n=e[0])==null?void 0:n.length)||2)}}function gq(t){var s,o;const e=t.coordinates,n=[],i=((o=(s=e[0])==null?void 0:s[0])==null?void 0:o[0].length)||2,r=UM(n,0,e,i);return{type:"MultiPolygon",flatCoordinates:n,ends:r,layout:oo(i)}}function mq(t){var s,o;const e=t.coordinates,n=[],i=(o=(s=e[0])==null?void 0:s[0])==null?void 0:o.length,r=wc(n,0,e,i);return{type:"Polygon",flatCoordinates:n,ends:r,layout:oo(i)}}function w_(t,e){t=Pv(t,!0,e);const n=t.getType();let i;switch(n){case"Point":{i=xq(t);break}case"LineString":{i=_q(t);break}case"Polygon":{i=wq(t,e);break}case"MultiPoint":{i=vq(t);break}case"MultiLineString":{i=yq(t);break}case"MultiPolygon":{i=Eq(t,e);break}case"GeometryCollection":{i=pq(t,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return i}function pq(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(i){return w_(i,e)})}}function _q(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function yq(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function vq(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function Eq(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function xq(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function wq(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}const Sq={SELECT:"select"};class Cq extends mi{constructor(e,n,i,r){super(e),this.selected=n,this.deselected=i,this.mapBrowserEvent=r}}const Ah={};class Ov extends el{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:YG,this.addCondition_=e.addCondition?e.addCondition:jp,this.removeCondition_=e.removeCondition?e.removeCondition:jp,this.toggleCondition_=e.toggleCondition?e.toggleCondition:A1,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:is,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:Tq(),this.features_=e.features||new ii;let n;if(e.layers)if(typeof e.layers=="function")n=e.layers;else{const i=e.layers;n=function(r){return i.includes(r)}}else n=is;this.layerFilter_=n,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,n){this.featureLayerAssociation_[oe(e)]=n}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[oe(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(mt.ADD,this.boundAddFeature_),this.features_.addEventListener(mt.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(mt.ADD,this.boundAddFeature_),this.features_.removeEventListener(mt.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const n=e.element;if(this.style_&&this.applySelectedStyle_(n),!this.getLayer(n)){const i=this.getMap().getAllLayers().find(function(r){if(r instanceof bc&&r.getSource()&&r.getSource().hasFeature(n))return r});i&&this.addFeatureLayerAssociation_(n,i)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const n=oe(e);n in Ah||(Ah[n]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const n=this.getMap().getInteractions().getArray();for(let r=n.length-1;r>=0;--r){const s=n[r];if(s!==this&&s instanceof Ov&&s.getStyle()&&s.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(s.getStyle());return}}const i=oe(e);e.setStyle(Ah[i]),delete Ah[i]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[oe(e)]}handleEvent(e){if(!this.condition_(e))return!0;const n=this.addCondition_(e),i=this.removeCondition_(e),r=this.toggleCondition_(e),s=!n&&!i&&!r,o=e.map,a=this.getFeatures(),l=[],u=[];if(s){ro(this.featureLayerAssociation_),o.forEachFeatureAtPixel(e.pixel,(c,h)=>{if(!(!(c instanceof Un)||!this.filter_(c,h)))return this.addFeatureLayerAssociation_(c,h),u.push(c),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let c=a.getLength()-1;c>=0;--c){const h=a.item(c),f=u.indexOf(h);f>-1?u.splice(f,1):(a.remove(h),l.push(h))}u.length!==0&&a.extend(u)}else{o.forEachFeatureAtPixel(e.pixel,(c,h)=>{if(!(!(c instanceof Un)||!this.filter_(c,h)))return(n||r)&&!a.getArray().includes(c)?(this.addFeatureLayerAssociation_(c,h),u.push(c)):(i||r)&&a.getArray().includes(c)&&(l.push(c),this.removeFeatureLayerAssociation_(c)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let c=l.length-1;c>=0;--c)a.remove(l[c]);a.extend(u)}return(u.length>0||l.length>0)&&this.dispatchEvent(new Cq(Sq.SELECT,u,l,e)),!0}}function Tq(){const t=lR();return Bn(t.Polygon,t.LineString),Bn(t.GeometryCollection,t.LineString),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}const bq="/assets/loading-loader-ezgif.com-effects-BFPTKgHy.gif";function Mq(){const t=T.useRef(null),e=T.useRef(null),n=T.useRef(null),[i,r]=T.useState(null),[s,o]=T.useState(null),[a,l]=T.useState(null),[u,c]=T.useState(""),[h,f]=T.useState(!1);T.useEffect(()=>{const p=new fa,m=new bc({source:p,style:new an({fill:new zi({color:"rgba(255, 255, 255, 0.5)"}),stroke:new ar({color:"#545C5D",width:3})})}),_=new z1({target:t.current,layers:[new HR({source:new KR}),m],view:new Gn({center:[714841.046854,6194210065399e-6],zoom:10,projection:"EPSG:25832"})}),y=new XR({element:e.current,autoPan:{animation:{duration:250}}});_.addOverlay(y),r(_),o(m);const v=w=>{const C=w.coordinate;let M=null;if(_.forEachFeatureAtPixel(w.pixel,b=>(M=b,!0)),M){f(!0);const b=M.getProperties(),L=document.getElementById("popup-content");if(!L){console.error("Popup content element not found."),f(!1);return}let O="";if(b.doklink){if(b.gml_id){console.log("gml_id found in the feature properties:",b.gml_id);const N=E(b.gml_id);O=`
              <a href="${b.doklink}" target="_blank" style="color: blue; text-decoration: underline;">
                Open Doklink (${N})
              </a>`}else console.log("Doklink found in the feature properties (but no gml_id):",b),O=`
              <a href="${b.doklink}" target="_blank" style="color: blue; text-decoration: underline;">
                Open Doklink
              </a>`;L.innerHTML=O,y.setPosition(C)}else console.warn("No doklink found in the feature properties."),y.setPosition(void 0);f(!1)}else y.setPosition(void 0)},E=w=>{const C=w.split("_");return C[2]==="kommuneplan"?`${C[4].charAt(0).toUpperCase()+C[4].slice(1).toLowerCase()} Til ${C[2].charAt(0).toUpperCase()+C[2].slice(1).toLowerCase()} `:C[2]==="lokalplan"?`${C[3].charAt(0).toUpperCase()+C[3].slice(1).toLowerCase()} Til ${C[2].charAt(0).toUpperCase()+C[2].slice(1).toLowerCase()} `:null};_.on("singleclick",v);const x=w=>{w.preventDefault(),y.setPosition(void 0),n.current.blur()};n.current.addEventListener("click",x);const S=new Ov;return S.getFeatures().on("add",function(w){w.element}),_.addInteraction(S),()=>{_.un("singleclick",v),_.setTarget(null)}},[]),T.useEffect(()=>{a&&g()},[a]);const g=async()=>{try{f(!0);const p=await fetch(`${xn.api_base_url}/api/get_plandata/${a.road} ${a.housenumber}, ${a.postalcode}`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const m=await p.json();!m.komuneplan&&!m.lokalplan&&console.warn("No polygons found for the address.");const _=new fa;m.komuneplan&&_.addFeatures(new hm().readFeatures(m.komuneplan,{dataProjection:"EPSG:25832",featureProjection:i.getView().getProjection()})),m.lokalplan&&_.addFeatures(new hm().readFeatures(m.lokalplan,{dataProjection:"EPSG:25832",featureProjection:i.getView().getProjection()})),s.setSource(_)}catch(p){console.error("Error fetching polygons:",p)}finally{f(!1)}},d=async()=>{if(!u){s&&s.getSource()&&(s.getSource().clear(),console.log("Map cleared because no feature was selected."));return}try{f(!0);const p=await fetch(`${xn.api_base_url}/api/toggle/${u}`);if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const m=await p.json();if(!m||!m.type){console.error("Invalid GeoJSON response:",m);return}const _=new fa({features:new hm().readFeatures(m,{dataProjection:"EPSG:25832",featureProjection:i.getView().getProjection()})});s.setSource(_)}catch(p){console.error("Error toggling feature:",p)}finally{f(!1)}};return T.useEffect(()=>{d()},[u]),A.jsxs("div",{className:"mapcenterpage",children:[A.jsx("div",{className:"map-header col-9",children:A.jsxs("div",{className:"toolbar",children:[A.jsx("div",{className:"title-and-search",children:A.jsx(Rv,{setAddress:l})}),A.jsx("p",{className:"white",children:"Insert address to view relevant zones"}),A.jsx("button",{className:"tool-btn",onClick:g,children:"Get Zones"}),A.jsx("div",{className:"select-container",children:A.jsxs("select",{className:"tool-select",value:u,onChange:p=>c(p.target.value),children:[A.jsx("option",{value:"",children:"Select Overlay"}),A.jsx("option",{value:"theme_pdk_kommuneplan_oversigt_forslag_v",children:"Forslag til kommuneplaner"}),A.jsx("option",{value:"theme_pdk_kommuneplan_oversigt_vedtaget_v",children:"Vedtagne kommuneplaner"}),A.jsx("option",{value:"theme_pdk_lokalplan_forslag_v",children:"Forslag til lokalplaner"}),A.jsx("option",{value:"theme_pdk_lokalplan_vedtaget_v",children:"Vedtagne lokalplaner"})]})}),A.jsx("p",{className:"white",children:"Select feature to view relevant zones"}),h&&A.jsx("div",{className:"loading",children:A.jsx("img",{src:bq,alt:"loading"})})]})}),A.jsxs("div",{className:"mappage col-9",children:[A.jsx("div",{id:"map",className:"geomap",ref:t}),A.jsxs("div",{id:"popup",className:"ol-popup",ref:e,children:[A.jsx("a",{href:"#",id:"popup-closer",className:"ol-popup-closer",ref:n}),A.jsx("div",{id:"popup-content"})]})]})]})}const Rq=({src:t,onClick:e})=>{const[n,i]=T.useState(1);return A.jsxs(tv,{className:"text-center",onClick:e,children:[" ",A.jsx("div",{className:"image-container-multi",children:A.jsx("div",{children:A.jsx("img",{src:t,alt:"Viewer",style:{transform:`scale(${n})`,transition:"transform 0.2s",maxWidth:"100%",height:"auto",userSelect:"none",WebkitUserDrag:"none"},className:"draggable-image"})})})]})},pS=["north","south","east","west","nadir"],Pq="skraafotos2023",Iq=5;function Aq(){const[t,e]=T.useState({}),[n,i]=T.useState({}),[r,s]=T.useState([725533.821587679,617636905807838e-8]),[o,a]=T.useState(null),[l,u]=T.useState("north"),[c,h]=T.useState(null),[f,g]=T.useState(null);return T.useEffect(()=>{if(!r)return;(async()=>{var v,E,x,S;const p={},m={},_={};let y=null;try{for(const w of pS)try{const C=await Ky(r,w,Pq,Iq);if(C.features&&C.features.length>0){const M=C.features[0],b=((E=(v=M.assets)==null?void 0:v.thumbnail)==null?void 0:E.href)||null,L=((S=(x=M.assets)==null?void 0:x.data)==null?void 0:S.href)||null,O=M;p[w]=b,m[w]=L,_[w]=O,w===l&&(y=M)}else console.warn(`No features found for ${w}`),p[w]=null,m[w]=null,_[w]=null}catch(C){console.error(`Error fetching STAC items for ${w}:`,C),p[w]=null,m[w]=null,_[w]=null}g(y),e(p),i(m)}catch(w){console.error("Error fetching images or related data:",w)}})()},[r,l]),T.useEffect(()=>{(async()=>{if(!(!r||!f))try{const p=await uM(xn.API_DHM_TOKENA,xn.API_DHM_TOKENB,r);a(p);const m=await cM(r,f,p);m&&m.imageCoord&&h(m.imageCoord)}catch(p){console.error("Error fetching elevation data or updating center:",p),a(null)}})()},[r,f]),A.jsx("div",{className:"centerpage",children:A.jsxs("div",{className:"page col-9 column",children:[A.jsx("div",{children:A.jsxs("div",{className:"title-and-search",children:[A.jsx(Rv,{setCoordinates:s}),A.jsx("p",{className:"white",children:"Insert address to view oblique aerial images from multiple directions"})]})}),A.jsxs("div",{className:"image-gallery",children:[n[l]&&A.jsx("div",{className:"high-quality-viewer",children:A.jsx(WR,{url:n[l],center:c})}),A.jsx("div",{className:"thumbnails",children:pS.filter(d=>d!==l).map(d=>A.jsxs("div",{className:"thumbnail-container",children:[A.jsx("p",{className:"direction-title",children:d.charAt(0).toUpperCase()+d.slice(1)}),t[d]?A.jsx(Rq,{src:t[d],onClick:()=>u(d)}):A.jsxs("p",{children:["Loading ",d," image..."]})]},d))})]})]})})}const Oq=()=>A.jsxs("div",{className:"error-page",children:[A.jsx("h1",{children:"404"}),A.jsx("h2",{children:"Page Not Found"}),A.jsx("p",{children:"Sorry, the page you're looking for doesn't exist."}),A.jsx(VT,{to:"/",className:"home-link",children:"Go Back to Home"})]});function Lq(){return A.jsx(LO,{children:A.jsx(TO,{children:A.jsxs(Ts,{path:"/",element:A.jsx(jO,{}),children:[A.jsx(Ts,{path:"map",element:A.jsx(J$,{})}),A.jsx(Ts,{path:"/zone",element:A.jsx(Mq,{})}),A.jsx(Ts,{path:"/test",element:A.jsx(iq,{})}),A.jsx(Ts,{path:"/multiviewer",element:A.jsx(Aq,{})}),A.jsx(Ts,{path:"*",element:A.jsx(Oq,{})})]})})})}IT(document.getElementById("root")).render(A.jsx(T.StrictMode,{children:A.jsx(Lq,{})}));export{Fq as L,Dq as a,Qu as g};
